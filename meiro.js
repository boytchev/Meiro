/**
 * Tween.js - Licensed under the MIT license
 * https://github.com/tweenjs/tween.js
 * ----------------------------------------------
 *
 * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.
 * Thank you all, you're awesome!
 */

var TWEEN = TWEEN || (function () {

	var _tweens = [];

	return {

		getAll: function () {

			return _tweens;

		},

		removeAll: function () {

			_tweens = [];

		},

		add: function (tween) {

			_tweens.push(tween);

		},

		remove: function (tween) {

			var i = _tweens.indexOf(tween);

			if (i !== -1) {
				_tweens.splice(i, 1);
			}

		},

		update: function (time, preserve) {

			if (_tweens.length === 0) {
				return false;
			}

			var i = 0;

			time = time !== undefined ? time : TWEEN.now();

			while (i < _tweens.length) {

				if (_tweens[i].update(time) || preserve) {
					i++;
				} else {
					_tweens.splice(i, 1);
				}

			}

			return true;

		}
	};

})();


// Include a performance.now polyfill.
// In node.js, use process.hrtime.
if (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {
	TWEEN.now = function () {
		var time = process.hrtime();

		// Convert [seconds, nanoseconds] to milliseconds.
		return time[0] * 1000 + time[1] / 1000000;
	};
}
// In a browser, use window.performance.now if it is available.
else if (typeof (window) !== 'undefined' &&
         window.performance !== undefined &&
		 window.performance.now !== undefined) {
	// This must be bound, because directly assigning this function
	// leads to an invocation exception in Chrome.
	TWEEN.now = window.performance.now.bind(window.performance);
}
// Use Date.now if it is available.
else if (Date.now !== undefined) {
	TWEEN.now = Date.now;
}
// Otherwise, use 'new Date().getTime()'.
else {
	TWEEN.now = function () {
		return new Date().getTime();
	};
}


TWEEN.Tween = function (object) {

	var _object = object;
	var _valuesStart = {};
	var _valuesEnd = {};
	var _valuesStartRepeat = {};
	var _duration = 1000;
	var _repeat = 0;
	var _repeatDelayTime;
	var _yoyo = false;
	var _isPlaying = false;
	var _reversed = false;
	var _delayTime = 0;
	var _startTime = null;
	var _easingFunction = TWEEN.Easing.Linear.None;
	var _interpolationFunction = TWEEN.Interpolation.Linear;
	var _chainedTweens = [];
	var _onStartCallback = null;
	var _onStartCallbackFired = false;
	var _onUpdateCallback = null;
	var _onCompleteCallback = null;
	var _onStopCallback = null;

	this.to = function (properties, duration) {

		_valuesEnd = properties;

		if (duration !== undefined) {
			_duration = duration;
		}

		return this;

	};

	this.start = function (time) {

		TWEEN.add(this);

		_isPlaying = true;

		_onStartCallbackFired = false;

		_startTime = time !== undefined ? time : TWEEN.now();
		_startTime += _delayTime;

		for (var property in _valuesEnd) {

			// Check if an Array was provided as property value
			if (_valuesEnd[property] instanceof Array) {

				if (_valuesEnd[property].length === 0) {
					continue;
				}

				// Create a local copy of the Array with the start value at the front
				_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);

			}

			// If `to()` specifies a property that doesn't exist in the source object,
			// we should not set that property in the object
			if (_object[property] === undefined) {
				continue;
			}

			// Save the starting value.
			_valuesStart[property] = _object[property];

			if ((_valuesStart[property] instanceof Array) === false) {
				_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings
			}

			_valuesStartRepeat[property] = _valuesStart[property] || 0;

		}

		return this;

	};

	this.stop = function () {

		if (!_isPlaying) {
			return this;
		}

		TWEEN.remove(this);
		_isPlaying = false;

		if (_onStopCallback !== null) {
			_onStopCallback.call(_object, _object);
		}

		this.stopChainedTweens();
		return this;

	};

	this.end = function () {

		this.update(_startTime + _duration);
		return this;

	};

	this.stopChainedTweens = function () {

		for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {
			_chainedTweens[i].stop();
		}

	};

	this.delay = function (amount) {

		_delayTime = amount;
		return this;

	};

	this.repeat = function (times) {

		_repeat = times;
		return this;

	};

	this.repeatDelay = function (amount) {

		_repeatDelayTime = amount;
		return this;

	};

	this.yoyo = function (yoyo) {

		_yoyo = yoyo;
		return this;

	};


	this.easing = function (easing) {

		_easingFunction = easing;
		return this;

	};

	this.interpolation = function (interpolation) {

		_interpolationFunction = interpolation;
		return this;

	};

	this.chain = function () {

		_chainedTweens = arguments;
		return this;

	};

	this.onStart = function (callback) {

		_onStartCallback = callback;
		return this;

	};

	this.onUpdate = function (callback) {

		_onUpdateCallback = callback;
		return this;

	};

	this.onComplete = function (callback) {

		_onCompleteCallback = callback;
		return this;

	};

	this.onStop = function (callback) {

		_onStopCallback = callback;
		return this;

	};

	this.update = function (time) {

		var property;
		var elapsed;
		var value;

		if (time < _startTime) {
			return true;
		}

		if (_onStartCallbackFired === false) {

			if (_onStartCallback !== null) {
				_onStartCallback.call(_object, _object);
			}

			_onStartCallbackFired = true;
		}

		elapsed = (time - _startTime) / _duration;
		elapsed = elapsed > 1 ? 1 : elapsed;

		value = _easingFunction(elapsed);

		for (property in _valuesEnd) {

			// Don't update properties that do not exist in the source object
			if (_valuesStart[property] === undefined) {
				continue;
			}

			var start = _valuesStart[property] || 0;
			var end = _valuesEnd[property];

			if (end instanceof Array) {

				_object[property] = _interpolationFunction(end, value);

			} else {

				// Parses relative end values with start as base (e.g.: +10, -3)
				if (typeof (end) === 'string') {

					if (end.charAt(0) === '+' || end.charAt(0) === '-') {
						end = start + parseFloat(end);
					} else {
						end = parseFloat(end);
					}
				}

				// Protect against non numeric properties.
				if (typeof (end) === 'number') {
					_object[property] = start + (end - start) * value;
				}

			}

		}

		if (_onUpdateCallback !== null) {
			_onUpdateCallback.call(_object, value);
		}

		if (elapsed === 1) {

			if (_repeat > 0) {

				if (isFinite(_repeat)) {
					_repeat--;
				}

				// Reassign starting values, restart by making startTime = now
				for (property in _valuesStartRepeat) {

					if (typeof (_valuesEnd[property]) === 'string') {
						_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);
					}

					if (_yoyo) {
						var tmp = _valuesStartRepeat[property];

						_valuesStartRepeat[property] = _valuesEnd[property];
						_valuesEnd[property] = tmp;
					}

					_valuesStart[property] = _valuesStartRepeat[property];

				}

				if (_yoyo) {
					_reversed = !_reversed;
				}

				if (_repeatDelayTime !== undefined) {
					_startTime = time + _repeatDelayTime;
				} else {
					_startTime = time + _delayTime;
				}

				return true;

			} else {

				if (_onCompleteCallback !== null) {

					_onCompleteCallback.call(_object, _object);
				}

				for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {
					// Make the chained tweens start exactly at the time they should,
					// even if the `update()` method was called way past the duration of the tween
					_chainedTweens[i].start(_startTime + _duration);
				}

				return false;

			}

		}

		return true;

	};

};


TWEEN.Easing = {

	Linear: {

		None: function (k) {

			return k;

		}

	},

	Quadratic: {

		In: function (k) {

			return k * k;

		},

		Out: function (k) {

			return k * (2 - k);

		},

		InOut: function (k) {

			if ((k *= 2) < 1) {
				return 0.5 * k * k;
			}

			return - 0.5 * (--k * (k - 2) - 1);

		}

	},

	Cubic: {

		In: function (k) {

			return k * k * k;

		},

		Out: function (k) {

			return --k * k * k + 1;

		},

		InOut: function (k) {

			if ((k *= 2) < 1) {
				return 0.5 * k * k * k;
			}

			return 0.5 * ((k -= 2) * k * k + 2);

		}

	},

	Quartic: {

		In: function (k) {

			return k * k * k * k;

		},

		Out: function (k) {

			return 1 - (--k * k * k * k);

		},

		InOut: function (k) {

			if ((k *= 2) < 1) {
				return 0.5 * k * k * k * k;
			}

			return - 0.5 * ((k -= 2) * k * k * k - 2);

		}

	},

	Quintic: {

		In: function (k) {

			return k * k * k * k * k;

		},

		Out: function (k) {

			return --k * k * k * k * k + 1;

		},

		InOut: function (k) {

			if ((k *= 2) < 1) {
				return 0.5 * k * k * k * k * k;
			}

			return 0.5 * ((k -= 2) * k * k * k * k + 2);

		}

	},

	Sinusoidal: {

		In: function (k) {

			return 1 - Math.cos(k * Math.PI / 2);

		},

		Out: function (k) {

			return Math.sin(k * Math.PI / 2);

		},

		InOut: function (k) {

			return 0.5 * (1 - Math.cos(Math.PI * k));

		}

	},

	Exponential: {

		In: function (k) {

			return k === 0 ? 0 : Math.pow(1024, k - 1);

		},

		Out: function (k) {

			return k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);

		},

		InOut: function (k) {

			if (k === 0) {
				return 0;
			}

			if (k === 1) {
				return 1;
			}

			if ((k *= 2) < 1) {
				return 0.5 * Math.pow(1024, k - 1);
			}

			return 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);

		}

	},

	Circular: {

		In: function (k) {

			return 1 - Math.sqrt(1 - k * k);

		},

		Out: function (k) {

			return Math.sqrt(1 - (--k * k));

		},

		InOut: function (k) {

			if ((k *= 2) < 1) {
				return - 0.5 * (Math.sqrt(1 - k * k) - 1);
			}

			return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);

		}

	},

	Elastic: {

		In: function (k) {

			if (k === 0) {
				return 0;
			}

			if (k === 1) {
				return 1;
			}

			return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);

		},

		Out: function (k) {

			if (k === 0) {
				return 0;
			}

			if (k === 1) {
				return 1;
			}

			return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;

		},

		InOut: function (k) {

			if (k === 0) {
				return 0;
			}

			if (k === 1) {
				return 1;
			}

			k *= 2;

			if (k < 1) {
				return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);
			}

			return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;

		}

	},

	Back: {

		In: function (k) {

			var s = 1.70158;

			return k * k * ((s + 1) * k - s);

		},

		Out: function (k) {

			var s = 1.70158;

			return --k * k * ((s + 1) * k + s) + 1;

		},

		InOut: function (k) {

			var s = 1.70158 * 1.525;

			if ((k *= 2) < 1) {
				return 0.5 * (k * k * ((s + 1) * k - s));
			}

			return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);

		}

	},

	Bounce: {

		In: function (k) {

			return 1 - TWEEN.Easing.Bounce.Out(1 - k);

		},

		Out: function (k) {

			if (k < (1 / 2.75)) {
				return 7.5625 * k * k;
			} else if (k < (2 / 2.75)) {
				return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;
			} else if (k < (2.5 / 2.75)) {
				return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;
			} else {
				return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;
			}

		},

		InOut: function (k) {

			if (k < 0.5) {
				return TWEEN.Easing.Bounce.In(k * 2) * 0.5;
			}

			return TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;

		}

	}

};

TWEEN.Interpolation = {

	Linear: function (v, k) {

		var m = v.length - 1;
		var f = m * k;
		var i = Math.floor(f);
		var fn = TWEEN.Interpolation.Utils.Linear;

		if (k < 0) {
			return fn(v[0], v[1], f);
		}

		if (k > 1) {
			return fn(v[m], v[m - 1], m - f);
		}

		return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);

	},

	Bezier: function (v, k) {

		var b = 0;
		var n = v.length - 1;
		var pw = Math.pow;
		var bn = TWEEN.Interpolation.Utils.Bernstein;

		for (var i = 0; i <= n; i++) {
			b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);
		}

		return b;

	},

	CatmullRom: function (v, k) {

		var m = v.length - 1;
		var f = m * k;
		var i = Math.floor(f);
		var fn = TWEEN.Interpolation.Utils.CatmullRom;

		if (v[0] === v[m]) {

			if (k < 0) {
				i = Math.floor(f = m * (1 + k));
			}

			return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);

		} else {

			if (k < 0) {
				return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);
			}

			if (k > 1) {
				return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);
			}

			return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);

		}

	},

	Utils: {

		Linear: function (p0, p1, t) {

			return (p1 - p0) * t + p0;

		},

		Bernstein: function (n, i) {

			var fc = TWEEN.Interpolation.Utils.Factorial;

			return fc(n) / fc(i) / fc(n - i);

		},

		Factorial: (function () {

			var a = [1];

			return function (n) {

				var s = 1;

				if (a[n]) {
					return a[n];
				}

				for (var i = n; i > 1; i--) {
					s *= i;
				}

				a[n] = s;
				return s;

			};

		})(),

		CatmullRom: function (p0, p1, p2, p3, t) {

			var v0 = (p2 - p0) * 0.5;
			var v1 = (p3 - p1) * 0.5;
			var t2 = t * t;
			var t3 = t * t2;

			return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;

		}

	}

};

// UMD (Universal Module Definition)
(function (root) {

	if (typeof define === 'function' && define.amd) {

		// AMD
		define([], function () {
			return TWEEN;
		});

	} else if (typeof module !== 'undefined' && typeof exports === 'object') {

		// Node.js
		module.exports = TWEEN;

	} else if (root !== undefined) {

		// Global variable
		root.TWEEN = TWEEN;

	}

})(this);
// threejs.org/license
(function(l,za){"object"===typeof exports&&"undefined"!==typeof module?za(exports):"function"===typeof define&&define.amd?define(["exports"],za):za(l.THREE={})})(this,function(l){function za(){}function D(a,b){this.x=a||0;this.y=b||0}function O(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ha(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1}function p(a,
b,c){this.x=a||0;this.y=b||0;this.z=c||0}function ma(){this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function U(a,b,c,d,e,f,g,h,k,m){Object.defineProperty(this,"id",{value:Af++});this.uuid=Q.generateUUID();this.name="";this.image=void 0!==a?a:U.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:U.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==
e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:1023;this.type=void 0!==h?h:1009;this.offset=new D(0,0);this.repeat=new D(1,1);this.center=new D(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new ma;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}function aa(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1}function kb(a,
b,c){this.uuid=Q.generateUUID();this.width=a;this.height=b;this.scissor=new aa(0,0,a,b);this.scissorTest=!1;this.viewport=new aa(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=1006);this.texture=new U(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function Jb(a,b,c){kb.call(this,
a,b,c);this.activeMipMapLevel=this.activeCubeFace=0}function lb(a,b,c,d,e,f,g,h,k,m,q,n){U.call(this,null,f,g,h,k,m,d,e,q,n);this.image={data:a,width:b,height:c};this.magFilter=void 0!==k?k:1003;this.minFilter=void 0!==m?m:1003;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}function db(a,b,c,d,e,f,g,h,k,m){a=void 0!==a?a:[];U.call(this,a,void 0!==b?b:301,c,d,e,f,g,h,k,m);this.flipY=!1}function Kb(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=Ie[e];void 0===f&&(f=new Float32Array(e),
Ie[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return f}function Je(a,b){var c=Ke[b];void 0===c&&(c=new Int32Array(b),Ke[b]=c);for(var d=0;d!==b;++d)c[d]=a.allocTextureUnit();return c}function Bf(a,b){a.uniform1f(this.addr,b)}function Cf(a,b){a.uniform1i(this.addr,b)}function Df(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,b.x,b.y)}function Ef(a,b){void 0!==b.x?a.uniform3f(this.addr,b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,
b)}function Ff(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)}function Gf(a,b){a.uniformMatrix2fv(this.addr,!1,b.elements||b)}function Hf(a,b){void 0===b.elements?a.uniformMatrix3fv(this.addr,!1,b):(Le.set(b.elements),a.uniformMatrix3fv(this.addr,!1,Le))}function If(a,b){void 0===b.elements?a.uniformMatrix4fv(this.addr,!1,b):(Me.set(b.elements),a.uniformMatrix4fv(this.addr,!1,Me))}function Jf(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);c.setTexture2D(b||
Ne,d)}function Kf(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);c.setTextureCube(b||Oe,d)}function Pe(a,b){a.uniform2iv(this.addr,b)}function Qe(a,b){a.uniform3iv(this.addr,b)}function Re(a,b){a.uniform4iv(this.addr,b)}function Lf(a){switch(a){case 5126:return Bf;case 35664:return Df;case 35665:return Ef;case 35666:return Ff;case 35674:return Gf;case 35675:return Hf;case 35676:return If;case 35678:case 36198:return Jf;case 35680:return Kf;case 5124:case 35670:return Cf;case 35667:case 35671:return Pe;
case 35668:case 35672:return Qe;case 35669:case 35673:return Re}}function Mf(a,b){a.uniform1fv(this.addr,b)}function Nf(a,b){a.uniform1iv(this.addr,b)}function Of(a,b){a.uniform2fv(this.addr,Kb(b,this.size,2))}function Pf(a,b){a.uniform3fv(this.addr,Kb(b,this.size,3))}function Qf(a,b){a.uniform4fv(this.addr,Kb(b,this.size,4))}function Rf(a,b){a.uniformMatrix2fv(this.addr,!1,Kb(b,this.size,4))}function Sf(a,b){a.uniformMatrix3fv(this.addr,!1,Kb(b,this.size,9))}function Tf(a,b){a.uniformMatrix4fv(this.addr,
!1,Kb(b,this.size,16))}function Uf(a,b,c){var d=b.length,e=Je(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.setTexture2D(b[a]||Ne,e[a])}function Vf(a,b,c){var d=b.length,e=Je(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.setTextureCube(b[a]||Oe,e[a])}function Wf(a){switch(a){case 5126:return Mf;case 35664:return Of;case 35665:return Pf;case 35666:return Qf;case 35674:return Rf;case 35675:return Sf;case 35676:return Tf;case 35678:return Uf;case 35680:return Vf;case 5124:case 35670:return Nf;
case 35667:case 35671:return Pe;case 35668:case 35672:return Qe;case 35669:case 35673:return Re}}function Xf(a,b,c){this.id=a;this.addr=c;this.setValue=Lf(b.type)}function Yf(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=Wf(b.type)}function Se(a){this.id=a;this.seq=[];this.map={}}function mb(a,b,c){this.seq=[];this.map={};this.renderer=c;c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(var d=0;d<c;++d){var e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name),g=this,h=e.name,k=
h.length;for(Vd.lastIndex=0;;){var m=Vd.exec(h),q=Vd.lastIndex,n=m[1],u=m[3];"]"===m[2]&&(n|=0);if(void 0===u||"["===u&&q+2===k){h=g;e=void 0===u?new Xf(n,e,f):new Yf(n,e,f);h.seq.push(e);h.map[e.id]=e;break}else u=g.map[n],void 0===u&&(u=new Se(n),n=g,g=u,n.seq.push(g),n.map[g.id]=g),g=u}}}function H(a,b,c){return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}function od(a,b){this.min=void 0!==a?a:new D(Infinity,Infinity);this.max=void 0!==b?b:new D(-Infinity,-Infinity)}function Zf(a,b,c,
d,e){var f,g,h,k,m,q,n,u,r,t,l,w,z,y,I,A;this.render=function(a,v,Da,na){if(0!==a.length){v=new p;var J=na.w/na.z,Ha=.5*na.z,pd=.5*na.w,la=16/na.w,S=new D(la*J,la),va=new p(1,1,0),N=new D(1,1),B=new od;B.min.set(na.x,na.y);B.max.set(na.x+(na.z-16),na.y+(na.w-16));if(void 0===y){var la=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),x=new Uint16Array([0,1,2,0,2,3]);l=b.createBuffer();w=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,l);b.bufferData(b.ARRAY_BUFFER,la,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
w);b.bufferData(b.ELEMENT_ARRAY_BUFFER,x,b.STATIC_DRAW);I=b.createTexture();A=b.createTexture();c.bindTexture(b.TEXTURE_2D,I);b.texImage2D(b.TEXTURE_2D,0,b.RGB,16,16,0,b.RGB,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);c.bindTexture(b.TEXTURE_2D,A);b.texImage2D(b.TEXTURE_2D,0,
b.RGBA,16,16,0,b.RGBA,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);var la=z={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tvUV = uv;\n\tvec2 pos = position;\n\tif ( renderType == 2 ) {\n\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\t\tvVisibility =        visibility.r / 9.0;\n\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\tvVisibility *=       visibility.b / 9.0;\n\t\tvVisibility *= 1.0 - visibility.a / 9.0;\n\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\n\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n\t}\n\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tif ( renderType == 0 ) {\n\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n\t} else if ( renderType == 1 ) {\n\t\tgl_FragColor = texture2D( map, vUV );\n\t} else {\n\t\tvec4 texture = texture2D( map, vUV );\n\t\ttexture.a *= opacity * vVisibility;\n\t\tgl_FragColor = texture;\n\t\tgl_FragColor.rgb *= color;\n\t}\n}"},x=b.createProgram(),
E=b.createShader(b.FRAGMENT_SHADER),V=b.createShader(b.VERTEX_SHADER),H="precision "+e.precision+" float;\n";b.shaderSource(E,H+la.fragmentShader);b.shaderSource(V,H+la.vertexShader);b.compileShader(E);b.compileShader(V);b.attachShader(x,E);b.attachShader(x,V);b.linkProgram(x);y=x;r=b.getAttribLocation(y,"position");t=b.getAttribLocation(y,"uv");f=b.getUniformLocation(y,"renderType");g=b.getUniformLocation(y,"map");h=b.getUniformLocation(y,"occlusionMap");k=b.getUniformLocation(y,"opacity");m=b.getUniformLocation(y,
"color");q=b.getUniformLocation(y,"scale");n=b.getUniformLocation(y,"rotation");u=b.getUniformLocation(y,"screenPosition")}c.useProgram(y);c.initAttributes();c.enableAttribute(r);c.enableAttribute(t);c.disableUnusedAttributes();b.uniform1i(h,0);b.uniform1i(g,1);b.bindBuffer(b.ARRAY_BUFFER,l);b.vertexAttribPointer(r,2,b.FLOAT,!1,16,0);b.vertexAttribPointer(t,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,w);c.disable(b.CULL_FACE);c.buffers.depth.setMask(!1);x=0;for(E=a.length;x<E;x++)if(la=
16/na.w,S.set(la*J,la),V=a[x],v.set(V.matrixWorld.elements[12],V.matrixWorld.elements[13],V.matrixWorld.elements[14]),v.applyMatrix4(Da.matrixWorldInverse),v.applyMatrix4(Da.projectionMatrix),va.copy(v),N.x=na.x+va.x*Ha+Ha-8,N.y=na.y+va.y*pd+pd-8,!0===B.containsPoint(N)){c.activeTexture(b.TEXTURE0);c.bindTexture(b.TEXTURE_2D,null);c.activeTexture(b.TEXTURE1);c.bindTexture(b.TEXTURE_2D,I);b.copyTexImage2D(b.TEXTURE_2D,0,b.RGB,N.x,N.y,16,16,0);b.uniform1i(f,0);b.uniform2f(q,S.x,S.y);b.uniform3f(u,va.x,
va.y,va.z);c.disable(b.BLEND);c.enable(b.DEPTH_TEST);b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);c.activeTexture(b.TEXTURE0);c.bindTexture(b.TEXTURE_2D,A);b.copyTexImage2D(b.TEXTURE_2D,0,b.RGBA,N.x,N.y,16,16,0);b.uniform1i(f,1);c.disable(b.DEPTH_TEST);c.activeTexture(b.TEXTURE1);c.bindTexture(b.TEXTURE_2D,I);b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);V.positionScreen.copy(va);V.customUpdateCallback?V.customUpdateCallback(V):V.updateLensFlares();b.uniform1i(f,2);c.enable(b.BLEND);for(var H=
0,K=V.lensFlares.length;H<K;H++){var C=V.lensFlares[H];.001<C.opacity&&.001<C.scale&&(va.x=C.x,va.y=C.y,va.z=C.z,la=C.size*C.scale/na.w,S.x=la*J,S.y=la,b.uniform3f(u,va.x,va.y,va.z),b.uniform2f(q,S.x,S.y),b.uniform1f(n,C.rotation),b.uniform1f(k,C.opacity),b.uniform3f(m,C.color.r,C.color.g,C.color.b),c.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),d.setTexture2D(C.texture,1),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0))}}c.enable(b.CULL_FACE);c.enable(b.DEPTH_TEST);c.buffers.depth.setMask(!0);
c.reset()}}}function tc(a,b,c,d,e,f,g,h,k){U.call(this,a,b,c,d,e,f,g,h,k);this.needsUpdate=!0}function $f(a,b,c,d,e){var f,g,h,k,m,q,n,u,r,t,l,w,z,y,I,A,J;function Ha(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var Da,na,oa,Te,pd=new p,la=new ha,S=new p;this.render=function(v,p,D){if(0!==v.length){if(void 0===oa){var x=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),N=new Uint16Array([0,1,2,0,2,3]);Da=b.createBuffer();na=b.createBuffer();
b.bindBuffer(b.ARRAY_BUFFER,Da);b.bufferData(b.ARRAY_BUFFER,x,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,na);b.bufferData(b.ELEMENT_ARRAY_BUFFER,N,b.STATIC_DRAW);x=b.createProgram();N=b.createShader(b.VERTEX_SHADER);var B=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(N,["precision "+e.precision+" float;","#define SHADER_NAME SpriteMaterial\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float fogDepth;\nvoid main() {\n\tvUV = uvOffset + uv * uvScale;\n\tvec2 alignedPosition = position * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\tfogDepth = - mvPosition.z;\n}"].join("\n"));
b.shaderSource(B,["precision "+e.precision+" float;","#define SHADER_NAME SpriteMaterial\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvarying float fogDepth;\nvoid main() {\n\tvec4 texture = texture2D( map, vUV );\n\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\n\tif ( gl_FragColor.a < alphaTest ) discard;\n\tif ( fogType > 0 ) {\n\t\tfloat fogFactor = 0.0;\n\t\tif ( fogType == 1 ) {\n\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t\t} else {\n\t\t\tconst float LOG2 = 1.442695;\n\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );\n\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\t\t}\n\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\t}\n}"].join("\n"));
b.compileShader(N);b.compileShader(B);b.attachShader(x,N);b.attachShader(x,B);b.linkProgram(x);oa=x;A=b.getAttribLocation(oa,"position");J=b.getAttribLocation(oa,"uv");f=b.getUniformLocation(oa,"uvOffset");g=b.getUniformLocation(oa,"uvScale");h=b.getUniformLocation(oa,"rotation");k=b.getUniformLocation(oa,"scale");m=b.getUniformLocation(oa,"color");q=b.getUniformLocation(oa,"map");n=b.getUniformLocation(oa,"opacity");u=b.getUniformLocation(oa,"modelViewMatrix");r=b.getUniformLocation(oa,"projectionMatrix");
t=b.getUniformLocation(oa,"fogType");l=b.getUniformLocation(oa,"fogDensity");w=b.getUniformLocation(oa,"fogNear");z=b.getUniformLocation(oa,"fogFar");y=b.getUniformLocation(oa,"fogColor");b.getUniformLocation(oa,"fogDepth");I=b.getUniformLocation(oa,"alphaTest");x=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");x.width=8;x.height=8;N=x.getContext("2d");N.fillStyle="white";N.fillRect(0,0,8,8);Te=new tc(x)}c.useProgram(oa);c.initAttributes();c.enableAttribute(A);c.enableAttribute(J);
c.disableUnusedAttributes();c.disable(b.CULL_FACE);c.enable(b.BLEND);b.bindBuffer(b.ARRAY_BUFFER,Da);b.vertexAttribPointer(A,2,b.FLOAT,!1,16,0);b.vertexAttribPointer(J,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,na);b.uniformMatrix4fv(r,!1,D.projectionMatrix.elements);c.activeTexture(b.TEXTURE0);b.uniform1i(q,0);N=x=0;(B=p.fog)?(b.uniform3f(y,B.color.r,B.color.g,B.color.b),B.isFog?(b.uniform1f(w,B.near),b.uniform1f(z,B.far),b.uniform1i(t,1),N=x=1):B.isFogExp2&&(b.uniform1f(l,B.density),
b.uniform1i(t,2),N=x=2)):(b.uniform1i(t,0),N=x=0);for(var C=0,E=v.length;C<E;C++)B=v[C],B.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,B.matrixWorld),B.z=-B.modelViewMatrix.elements[14];v.sort(Ha);for(var va=[],C=0,E=v.length;C<E;C++){B=v[C];var G=B.material;if(!1!==G.visible){B.onBeforeRender(a,p,D,void 0,G,void 0);b.uniform1f(I,G.alphaTest);b.uniformMatrix4fv(u,!1,B.modelViewMatrix.elements);B.matrixWorld.decompose(pd,la,S);va[0]=S.x;va[1]=S.y;var qd=0;p.fog&&G.fog&&(qd=N);x!==qd&&(b.uniform1i(t,
qd),x=qd);null!==G.map?(b.uniform2f(f,G.map.offset.x,G.map.offset.y),b.uniform2f(g,G.map.repeat.x,G.map.repeat.y)):(b.uniform2f(f,0,0),b.uniform2f(g,1,1));b.uniform1f(n,G.opacity);b.uniform3f(m,G.color.r,G.color.g,G.color.b);b.uniform1f(h,G.rotation);b.uniform2fv(k,va);c.setBlending(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha);c.buffers.depth.setTest(G.depthTest);c.buffers.depth.setMask(G.depthWrite);c.buffers.color.setMask(G.colorWrite);
d.setTexture2D(G.map||Te,0);b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);B.onAfterRender(a,p,D,void 0,G,void 0)}}c.enable(b.CULL_FACE);c.reset()}}}function P(){Object.defineProperty(this,"id",{value:ag++});this.uuid=Q.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.flatShading=!1;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=
null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.overdraw=0;this.visible=!0;this.userData={};this.needsUpdate=!0}function eb(a){P.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=
this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)}function fb(a){P.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new p;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.lights=this.fog=!1;this.setValues(a)}function Xa(a,b){this.min=void 0!==
a?a:new p(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new p(-Infinity,-Infinity,-Infinity)}function Ia(a,b){this.center=void 0!==a?a:new p;this.radius=void 0!==b?b:0}function Ea(a,b){this.normal=void 0!==a?a:new p(1,0,0);this.constant=void 0!==b?b:0}function rd(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Ea,void 0!==b?b:new Ea,void 0!==c?c:new Ea,void 0!==d?d:new Ea,void 0!==e?e:new Ea,void 0!==f?f:new Ea]}function Ue(a,b,c){function d(b,c,d,e,f,g){var h=b.geometry;var k=n;var m=b.customDepthMaterial;
d&&(k=u,m=b.customDistanceMaterial);m?k=m:(m=!1,c.morphTargets&&(h&&h.isBufferGeometry?m=h.morphAttributes&&h.morphAttributes.position&&0<h.morphAttributes.position.length:h&&h.isGeometry&&(m=h.morphTargets&&0<h.morphTargets.length)),b.isSkinnedMesh&&!1===c.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",b),b=b.isSkinnedMesh&&c.skinning,h=0,m&&(h|=1),b&&(h|=2),k=k[h]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(h=
k.uuid,m=c.uuid,b=r[h],void 0===b&&(b={},r[h]=b),h=b[m],void 0===h&&(h=k.clone(),b[m]=h),k=h);k.visible=c.visible;k.wireframe=c.wireframe;m=c.side;A.renderSingleSided&&2==m&&(m=0);A.renderReverseSided&&(0===m?m=1:1===m&&(m=0));k.side=m;k.clipShadows=c.clipShadows;k.clippingPlanes=c.clippingPlanes;k.clipIntersection=c.clipIntersection;k.wireframeLinewidth=c.wireframeLinewidth;k.linewidth=c.linewidth;d&&k.isMeshDistanceMaterial&&(k.referencePosition.copy(e),k.nearDistance=f,k.farDistance=g);return k}
function e(c,h,g,k){var m;if(!1!==c.visible){if(c.layers.test(h.layers)&&(c.isMesh||c.isLine||c.isPoints)&&c.castShadow&&(!c.frustumCulled||f.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,c.matrixWorld);var n=b.update(c),u=c.material;if(Array.isArray(u))for(var r=n.groups,t=0,l=r.length;t<l;t++){var I=r[t];(m=u[I.materialIndex])&&m.visible&&(m=d(c,m,k,q,g.near,g.far),a.renderBufferDirect(g,null,n,m,c,I))}else u.visible&&(m=d(c,u,k,q,g.near,g.far),a.renderBufferDirect(g,
null,n,m,c,null))}c=c.children;n=0;for(u=c.length;n<u;n++)e(c[n],h,g,k)}}var f=new rd,g=new O,h=new D,k=new D(c,c),m=new p,q=new p,n=Array(4),u=Array(4),r={},t=[new p(1,0,0),new p(-1,0,0),new p(0,0,1),new p(0,0,-1),new p(0,1,0),new p(0,-1,0)],l=[new p(0,1,0),new p(0,1,0),new p(0,1,0),new p(0,1,0),new p(0,0,1),new p(0,0,-1)],w=[new aa,new aa,new aa,new aa,new aa,new aa];for(c=0;4!==c;++c){var z=0!==(c&1),y=0!==(c&2),I=new eb({depthPacking:3201,morphTargets:z,skinning:y});n[c]=I;z=new fb({morphTargets:z,
skinning:y});u[c]=z}var A=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(b,c,d){if(!1!==A.enabled&&(!1!==A.autoUpdate||!1!==A.needsUpdate)&&0!==b.length){var n=a.state;n.disable(a.context.BLEND);n.buffers.color.setClear(1,1,1,1);n.buffers.depth.setTest(!0);n.setScissorTest(!1);for(var u,r=0,I=b.length;r<I;r++){var v=b[r];u=v.shadow;var p=v&&v.isPointLight;if(void 0===u)console.warn("THREE.WebGLShadowMap:",
v,"has no shadow.");else{var z=u.camera;h.copy(u.mapSize);h.min(k);if(p){var y=h.x,J=h.y;w[0].set(2*y,J,y,J);w[1].set(0,J,y,J);w[2].set(3*y,J,y,J);w[3].set(y,J,y,J);w[4].set(3*y,0,y,J);w[5].set(y,0,y,J);h.x*=4;h.y*=2}null===u.map&&(u.map=new kb(h.x,h.y,{minFilter:1003,magFilter:1003,format:1023}),u.map.texture.name=v.name+".shadowMap",z.updateProjectionMatrix());u.isSpotLightShadow&&u.update(v);y=u.map;J=u.matrix;q.setFromMatrixPosition(v.matrixWorld);z.position.copy(q);p?(u=6,J.makeTranslation(-q.x,
-q.y,-q.z)):(u=1,m.setFromMatrixPosition(v.target.matrixWorld),z.lookAt(m),z.updateMatrixWorld(),J.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),J.multiply(z.projectionMatrix),J.multiply(z.matrixWorldInverse));a.setRenderTarget(y);a.clear();for(v=0;v<u;v++)p&&(m.copy(z.position),m.add(t[v]),z.up.copy(l[v]),z.lookAt(m),z.updateMatrixWorld(),n.viewport(w[v])),g.multiplyMatrices(z.projectionMatrix,z.matrixWorldInverse),f.setFromMatrix(g),e(c,d,z,p)}}A.needsUpdate=!1}}}function bg(a){var b={};return{get:function(a){a.isInterleavedBufferAttribute&&
(a=a.data);return b[a.uuid]},remove:function(c){c.isInterleavedBufferAttribute&&(c=c.data);var d=b[c.uuid];d&&(a.deleteBuffer(d.buffer),delete b[c.uuid])},update:function(c,d){c.isInterleavedBufferAttribute&&(c=c.data);var e=b[c.uuid];if(void 0===e){var e=c.uuid,f=c.array,g=c.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW,h=a.createBuffer();a.bindBuffer(d,h);a.bufferData(d,f,g);c.onUploadCallback();d=a.FLOAT;f instanceof Float32Array?d=a.FLOAT:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):
f instanceof Uint16Array?d=a.UNSIGNED_SHORT:f instanceof Int16Array?d=a.SHORT:f instanceof Uint32Array?d=a.UNSIGNED_INT:f instanceof Int32Array?d=a.INT:f instanceof Int8Array?d=a.BYTE:f instanceof Uint8Array&&(d=a.UNSIGNED_BYTE);b[e]={buffer:h,type:d,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}else e.version<c.version&&(f=c,h=f.array,g=f.updateRange,a.bindBuffer(d,e.buffer),!1===f.dynamic?a.bufferData(d,h,a.STATIC_DRAW):-1===g.count?a.bufferSubData(d,0,h):0===g.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(d,g.offset*h.BYTES_PER_ELEMENT,h.subarray(g.offset,g.offset+g.count)),g.count=-1),e.version=c.version)}}}function gb(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||gb.DefaultOrder}function Wd(){this.mask=1}function x(){Object.defineProperty(this,"id",{value:cg++});this.uuid=Q.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=x.DefaultUp.clone();var a=new p,b=new gb,c=new ha,d=new p(1,1,1);b.onChange(function(){c.setFromEuler(b,
!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new O},normalMatrix:{value:new ma}});this.matrix=new O;this.matrixWorld=new O;this.matrixAutoUpdate=x.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Wd;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=
0;this.userData={}}function Ta(){x.call(this);this.type="Camera";this.matrixWorldInverse=new O;this.projectionMatrix=new O}function Lb(a,b,c,d,e,f){Ta.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()}function Ya(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new p;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?
e:new H;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0}function L(){Object.defineProperty(this,"id",{value:dg+=2});this.uuid=Q.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=
this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function M(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Q.generateUUID();this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}function uc(a,b,c){M.call(this,new Int8Array(a),b,c)}function vc(a,b,c){M.call(this,new Uint8Array(a),
b,c)}function wc(a,b,c){M.call(this,new Uint8ClampedArray(a),b,c)}function xc(a,b,c){M.call(this,new Int16Array(a),b,c)}function ob(a,b,c){M.call(this,new Uint16Array(a),b,c)}function yc(a,b,c){M.call(this,new Int32Array(a),b,c)}function pb(a,b,c){M.call(this,new Uint32Array(a),b,c)}function B(a,b,c){M.call(this,new Float32Array(a),b,c)}function zc(a,b,c){M.call(this,new Float64Array(a),b,c)}function Ve(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=
[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Xd(a){if(0===a.length)return-Infinity;for(var b=a[0],c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}function E(){Object.defineProperty(this,"id",{value:eg+=2});this.uuid=Q.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes=
{};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}}function Mb(a,b,c,d,e,f){L.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new qb(a,b,c,d,e,f));this.mergeVertices()}function qb(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,Ha,Da,na){var t=f/Ha,v=g/Da,I=f/2,A=g/2,w=l/2;g=Ha+1;var z=Da+1,y=f=0,J,x,B=new p;for(x=0;x<z;x++){var D=x*v-A;for(J=0;J<g;J++)B[a]=
(J*t-I)*d,B[b]=D*e,B[c]=w,m.push(B.x,B.y,B.z),B[a]=0,B[b]=0,B[c]=0<l?1:-1,q.push(B.x,B.y,B.z),n.push(J/Ha),n.push(1-x/Da),f+=1}for(x=0;x<Da;x++)for(J=0;J<Ha;J++)a=u+J+g*(x+1),b=u+(J+1)+g*(x+1),c=u+(J+1)+g*x,k.push(u+J+g*x,a,c),k.push(a,b,c),y+=6;h.addGroup(r,y,na);r+=y;u+=f}E.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;a=a||1;b=b||1;c=c||1;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var k=
[],m=[],q=[],n=[],u=0,r=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(k);this.addAttribute("position",new B(m,3));this.addAttribute("normal",new B(q,3));this.addAttribute("uv",new B(n,2))}function Ac(a,b,c,d){L.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new rb(a,
b,c,d));this.mergeVertices()}function rb(a,b,c,d){E.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,h=d+1,k=a/c,m=b/d,q=[],n=[],u=[],r=[];for(a=0;a<h;a++){var t=a*m-f;for(b=0;b<g;b++)n.push(b*k-e,-t,0),u.push(0,0,1),r.push(b/c),r.push(1-a/d)}for(a=0;a<d;a++)for(b=0;b<c;b++)e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,q.push(b+g*a,e,h),q.push(e,f,h);this.setIndex(q);this.addAttribute("position",
new B(n,3));this.addAttribute("normal",new B(u,3));this.addAttribute("uv",new B(r,2))}function Aa(a){P.call(this);this.type="MeshBasicMaterial";this.color=new H(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=
!1;this.setValues(a)}function Fa(a){P.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}function sb(a,b){this.origin=void 0!==a?a:new p;this.direction=void 0!==b?b:new p}function Nb(a,b){this.start=void 0!==a?a:new p;this.end=void 0!==b?b:new p}function Za(a,b,c){this.a=void 0!==a?a:new p;this.b=void 0!==
b?b:new p;this.c=void 0!==c?c:new p}function ra(a,b){x.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new E;this.material=void 0!==b?b:new Aa({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function fg(a,b,c,d){function e(a,c){b.buffers.color.setClear(a.r,a.g,a.b,c,d)}var f=new H(0),g=0,h,k,m;return{getClearColor:function(){return f},setClearColor:function(a,b){f.set(a);g=void 0!==b?b:1;e(f,g)},getClearAlpha:function(){return g},setClearAlpha:function(a){g=a;e(f,
g)},render:function(b,d,u,r){d=d.background;null===d?e(f,g):d&&d.isColor&&(e(d,1),r=!0);(a.autoClear||r)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);d&&d.isCubeTexture?(void 0===m&&(m=new ra(new qb(1,1,1),new Fa({uniforms:tb.cube.uniforms,vertexShader:tb.cube.vertexShader,fragmentShader:tb.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1})),m.geometry.removeAttribute("normal"),m.geometry.removeAttribute("uv"),m.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},
c.update(m.geometry)),m.material.uniforms.tCube.value=d,b.push(m,m.geometry,m.material,0,null)):d&&d.isTexture&&(void 0===h&&(h=new Lb(-1,1,1,-1,0,1),k=new ra(new rb(2,2),new Aa({depthTest:!1,depthWrite:!1,fog:!1})),c.update(k.geometry)),k.material.map=d,a.renderBufferDirect(h,null,k.geometry,k.material,k,null))}}}function gg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program&&b.program&&a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-
b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function hg(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function ig(){var a=[],b=0,c=[],d=[];return{opaque:c,transparent:d,init:function(){b=0;c.length=0;d.length=0},push:function(e,f,g,h,k){var m=a[b];void 0===m?(m={id:e.id,object:e,geometry:f,material:g,program:g.program,renderOrder:e.renderOrder,z:h,group:k},a[b]=m):(m.id=e.id,m.object=e,m.geometry=f,m.material=g,m.program=g.program,m.renderOrder=e.renderOrder,
m.z=h,m.group=k);(!0===g.transparent?d:c).push(m);b++},sort:function(){1<c.length&&c.sort(gg);1<d.length&&d.sort(hg)}}}function jg(){var a={};return{get:function(b,c){b=b.id+","+c.id;c=a[b];void 0===c&&(c=new ig,a[b]=c);return c},dispose:function(){a={}}}}function kg(a,b){return Math.abs(b[1])-Math.abs(a[1])}function lg(a){var b={},c=new Float32Array(8);return{update:function(d,e,f,g){var h=d.morphTargetInfluences,k=h.length;d=b[e.id];if(void 0===d){d=[];for(var m=0;m<k;m++)d[m]=[m,0];b[e.id]=d}var q=
f.morphTargets&&e.morphAttributes.position;f=f.morphNormals&&e.morphAttributes.normal;for(m=0;m<k;m++){var n=d[m];0!==n[1]&&(q&&e.removeAttribute("morphTarget"+m),f&&e.removeAttribute("morphNormal"+m))}for(m=0;m<k;m++)n=d[m],n[0]=m,n[1]=h[m];d.sort(kg);for(m=0;8>m;m++){if(n=d[m])if(h=n[0],n=n[1]){q&&e.addAttribute("morphTarget"+m,q[h]);f&&e.addAttribute("morphNormal"+m,f[h]);c[m]=n;continue}c[m]=0}g.getUniforms().setValue(a,"morphTargetInfluences",c)}}}function mg(a,b,c){var d,e,f;this.setMode=function(a){d=
a};this.setIndex=function(a){e=a.type;f=a.bytesPerElement};this.render=function(b,h){a.drawElements(d,h,e,b*f);c.calls++;c.vertices+=h;d===a.TRIANGLES?c.faces+=h/3:d===a.POINTS&&(c.points+=h)};this.renderInstances=function(g,h,k){var m=b.get("ANGLE_instanced_arrays");null===m?console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(m.drawElementsInstancedANGLE(d,k,e,h*f,g.maxInstancedCount),c.calls++,c.vertices+=
k*g.maxInstancedCount,d===a.TRIANGLES?c.faces+=g.maxInstancedCount*k/3:d===a.POINTS&&(c.points+=g.maxInstancedCount*k))}}function ng(a,b,c){var d;this.setMode=function(a){d=a};this.render=function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES?c.faces+=f/3:d===a.POINTS&&(c.points+=f)};this.renderInstances=function(e,f,g){var h=b.get("ANGLE_instanced_arrays");if(null===h)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
else{var k=e.attributes.position;k.isInterleavedBufferAttribute?(g=k.data.count,h.drawArraysInstancedANGLE(d,0,g,e.maxInstancedCount)):h.drawArraysInstancedANGLE(d,f,g,e.maxInstancedCount);c.calls++;c.vertices+=g*e.maxInstancedCount;d===a.TRIANGLES?c.faces+=e.maxInstancedCount*g/3:d===a.POINTS&&(c.points+=e.maxInstancedCount*g)}}}function og(a,b,c){function d(a){a=a.target;var h=e[a.id];null!==h.index&&b.remove(h.index);for(var g in h.attributes)b.remove(h.attributes[g]);a.removeEventListener("dispose",
d);delete e[a.id];if(g=f[a.id])b.remove(g),delete f[a.id];if(g=f[h.id])b.remove(g),delete f[h.id];c.geometries--}var e={},f={};return{get:function(a,b){var f=e[b.id];if(f)return f;b.addEventListener("dispose",d);b.isBufferGeometry?f=b:b.isGeometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new E).setFromObject(a)),f=b._bufferGeometry);e[b.id]=f;c.geometries++;return f},update:function(c){var d=c.index,e=c.attributes;null!==d&&b.update(d,a.ELEMENT_ARRAY_BUFFER);for(var f in e)b.update(e[f],
a.ARRAY_BUFFER);c=c.morphAttributes;for(f in c)for(var d=c[f],e=0,g=d.length;e<g;e++)b.update(d[e],a.ARRAY_BUFFER)},getWireframeAttribute:function(c){var d=f[c.id];if(d)return d;d=[];var e=c.index;var g=c.attributes;if(null!==e){var q=e.array;for(var n=0,u=q.length;n<u;n+=3){var r=q[n+0];g=q[n+1];e=q[n+2];d.push(r,g,g,e,e,r)}}else for(q=g.position.array,n=0,u=q.length/3-1;n<u;n+=3)r=n+0,g=n+1,e=n+2,d.push(r,g,g,e,e,r);d=new (65535<Xd(d)?pb:ob)(d,1);b.update(d,a.ELEMENT_ARRAY_BUFFER);return f[c.id]=
d}}}function pg(){var a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new p,color:new H,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D};break;case "SpotLight":c={position:new p,direction:new p,color:new H,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D};break;case "PointLight":c={position:new p,color:new H,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new D,
shadowCameraNear:1,shadowCameraFar:1E3};break;case "HemisphereLight":c={direction:new p,skyColor:new H,groundColor:new H};break;case "RectAreaLight":c={color:new H,position:new p,halfWidth:new p,halfHeight:new p}}return a[b.id]=c}}}function qg(){var a=new pg,b={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},c=new p,d=new O,e=new O;return{setup:function(f,
g,h){for(var k,m=0,q=0,n=0,u=0,r=0,t=0,l=0,w=0,p=h.matrixWorldInverse,y=0,I=f.length;y<I;y++){var A=f[y];k=A.color;var J=A.intensity,Ha=A.distance,Da=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)m+=k.r*J,q+=k.g*J,n+=k.b*J;else if(A.isDirectionalLight){h=a.get(A);h.color.copy(A.color).multiplyScalar(A.intensity);h.direction.setFromMatrixPosition(A.matrixWorld);c.setFromMatrixPosition(A.target.matrixWorld);h.direction.sub(c);h.direction.transformDirection(p);if(h.shadow=A.castShadow)k=
A.shadow,h.shadowBias=k.bias,h.shadowRadius=k.radius,h.shadowMapSize=k.mapSize;b.directionalShadowMap[u]=Da;b.directionalShadowMatrix[u]=A.shadow.matrix;b.directional[u]=h;u++}else if(A.isSpotLight){h=a.get(A);h.position.setFromMatrixPosition(A.matrixWorld);h.position.applyMatrix4(p);h.color.copy(k).multiplyScalar(J);h.distance=Ha;h.direction.setFromMatrixPosition(A.matrixWorld);c.setFromMatrixPosition(A.target.matrixWorld);h.direction.sub(c);h.direction.transformDirection(p);h.coneCos=Math.cos(A.angle);
h.penumbraCos=Math.cos(A.angle*(1-A.penumbra));h.decay=0===A.distance?0:A.decay;if(h.shadow=A.castShadow)k=A.shadow,h.shadowBias=k.bias,h.shadowRadius=k.radius,h.shadowMapSize=k.mapSize;b.spotShadowMap[t]=Da;b.spotShadowMatrix[t]=A.shadow.matrix;b.spot[t]=h;t++}else if(A.isRectAreaLight)h=a.get(A),h.color.copy(k).multiplyScalar(J/(A.width*A.height)),h.position.setFromMatrixPosition(A.matrixWorld),h.position.applyMatrix4(p),e.identity(),d.copy(A.matrixWorld),d.premultiply(p),e.extractRotation(d),h.halfWidth.set(.5*
A.width,0,0),h.halfHeight.set(0,.5*A.height,0),h.halfWidth.applyMatrix4(e),h.halfHeight.applyMatrix4(e),b.rectArea[l]=h,l++;else if(A.isPointLight){h=a.get(A);h.position.setFromMatrixPosition(A.matrixWorld);h.position.applyMatrix4(p);h.color.copy(A.color).multiplyScalar(A.intensity);h.distance=A.distance;h.decay=0===A.distance?0:A.decay;if(h.shadow=A.castShadow)k=A.shadow,h.shadowBias=k.bias,h.shadowRadius=k.radius,h.shadowMapSize=k.mapSize,h.shadowCameraNear=k.camera.near,h.shadowCameraFar=k.camera.far;
b.pointShadowMap[r]=Da;b.pointShadowMatrix[r]=A.shadow.matrix;b.point[r]=h;r++}else A.isHemisphereLight&&(h=a.get(A),h.direction.setFromMatrixPosition(A.matrixWorld),h.direction.transformDirection(p),h.direction.normalize(),h.skyColor.copy(A.color).multiplyScalar(J),h.groundColor.copy(A.groundColor).multiplyScalar(J),b.hemi[w]=h,w++)}b.ambient[0]=m;b.ambient[1]=q;b.ambient[2]=n;b.directional.length=u;b.spot.length=t;b.rectArea.length=l;b.point.length=r;b.hemi.length=w;b.hash=u+","+r+","+t+","+l+","+
w+","+g.length},state:b}}function rg(a,b){var c={};return{update:function(d){var e=b.frame,f=d.geometry,g=a.get(d,f);c[g.id]!==e&&(f.isGeometry&&g.updateFromObject(d),a.update(g),c[g.id]=e);return g},clear:function(){c={}}}}function sg(a){a=a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}function We(a,b,c){var d=a.createShader(b);a.shaderSource(d,c);a.compileShader(d);!1===a.getShaderParameter(d,a.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");
""!==a.getShaderInfoLog(d)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",b===a.VERTEX_SHADER?"vertex":"fragment",a.getShaderInfoLog(d),sg(c));return d}function Xe(a){switch(a){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+
a);}}function Yd(a,b){b=Xe(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}function tg(a,b){b=Xe(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function ug(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="Uncharted2";break;case 4:b="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function vg(a,b,c){a=a||{};return[a.derivatives||
b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Bc).join("\n")}function wg(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+
c+" "+d)}return b.join("\n")}function Bc(a){return""!==a}function Ye(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function Zd(a){return a.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(a,c){a=R[c];if(void 0===a)throw Error("Can not resolve #include <"+c+">");return Zd(a)})}function Ze(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(a,c,d,e){a="";for(c=parseInt(c);c<parseInt(d);c++)a+=e.replace(/\[ i \]/g,"[ "+c+" ]");return a})}function xg(a,b,c,d,e,f){var g=a.context,h=d.defines,k=e.vertexShader,m=e.fragmentShader,q="SHADOWMAP_TYPE_BASIC";1===f.shadowMapType?q="SHADOWMAP_TYPE_PCF":2===f.shadowMapType&&(q="SHADOWMAP_TYPE_PCF_SOFT");var n="ENVMAP_TYPE_CUBE",u="ENVMAP_MODE_REFLECTION",r="ENVMAP_BLENDING_MULTIPLY";if(f.envMap){switch(d.envMap.mapping){case 301:case 302:n="ENVMAP_TYPE_CUBE";break;case 306:case 307:n="ENVMAP_TYPE_CUBE_UV";
break;case 303:case 304:n="ENVMAP_TYPE_EQUIREC";break;case 305:n="ENVMAP_TYPE_SPHERE"}switch(d.envMap.mapping){case 302:case 304:u="ENVMAP_MODE_REFRACTION"}switch(d.combine){case 0:r="ENVMAP_BLENDING_MULTIPLY";break;case 1:r="ENVMAP_BLENDING_MIX";break;case 2:r="ENVMAP_BLENDING_ADD"}}var t=0<a.gammaFactor?a.gammaFactor:1,l=vg(d.extensions,f,b),p=wg(h),z=g.createProgram();d.isRawShaderMaterial?(h=[p].filter(Bc).join("\n"),0<h.length&&(h+="\n"),b=[l,p].filter(Bc).join("\n"),0<b.length&&(b+="\n")):(h=
["precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,p,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+t,"#define MAX_BONES "+f.maxBones,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+u:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":
"",f.normalMap?"#define USE_NORMALMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&
!1===f.flatShading?"#define USE_MORPHNORMALS":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+f.numClippingPlanes,f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+q:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&b.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;",
"uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;",
"\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Bc).join("\n"),b=[l,"precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,p,f.alphaTest?"#define ALPHATEST "+f.alphaTest:
"","#define GAMMA_FACTOR "+t,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+n:"",f.envMap?"#define "+u:"",f.envMap?"#define "+r:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":
"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+f.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(f.numClippingPlanes-f.numClipIntersection),f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+q:"",f.premultipliedAlpha?
"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&b.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",f.envMap&&b.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==f.toneMapping?"#define TONE_MAPPING":"",0!==f.toneMapping?R.tonemapping_pars_fragment:"",0!==f.toneMapping?ug("toneMapping",f.toneMapping):
"",f.dithering?"#define DITHERING":"",f.outputEncoding||f.mapEncoding||f.envMapEncoding||f.emissiveMapEncoding?R.encodings_pars_fragment:"",f.mapEncoding?Yd("mapTexelToLinear",f.mapEncoding):"",f.envMapEncoding?Yd("envMapTexelToLinear",f.envMapEncoding):"",f.emissiveMapEncoding?Yd("emissiveMapTexelToLinear",f.emissiveMapEncoding):"",f.outputEncoding?tg("linearToOutputTexel",f.outputEncoding):"",f.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter(Bc).join("\n"));k=Zd(k);k=Ye(k,f);
m=Zd(m);m=Ye(m,f);d.isShaderMaterial||(k=Ze(k),m=Ze(m));m=b+m;k=We(g,g.VERTEX_SHADER,h+k);m=We(g,g.FRAGMENT_SHADER,m);g.attachShader(z,k);g.attachShader(z,m);void 0!==d.index0AttributeName?g.bindAttribLocation(z,0,d.index0AttributeName):!0===f.morphTargets&&g.bindAttribLocation(z,0,"position");g.linkProgram(z);f=g.getProgramInfoLog(z);e=g.getShaderInfoLog(k);q=g.getShaderInfoLog(m);u=n=!0;if(!1===g.getProgramParameter(z,g.LINK_STATUS))n=!1,console.error("THREE.WebGLProgram: shader error: ",g.getError(),
"gl.VALIDATE_STATUS",g.getProgramParameter(z,g.VALIDATE_STATUS),"gl.getProgramInfoLog",f,e,q);else if(""!==f)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",f);else if(""===e||""===q)u=!1;u&&(this.diagnostics={runnable:n,material:d,programLog:f,vertexShader:{log:e,prefix:h},fragmentShader:{log:q,prefix:b}});g.deleteShader(k);g.deleteShader(m);var y;this.getUniforms=function(){void 0===y&&(y=new mb(g,z,a));return y};var I;this.getAttributes=function(){if(void 0===I){for(var a={},b=g.getProgramParameter(z,
g.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=g.getActiveAttrib(z,c).name;a[d]=g.getAttribLocation(z,d)}I=a}return I};this.destroy=function(){g.deleteProgram(z);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=yg++;this.code=c;this.usedTimes=1;
this.program=z;this.vertexShader=k;this.fragmentShader=m;return this}function zg(a,b,c){function d(a,b){if(a)a.isTexture?c=a.encoding:a.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=3E3;3E3===c&&b&&(c=3007);return c}var e=[],f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",
MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},g="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(" ");
this.getParameters=function(b,e,g,q,n,u,r){var h=f[b.type];if(r.isSkinnedMesh){var k=r.skeleton.bones;if(c.floatVertexTextures)k=1024;else{var m=Math.min(Math.floor((c.maxVertexUniforms-20)/4),k.length);m<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+m+"."),k=0):k=m}}else k=0;m=c.precision;null!==b.precision&&(m=c.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));
var l=a.getRenderTarget();return{shaderID:h,precision:m,supportsVertexTextures:c.vertexTextures,outputEncoding:d(l?l.texture:null,a.gammaOutput),map:!!b.map,mapEncoding:d(b.map,a.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:d(b.envMap,a.gammaInput),envMapCubeUV:!!b.envMap&&(306===b.envMap.mapping||307===b.envMap.mapping),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:d(b.emissiveMap,a.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,
displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexColors:b.vertexColors,fog:!!q,useFog:b.fog,fogExp:q&&q.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,skinning:b.skinning&&0<k,maxBones:k,useVertexTexture:c.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,
maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numClippingPlanes:n,numClipIntersection:u,dithering:b.dithering,shadowMapEnabled:a.shadowMap.enabled&&r.receiveShadow&&0<g.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,
alphaTest:b.alphaTest,doubleSided:2===b.side,flipSided:1===b.side,depthPacking:void 0!==b.depthPacking?b.depthPacking:!1}};this.getProgramCode=function(b,c){var d=[];c.shaderID?d.push(c.shaderID):(d.push(b.fragmentShader),d.push(b.vertexShader));if(void 0!==b.defines)for(var e in b.defines)d.push(e),d.push(b.defines[e]);for(e=0;e<g.length;e++)d.push(c[g[e]]);d.push(b.onBeforeCompile.toString());d.push(a.gammaOutput);return d.join()};this.acquireProgram=function(c,d,f,g){for(var h,k=0,m=e.length;k<
m;k++){var q=e[k];if(q.code===g){h=q;++h.usedTimes;break}}void 0===h&&(h=new xg(a,b,g,c,d,f),e.push(h));return h};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=e.indexOf(a);e[b]=e[e.length-1];e.pop();a.destroy()}};this.programs=e}function Ag(a,b,c,d,e,f,g){function h(a,b){if(a.width>b||a.height>b){b/=Math.max(a.width,a.height);var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=Math.floor(a.width*b);c.height=Math.floor(a.height*b);c.getContext("2d").drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height,a);return c}return a}function k(a){return Q.isPowerOfTwo(a.width)&&Q.isPowerOfTwo(a.height)}function m(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function q(b){return 1003===b||1004===b||1005===b?a.NEAREST:a.LINEAR}function n(b){b=b.target;b.removeEventListener("dispose",n);a:{var c=d.get(b);if(b.image&&c.__image__webglTextureCube)a.deleteTexture(c.__image__webglTextureCube);
else{if(void 0===c.__webglInit)break a;a.deleteTexture(c.__webglTexture)}d.remove(b)}b.isVideoTexture&&delete y[b.id];g.textures--}function u(b){b=b.target;b.removeEventListener("dispose",u);var c=d.get(b),e=d.get(b.texture);if(b){void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture);b.depthTexture&&b.depthTexture.dispose();if(b.isWebGLRenderTargetCube)for(e=0;6>e;e++)a.deleteFramebuffer(c.__webglFramebuffer[e]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[e]);else a.deleteFramebuffer(c.__webglFramebuffer),
c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);d.remove(b.texture);d.remove(b)}g.textures--}function r(b,q){var u=d.get(b);if(0<b.version&&u.__version!==b.version){var r=b.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);else if(!1===r.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",b);else{void 0===u.__webglInit&&(u.__webglInit=!0,b.addEventListener("dispose",n),u.__webglTexture=
a.createTexture(),b.isVideoTexture&&(y[b.id]=b),g.textures++);c.activeTexture(a.TEXTURE0+q);c.bindTexture(a.TEXTURE_2D,u.__webglTexture);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,b.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,b.unpackAlignment);var l=h(b.image,e.maxTextureSize);(1001!==b.wrapS||1001!==b.wrapT||1003!==b.minFilter&&1006!==b.minFilter)&&!1===k(l)&&(q=l,q instanceof HTMLImageElement||q instanceof HTMLCanvasElement||q instanceof ImageBitmap?
(r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r.width=Q.floorPowerOfTwo(q.width),r.height=Q.floorPowerOfTwo(q.height),r.getContext("2d").drawImage(q,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+q.width+"x"+q.height+"). Resized to "+r.width+"x"+r.height,q),l=r):l=q);q=k(l);var r=f.convert(b.format),v=f.convert(b.type);t(a.TEXTURE_2D,b,q);var p=b.mipmaps;if(b.isDepthTexture){p=a.DEPTH_COMPONENT;if(1015===b.type){if(!z)throw Error("Float Depth Texture only supported in WebGL2.0");
p=a.DEPTH_COMPONENT32F}else z&&(p=a.DEPTH_COMPONENT16);1026===b.format&&p===a.DEPTH_COMPONENT&&1012!==b.type&&1014!==b.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),b.type=1012,v=f.convert(b.type));1027===b.format&&(p=a.DEPTH_STENCIL,1020!==b.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),b.type=1020,v=f.convert(b.type)));c.texImage2D(a.TEXTURE_2D,0,p,l.width,l.height,0,r,
v,null)}else if(b.isDataTexture)if(0<p.length&&q){for(var A=0,w=p.length;A<w;A++)l=p[A],c.texImage2D(a.TEXTURE_2D,A,r,l.width,l.height,0,r,v,l.data);b.generateMipmaps=!1}else c.texImage2D(a.TEXTURE_2D,0,r,l.width,l.height,0,r,v,l.data);else if(b.isCompressedTexture)for(A=0,w=p.length;A<w;A++)l=p[A],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(r)?c.compressedTexImage2D(a.TEXTURE_2D,A,r,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):
c.texImage2D(a.TEXTURE_2D,A,r,l.width,l.height,0,r,v,l.data);else if(0<p.length&&q){A=0;for(w=p.length;A<w;A++)l=p[A],c.texImage2D(a.TEXTURE_2D,A,r,r,v,l);b.generateMipmaps=!1}else c.texImage2D(a.TEXTURE_2D,0,r,r,v,l);m(b,q)&&a.generateMipmap(a.TEXTURE_2D);u.__version=b.version;if(b.onUpdate)b.onUpdate(b);return}}c.activeTexture(a.TEXTURE0+q);c.bindTexture(a.TEXTURE_2D,u.__webglTexture)}function t(c,g,h){h?(a.texParameteri(c,a.TEXTURE_WRAP_S,f.convert(g.wrapS)),a.texParameteri(c,a.TEXTURE_WRAP_T,
f.convert(g.wrapT)),a.texParameteri(c,a.TEXTURE_MAG_FILTER,f.convert(g.magFilter)),a.texParameteri(c,a.TEXTURE_MIN_FILTER,f.convert(g.minFilter))):(a.texParameteri(c,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(c,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),1001===g.wrapS&&1001===g.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",g),a.texParameteri(c,a.TEXTURE_MAG_FILTER,q(g.magFilter)),a.texParameteri(c,
a.TEXTURE_MIN_FILTER,q(g.minFilter)),1003!==g.minFilter&&1006!==g.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",g));!(h=b.get("EXT_texture_filter_anisotropic"))||1015===g.type&&null===b.get("OES_texture_float_linear")||1016===g.type&&null===b.get("OES_texture_half_float_linear")||!(1<g.anisotropy||d.get(g).__currentAnisotropy)||(a.texParameterf(c,h.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(g.anisotropy,
e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}function l(b,e,g,h){var k=f.convert(e.texture.format),m=f.convert(e.texture.type);c.texImage2D(h,0,k,e.width,e.height,0,k,m,null);a.bindFramebuffer(a.FRAMEBUFFER,b);a.framebufferTexture2D(a.FRAMEBUFFER,g,h,d.get(e.texture).__webglTexture,0);a.bindFramebuffer(a.FRAMEBUFFER,null)}function p(b,c){a.bindRenderbuffer(a.RENDERBUFFER,b);c.depthBuffer&&!c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,c.width,c.height),
a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,b)):c.depthBuffer&&c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,c.width,c.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)):a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,c.width,c.height);a.bindRenderbuffer(a.RENDERBUFFER,null)}var z="undefined"!==typeof WebGL2RenderingContext&&a instanceof window.WebGL2RenderingContext,y={};this.setTexture2D=r;this.setTextureCube=
function(b,q){var u=d.get(b);if(6===b.image.length)if(0<b.version&&u.__version!==b.version){u.__image__webglTextureCube||(b.addEventListener("dispose",n),u.__image__webglTextureCube=a.createTexture(),g.textures++);c.activeTexture(a.TEXTURE0+q);c.bindTexture(a.TEXTURE_CUBE_MAP,u.__image__webglTextureCube);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,b.flipY);q=b&&b.isCompressedTexture;for(var r=b.image[0]&&b.image[0].isDataTexture,l=[],v=0;6>v;v++)l[v]=q||r?r?b.image[v].image:b.image[v]:h(b.image[v],e.maxCubemapSize);
var p=k(l[0]),w=f.convert(b.format),A=f.convert(b.type);t(a.TEXTURE_CUBE_MAP,b,p);for(v=0;6>v;v++)if(q)for(var y,I=l[v].mipmaps,z=0,x=I.length;z<x;z++)y=I[z],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(w)?c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+v,z,w,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+v,z,w,y.width,y.height,
0,w,A,y.data);else r?c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,w,l[v].width,l[v].height,0,w,A,l[v].data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,w,w,A,l[v]);m(b,p)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);u.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else c.activeTexture(a.TEXTURE0+q),c.bindTexture(a.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)};this.setTextureCubeDynamic=function(b,e){c.activeTexture(a.TEXTURE0+e);c.bindTexture(a.TEXTURE_CUBE_MAP,d.get(b).__webglTexture)};this.setupRenderTarget=
function(b){var e=d.get(b),f=d.get(b.texture);b.addEventListener("dispose",u);f.__webglTexture=a.createTexture();g.textures++;var h=!0===b.isWebGLRenderTargetCube,n=k(b);if(h){e.__webglFramebuffer=[];for(var q=0;6>q;q++)e.__webglFramebuffer[q]=a.createFramebuffer()}else e.__webglFramebuffer=a.createFramebuffer();if(h){c.bindTexture(a.TEXTURE_CUBE_MAP,f.__webglTexture);t(a.TEXTURE_CUBE_MAP,b.texture,n);for(q=0;6>q;q++)l(e.__webglFramebuffer[q],b,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+q);
m(b.texture,n)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);c.bindTexture(a.TEXTURE_CUBE_MAP,null)}else c.bindTexture(a.TEXTURE_2D,f.__webglTexture),t(a.TEXTURE_2D,b.texture,n),l(e.__webglFramebuffer,b,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),m(b.texture,n)&&a.generateMipmap(a.TEXTURE_2D),c.bindTexture(a.TEXTURE_2D,null);if(b.depthBuffer){e=d.get(b);f=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(f)throw Error("target.depthTexture not supported in Cube render targets");if(b&&b.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported");
a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer);if(!b.depthTexture||!b.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(b.depthTexture).__webglTexture&&b.depthTexture.image.width===b.width&&b.depthTexture.image.height===b.height||(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0);r(b.depthTexture,0);e=d.get(b.depthTexture).__webglTexture;if(1026===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,
a.DEPTH_ATTACHMENT,a.TEXTURE_2D,e,0);else if(1027===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,e,0);else throw Error("Unknown depthTexture format");}else if(f)for(e.__webglDepthbuffer=[],f=0;6>f;f++)a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer[f]),e.__webglDepthbuffer[f]=a.createRenderbuffer(),p(e.__webglDepthbuffer[f],b);else a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),p(e.__webglDepthbuffer,
b);a.bindFramebuffer(a.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(b){var e=b.texture,f=k(b);m(e,f)&&(b=b.isWebGLRenderTargetCube?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,e=d.get(e).__webglTexture,c.bindTexture(b,e),a.generateMipmap(b),c.bindTexture(b,null))};this.updateVideoTextures=function(){for(var a in y)y[a].update()}}function Bg(){var a={};return{get:function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c},remove:function(b){delete a[b.uuid]},clear:function(){a={}}}}function Cg(a,
b,c){function d(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++)a.texImage2D(c+b,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,e);return f}function e(b){!0!==y[b]&&(a.enable(b),y[b]=!0)}function f(b){!1!==y[b]&&(a.disable(b),y[b]=!1)}function g(b,d,g,h,k,m,q,n){0!==b?e(a.BLEND):f(a.BLEND);if(5!==b){if(b!==J||n!==la)switch(b){case 2:n?(a.blendEquationSeparate(a.FUNC_ADD,
a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE));break;case 3:n?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR));break;case 4:n?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,
a.SRC_COLOR));break;default:n?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA))}H=E=C=D=B=x=null}else{k=k||d;m=m||g;q=q||h;if(d!==x||k!==C)a.blendEquationSeparate(c.convert(d),c.convert(k)),x=d,C=k;if(g!==B||h!==D||m!==E||q!==H)a.blendFuncSeparate(c.convert(g),c.convert(h),c.convert(m),c.convert(q)),
B=g,D=h,E=m,H=q}J=b;la=n}function h(b){S!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),S=b)}function k(b){0!==b?(e(a.CULL_FACE),b!==K&&(1===b?a.cullFace(a.BACK):2===b?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):f(a.CULL_FACE);K=b}function m(b,c,d){if(b){if(e(a.POLYGON_OFFSET_FILL),L!==c||O!==d)a.polygonOffset(c,d),L=c,O=d}else f(a.POLYGON_OFFSET_FILL)}function q(b){void 0===b&&(b=a.TEXTURE0+Q-1);M!==b&&(a.activeTexture(b),M=b)}var n=new function(){var b=!1,c=new aa,d=null,e=new aa(0,0,0,0);
return{setMask:function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g);c.set(b,d,f,g);!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function(){b=!1;d=null;e.set(-1,0,0,0)}}},u=new function(){var b=!1,c=null,d=null,g=null;return{setTest:function(b){b?e(a.DEPTH_TEST):f(a.DEPTH_TEST)},setMask:function(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(a.NEVER);break;
case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);d=b}},setLocked:function(a){b=a},setClear:function(b){g!==b&&(a.clearDepth(b),g=b)},reset:function(){b=!1;g=d=c=null}}},r=new function(){var b=!1,c=null,d=null,g=null,h=null,k=null,m=null,n=null,q=null;
return{setTest:function(b){b?e(a.STENCIL_TEST):f(a.STENCIL_TEST)},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,e){if(d!==b||g!==c||h!==e)a.stencilFunc(b,c,e),d=b,g=c,h=e},setOp:function(b,c,d){if(k!==b||m!==c||n!==d)a.stencilOp(b,c,d),k=b,m=c,n=d},setLocked:function(a){b=a},setClear:function(b){q!==b&&(a.clearStencil(b),q=b)},reset:function(){b=!1;q=n=m=k=h=g=d=c=null}}},l=a.getParameter(a.MAX_VERTEX_ATTRIBS),v=new Uint8Array(l),p=new Uint8Array(l),z=new Uint8Array(l),
y={},I=null,A=null,J=null,x=null,B=null,D=null,C=null,E=null,H=null,la=!1,S=null,K=null,N=null,L=null,O=null,Q=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS),l=parseFloat(/^WebGL\ ([0-9])/.exec(a.getParameter(a.VERSION))[1]),V=1<=parseFloat(l),M=null,P={},R=new aa,G=new aa,Y={};Y[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);Y[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);n.setClear(0,0,0,1);u.setClear(1);r.setClear(0);e(a.DEPTH_TEST);u.setFunc(3);h(!1);k(1);e(a.CULL_FACE);
e(a.BLEND);g(1);return{buffers:{color:n,depth:u,stencil:r},initAttributes:function(){for(var a=0,b=v.length;a<b;a++)v[a]=0},enableAttribute:function(c){v[c]=1;0===p[c]&&(a.enableVertexAttribArray(c),p[c]=1);0!==z[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),z[c]=0)},enableAttributeAndDivisor:function(c,d){v[c]=1;0===p[c]&&(a.enableVertexAttribArray(c),p[c]=1);z[c]!==d&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,d),z[c]=d)},disableUnusedAttributes:function(){for(var b=
0,c=p.length;b!==c;++b)p[b]!==v[b]&&(a.disableVertexAttribArray(b),p[b]=0)},enable:e,disable:f,getCompressedTextureFormats:function(){if(null===I&&(I=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)I.push(c[d]);return I},useProgram:function(b){return A!==b?(a.useProgram(b),A=b,!0):!1},setBlending:g,setMaterial:function(b,c){2===b.side?f(a.CULL_FACE):
e(a.CULL_FACE);var d=1===b.side;c&&(d=!d);h(d);!0===b.transparent?g(b.blending,b.blendEquation,b.blendSrc,b.blendDst,b.blendEquationAlpha,b.blendSrcAlpha,b.blendDstAlpha,b.premultipliedAlpha):g(0);u.setFunc(b.depthFunc);u.setTest(b.depthTest);u.setMask(b.depthWrite);n.setMask(b.colorWrite);m(b.polygonOffset,b.polygonOffsetFactor,b.polygonOffsetUnits)},setFlipSided:h,setCullFace:k,setLineWidth:function(b){b!==N&&(V&&a.lineWidth(b),N=b)},setPolygonOffset:m,setScissorTest:function(b){b?e(a.SCISSOR_TEST):
f(a.SCISSOR_TEST)},activeTexture:q,bindTexture:function(b,c){null===M&&q();var d=P[M];void 0===d&&(d={type:void 0,texture:void 0},P[M]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||Y[b]),d.type=b,d.texture=c},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(ea){console.error("THREE.WebGLState:",ea)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(ea){console.error("THREE.WebGLState:",ea)}},scissor:function(b){!1===R.equals(b)&&(a.scissor(b.x,
b.y,b.z,b.w),R.copy(b))},viewport:function(b){!1===G.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),G.copy(b))},reset:function(){for(var b=0;b<p.length;b++)1===p[b]&&(a.disableVertexAttribArray(b),p[b]=0);y={};M=I=null;P={};K=S=J=A=null;n.reset();u.reset();r.reset()}}}function Dg(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&
0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}var e,f=void 0!==c.precision?c.precision:"highp",g=d(f);g!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",g,"instead."),f=g);c=!0===c.logarithmicDepthBuffer;var g=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),h=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),k=a.getParameter(a.MAX_TEXTURE_SIZE),m=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),
q=a.getParameter(a.MAX_VERTEX_ATTRIBS),n=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),u=a.getParameter(a.MAX_VARYING_VECTORS),r=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),l=0<h,v=!!b.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==e)return e;var c=b.get("EXT_texture_filter_anisotropic");return e=null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:f,logarithmicDepthBuffer:c,maxTextures:g,maxVertexTextures:h,maxTextureSize:k,maxCubemapSize:m,
maxAttributes:q,maxVertexUniforms:n,maxVaryings:u,maxFragmentUniforms:r,vertexTextures:l,floatFragmentTextures:v,floatVertexTextures:l&&v}}function ba(a,b,c,d){Ta.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}function ud(a){ba.call(this);this.cameras=a||[]}function be(a){function b(){if(null!==
d&&d.isPresenting){var b=d.getEyeParameters("left"),e=b.renderWidth,b=b.renderHeight;n=a.getPixelRatio();q=a.getSize();a.setDrawingBufferSize(2*e,b,1)}else c.enabled&&a.setDrawingBufferSize(q.width,q.height,n)}var c=this,d=null,e=null,f=null;"undefined"!==typeof window&&"VRFrameData"in window&&(e=new window.VRFrameData);var g=new O,h=new ba;h.bounds=new aa(0,0,.5,1);h.layers.enable(1);var k=new ba;k.bounds=new aa(.5,0,.5,1);k.layers.enable(2);var m=new ud([h,k]);m.layers.enable(1);m.layers.enable(2);
var q,n;"undefined"!==typeof window&&window.addEventListener("vrdisplaypresentchange",b,!1);this.enabled=!1;this.getDevice=function(){return d};this.setDevice=function(a){void 0!==a&&(d=a)};this.setPoseTarget=function(a){void 0!==a&&(f=a)};this.getCamera=function(a){if(null===d)return a;d.depthNear=a.near;d.depthFar=a.far;d.getFrameData(e);var b=e.pose,c=null!==f?f:a;null!==b.position?c.position.fromArray(b.position):c.position.set(0,0,0);null!==b.orientation&&c.quaternion.fromArray(b.orientation);
c.updateMatrixWorld();if(!1===d.isPresenting)return a;h.near=a.near;k.near=a.near;h.far=a.far;k.far=a.far;m.matrixWorld.copy(a.matrixWorld);m.matrixWorldInverse.copy(a.matrixWorldInverse);h.matrixWorldInverse.fromArray(e.leftViewMatrix);k.matrixWorldInverse.fromArray(e.rightViewMatrix);a=c.parent;null!==a&&(g.getInverse(a.matrixWorld),h.matrixWorldInverse.multiply(g),k.matrixWorldInverse.multiply(g));h.matrixWorld.getInverse(h.matrixWorldInverse);k.matrixWorld.getInverse(k.matrixWorldInverse);h.projectionMatrix.fromArray(e.leftProjectionMatrix);
k.projectionMatrix.fromArray(e.rightProjectionMatrix);m.projectionMatrix.copy(h.projectionMatrix);a=d.getLayers();a.length&&(a=a[0],null!==a.leftBounds&&4===a.leftBounds.length&&h.bounds.fromArray(a.leftBounds),null!==a.rightBounds&&4===a.rightBounds.length&&k.bounds.fromArray(a.rightBounds));return m};this.submitFrame=function(){d&&d.isPresenting&&d.submitFrame()};this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function Eg(a){var b={};
return{get:function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||
a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=d}}}function Fg(){function a(){m.value!==
d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e;c.numIntersection=0}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;k.getNormalMatrix(b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4)h.copy(a[e]).applyMatrix4(b,k),h.normal.toArray(g,d),g[d+3]=h.constant}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,h=new Ea,k=new ma,m={value:null,needsUpdate:!1};this.uniform=m;this.numIntersection=
this.numPlanes=0;this.init=function(a,c,g){var h=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return h};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,k,l,t,v){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var n=4*k,q=t.clippingState||null;m.value=q;q=b(c,l,n,v);for(c=0;c!==n;++c)q[c]=d[c];t.clippingState=q;this.numIntersection=h?this.numPlanes:0;this.numPlanes+=k}}}function af(a,b){return{convert:function(c){if(1E3===
c)return a.REPEAT;if(1001===c)return a.CLAMP_TO_EDGE;if(1002===c)return a.MIRRORED_REPEAT;if(1003===c)return a.NEAREST;if(1004===c)return a.NEAREST_MIPMAP_NEAREST;if(1005===c)return a.NEAREST_MIPMAP_LINEAR;if(1006===c)return a.LINEAR;if(1007===c)return a.LINEAR_MIPMAP_NEAREST;if(1008===c)return a.LINEAR_MIPMAP_LINEAR;if(1009===c)return a.UNSIGNED_BYTE;if(1017===c)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===c)return a.UNSIGNED_SHORT_5_5_5_1;if(1019===c)return a.UNSIGNED_SHORT_5_6_5;if(1010===c)return a.BYTE;
if(1011===c)return a.SHORT;if(1012===c)return a.UNSIGNED_SHORT;if(1013===c)return a.INT;if(1014===c)return a.UNSIGNED_INT;if(1015===c)return a.FLOAT;if(1016===c){var d=b.get("OES_texture_half_float");if(null!==d)return d.HALF_FLOAT_OES}if(1021===c)return a.ALPHA;if(1022===c)return a.RGB;if(1023===c)return a.RGBA;if(1024===c)return a.LUMINANCE;if(1025===c)return a.LUMINANCE_ALPHA;if(1026===c)return a.DEPTH_COMPONENT;if(1027===c)return a.DEPTH_STENCIL;if(100===c)return a.FUNC_ADD;if(101===c)return a.FUNC_SUBTRACT;
if(102===c)return a.FUNC_REVERSE_SUBTRACT;if(200===c)return a.ZERO;if(201===c)return a.ONE;if(202===c)return a.SRC_COLOR;if(203===c)return a.ONE_MINUS_SRC_COLOR;if(204===c)return a.SRC_ALPHA;if(205===c)return a.ONE_MINUS_SRC_ALPHA;if(206===c)return a.DST_ALPHA;if(207===c)return a.ONE_MINUS_DST_ALPHA;if(208===c)return a.DST_COLOR;if(209===c)return a.ONE_MINUS_DST_COLOR;if(210===c)return a.SRC_ALPHA_SATURATE;if(2001===c||2002===c||2003===c||2004===c)if(d=b.get("WEBGL_compressed_texture_s3tc"),null!==
d){if(2001===c)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===c)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===c)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===c)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(2100===c||2101===c||2102===c||2103===c)if(d=b.get("WEBGL_compressed_texture_pvrtc"),null!==d){if(2100===c)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===c)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===c)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===c)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===
c&&(d=b.get("WEBGL_compressed_texture_etc1"),null!==d))return d.COMPRESSED_RGB_ETC1_WEBGL;if(103===c||104===c)if(d=b.get("EXT_blend_minmax"),null!==d){if(103===c)return d.MIN_EXT;if(104===c)return d.MAX_EXT}return 1020===c&&(d=b.get("WEBGL_depth_texture"),null!==d)?d.UNSIGNED_INT_24_8_WEBGL:0}}}function ce(a){function b(){ia=new Eg(F);ia.get("WEBGL_depth_texture");ia.get("OES_texture_float");ia.get("OES_texture_float_linear");ia.get("OES_texture_half_float");ia.get("OES_texture_half_float_linear");
ia.get("OES_standard_derivatives");ia.get("OES_element_index_uint");ia.get("ANGLE_instanced_arrays");pa=new af(F,ia);T=new Dg(F,ia,a);Z=new Cg(F,ia,pa);Z.scissor(X.copy(fa).multiplyScalar(wa));Z.viewport(nb.copy(da).multiplyScalar(wa));ca=new Bg;ga=new Ag(F,ia,Z,ca,T,pa,ha);qa=new bg(F);ra=new og(F,qa,ha);ta=new rg(ra,ba);xa=new lg(F);ma=new zg(S,ia,T);ua=new qg;sa=new jg;ja=new fg(S,Z,ra,J);ya=new ng(F,ia,ba);za=new mg(F,ia,ba);Aa=new Zf(S,F,Z,ga,T);Ba=new $f(S,F,Z,ga,T);S.info.programs=ma.programs;
S.context=F;S.capabilities=T;S.extensions=ia;S.properties=ca;S.renderLists=sa;S.state=Z}function c(a){a.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");L=!0}function d(){console.log("THREE.WebGLRenderer: Context Restored.");L=!1;b()}function e(a){a=a.target;a.removeEventListener("dispose",e);f(a);ca.remove(a)}function f(a){var b=ca.get(a).program;a.program=void 0;void 0!==b&&ma.releaseProgram(b)}function g(a,b,c){a.render(function(a){S.renderBufferImmediate(a,b,c)})}function h(a){null!==
Ca&&Ca(a);(a=ka.getDevice())&&a.isPresenting?a.requestAnimationFrame(h):window.requestAnimationFrame(h)}function k(a,b,c){if(!1!==a.visible){if(a.layers.test(b.layers))if(a.isLight)D.push(a),a.castShadow&&C.push(a);else if(a.isSprite)a.frustumCulled&&!$d.intersectsSprite(a)||H.push(a);else if(a.isLensFlare)la.push(a);else if(a.isImmediateRenderObject)c&&Ob.setFromMatrixPosition(a.matrixWorld).applyMatrix4(td),E.push(a,null,a.material,Ob.z,null);else if(a.isMesh||a.isLine||a.isPoints)if(a.isSkinnedMesh&&
a.skeleton.update(),!a.frustumCulled||$d.intersectsObject(a)){c&&Ob.setFromMatrixPosition(a.matrixWorld).applyMatrix4(td);var d=ta.update(a),e=a.material;if(Array.isArray(e))for(var f=d.groups,g=0,h=f.length;g<h;g++){var m=f[g],n=e[m.materialIndex];n&&n.visible&&E.push(a,d,n,Ob.z,m)}else e.visible&&E.push(a,d,e,Ob.z,null)}a=a.children;g=0;for(h=a.length;g<h;g++)k(a[g],b,c)}}function m(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,k=g.geometry,m=void 0===d?g.material:d,g=g.group;if(c.isArrayCamera){W=
c;for(var n=c.cameras,u=0,l=n.length;u<l;u++){var r=n[u];if(h.layers.test(r.layers)){var t=r.bounds;Z.viewport(nb.set(t.x*ea,t.y*U,t.z*ea,t.w*U).multiplyScalar(wa));q(h,b,r,k,m,g)}}}else W=null,q(h,b,c,k,m,g)}}function q(a,b,c,d,e,f){a.onBeforeRender(S,b,c,d,e,f);a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld);a.normalMatrix.getNormalMatrix(a.modelViewMatrix);if(a.isImmediateRenderObject){var h=a.isMesh&&0>a.matrixWorld.determinant();Z.setMaterial(e,h);h=u(c,b.fog,e,a);R="";
g(a,h,e)}else S.renderBufferDirect(c,b.fog,d,e,a,f);a.onAfterRender(S,b,c,d,e,f)}function n(a,b,c){var d=ca.get(a);c=ma.getParameters(a,ua.state,C,b,Ja.numPlanes,Ja.numIntersection,c);var g=ma.getProgramCode(a,c),h=d.program,k=!0;if(void 0===h)a.addEventListener("dispose",e);else if(h.code!==g)f(a);else{if(void 0!==c.shaderID)return;k=!1}k&&(c.shaderID?(h=tb[c.shaderID],d.shader={name:a.type,uniforms:Ga.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}):d.shader={name:a.type,
uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader},a.onBeforeCompile(d.shader),h=ma.acquireProgram(a,d.shader,c,g),d.program=h,a.program=h);c=h.getAttributes();if(a.morphTargets)for(g=a.numSupportedMorphTargets=0;g<S.maxMorphTargets;g++)0<=c["morphTarget"+g]&&a.numSupportedMorphTargets++;if(a.morphNormals)for(g=a.numSupportedMorphNormals=0;g<S.maxMorphNormals;g++)0<=c["morphNormal"+g]&&a.numSupportedMorphNormals++;c=d.shader.uniforms;if(!a.isShaderMaterial&&!a.isRawShaderMaterial||
!0===a.clipping)d.numClippingPlanes=Ja.numPlanes,d.numIntersection=Ja.numIntersection,c.clippingPlanes=Ja.uniform;d.fog=b;d.lightsHash=ua.state.hash;a.lights&&(c.ambientLightColor.value=ua.state.ambient,c.directionalLights.value=ua.state.directional,c.spotLights.value=ua.state.spot,c.rectAreaLights.value=ua.state.rectArea,c.pointLights.value=ua.state.point,c.hemisphereLights.value=ua.state.hemi,c.directionalShadowMap.value=ua.state.directionalShadowMap,c.directionalShadowMatrix.value=ua.state.directionalShadowMatrix,
c.spotShadowMap.value=ua.state.spotShadowMap,c.spotShadowMatrix.value=ua.state.spotShadowMatrix,c.pointShadowMap.value=ua.state.pointShadowMap,c.pointShadowMatrix.value=ua.state.pointShadowMatrix);a=d.program.getUniforms();a=mb.seqWithValue(a.seq,c);d.uniformsList=a}function u(a,b,c,d){Y=0;var e=ca.get(c);sd&&(ae||a!==V)&&Ja.setState(c.clippingPlanes,c.clipIntersection,c.clipShadows,a,e,a===V&&c.id===P);!1===c.needsUpdate&&(void 0===e.program?c.needsUpdate=!0:c.fog&&e.fog!==b?c.needsUpdate=!0:c.lights&&
e.lightsHash!==ua.state.hash?c.needsUpdate=!0:void 0===e.numClippingPlanes||e.numClippingPlanes===Ja.numPlanes&&e.numIntersection===Ja.numIntersection||(c.needsUpdate=!0));c.needsUpdate&&(n(c,b,d),c.needsUpdate=!1);var f=!1,g=!1,h=!1,k=e.program,m=k.getUniforms(),q=e.shader.uniforms;Z.useProgram(k.program)&&(h=g=f=!0);c.id!==P&&(P=c.id,g=!0);if(f||a!==V){m.setValue(F,"projectionMatrix",a.projectionMatrix);T.logarithmicDepthBuffer&&m.setValue(F,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));V!==(W||
a)&&(V=W||a,h=g=!0);if(c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap)f=m.map.cameraPosition,void 0!==f&&f.setValue(F,Ob.setFromMatrixPosition(a.matrixWorld));(c.isMeshPhongMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial||c.skinning)&&m.setValue(F,"viewMatrix",a.matrixWorldInverse)}if(c.skinning&&(m.setOptional(F,d,"bindMatrix"),m.setOptional(F,d,"bindMatrixInverse"),a=d.skeleton))if(f=a.bones,T.floatVertexTextures){if(void 0===
a.boneTexture){var f=Math.sqrt(4*f.length),f=Q.ceilPowerOfTwo(f),f=Math.max(f,4),u=new Float32Array(f*f*4);u.set(a.boneMatrices);var r=new lb(u,f,f,1023,1015);a.boneMatrices=u;a.boneTexture=r;a.boneTextureSize=f}m.setValue(F,"boneTexture",a.boneTexture);m.setValue(F,"boneTextureSize",a.boneTextureSize)}else m.setOptional(F,a,"boneMatrices");g&&(m.setValue(F,"toneMappingExposure",S.toneMappingExposure),m.setValue(F,"toneMappingWhitePoint",S.toneMappingWhitePoint),c.lights&&(g=h,q.ambientLightColor.needsUpdate=
g,q.directionalLights.needsUpdate=g,q.pointLights.needsUpdate=g,q.spotLights.needsUpdate=g,q.rectAreaLights.needsUpdate=g,q.hemisphereLights.needsUpdate=g),b&&c.fog&&(q.fogColor.value=b.color,b.isFog?(q.fogNear.value=b.near,q.fogFar.value=b.far):b.isFogExp2&&(q.fogDensity.value=b.density)),c.isMeshBasicMaterial?l(q,c):c.isMeshLambertMaterial?(l(q,c),c.emissiveMap&&(q.emissiveMap.value=c.emissiveMap)):c.isMeshPhongMaterial?(l(q,c),c.isMeshToonMaterial?(t(q,c),c.gradientMap&&(q.gradientMap.value=c.gradientMap)):
t(q,c)):c.isMeshStandardMaterial?(l(q,c),c.isMeshPhysicalMaterial&&(q.clearCoat.value=c.clearCoat,q.clearCoatRoughness.value=c.clearCoatRoughness),q.roughness.value=c.roughness,q.metalness.value=c.metalness,c.roughnessMap&&(q.roughnessMap.value=c.roughnessMap),c.metalnessMap&&(q.metalnessMap.value=c.metalnessMap),c.emissiveMap&&(q.emissiveMap.value=c.emissiveMap),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale)),
c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias),c.envMap&&(q.envMapIntensity.value=c.envMapIntensity)):c.isMeshDepthMaterial?(l(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=c.displacementBias)):c.isMeshDistanceMaterial?(l(q,c),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=
c.displacementScale,q.displacementBias.value=c.displacementBias),q.referencePosition.value.copy(c.referencePosition),q.nearDistance.value=c.nearDistance,q.farDistance.value=c.farDistance):c.isMeshNormalMaterial?(l(q,c),c.bumpMap&&(q.bumpMap.value=c.bumpMap,q.bumpScale.value=c.bumpScale),c.normalMap&&(q.normalMap.value=c.normalMap,q.normalScale.value.copy(c.normalScale)),c.displacementMap&&(q.displacementMap.value=c.displacementMap,q.displacementScale.value=c.displacementScale,q.displacementBias.value=
c.displacementBias)):c.isLineBasicMaterial?(q.diffuse.value=c.color,q.opacity.value=c.opacity,c.isLineDashedMaterial&&(q.dashSize.value=c.dashSize,q.totalSize.value=c.dashSize+c.gapSize,q.scale.value=c.scale)):c.isPointsMaterial?(q.diffuse.value=c.color,q.opacity.value=c.opacity,q.size.value=c.size*wa,q.scale.value=.5*U,q.map.value=c.map,null!==c.map&&(!0===c.map.matrixAutoUpdate&&(b=c.map.offset,g=c.map.repeat,h=c.map.center,c.map.matrix.setUvTransform(b.x,b.y,g.x,g.y,c.map.rotation,h.x,h.y)),q.uvTransform.value.copy(c.map.matrix))):
c.isShadowMaterial&&(q.color.value=c.color,q.opacity.value=c.opacity),void 0!==q.ltcMat&&(q.ltcMat.value=K.LTC_MAT_TEXTURE),void 0!==q.ltcMag&&(q.ltcMag.value=K.LTC_MAG_TEXTURE),mb.upload(F,e.uniformsList,q,S));m.setValue(F,"modelViewMatrix",d.modelViewMatrix);m.setValue(F,"normalMatrix",d.normalMatrix);m.setValue(F,"modelMatrix",d.matrixWorld);return k}function l(a,b){a.opacity.value=b.opacity;b.color&&(a.diffuse.value=b.color);b.emissive&&a.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity);
b.map&&(a.map.value=b.map);b.alphaMap&&(a.alphaMap.value=b.alphaMap);b.specularMap&&(a.specularMap.value=b.specularMap);b.envMap&&(a.envMap.value=b.envMap,a.flipEnvMap.value=b.envMap&&b.envMap.isCubeTexture?-1:1,a.reflectivity.value=b.reflectivity,a.refractionRatio.value=b.refractionRatio);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.aoMap&&(a.aoMap.value=b.aoMap,a.aoMapIntensity.value=b.aoMapIntensity);if(b.map)var c=b.map;else b.specularMap?c=b.specularMap:
b.displacementMap?c=b.displacementMap:b.normalMap?c=b.normalMap:b.bumpMap?c=b.bumpMap:b.roughnessMap?c=b.roughnessMap:b.metalnessMap?c=b.metalnessMap:b.alphaMap?c=b.alphaMap:b.emissiveMap&&(c=b.emissiveMap);if(void 0!==c){c.isWebGLRenderTarget&&(c=c.texture);if(!0===c.matrixAutoUpdate){b=c.offset;var d=c.repeat,e=c.center;c.matrix.setUvTransform(b.x,b.y,d.x,d.y,c.rotation,e.x,e.y)}a.uvTransform.value.copy(c.matrix)}}function t(a,b){a.specular.value=b.specular;a.shininess.value=Math.max(b.shininess,
1E-4);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}console.log("THREE.WebGLRenderer","89");a=a||{};var v=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas"),w=void 0!==a.context?a.context:null,z=void 0!==a.alpha?a.alpha:!1,y=void 0!==a.depth?a.depth:!0,I=void 0!==a.stencil?a.stencil:!0,A=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,x=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,B=void 0!==a.powerPreference?a.powerPreference:"default",D=[],C=[],E=null,H=[],la=[];this.domElement=v;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=
!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var S=this,L=!1,N=null,M=null,P=-1,R="",V=null,W=null,nb=new aa,X=new aa,G=null,Y=0,ea=v.width,U=v.height,wa=1,da=new aa(0,0,ea,U),fa=new aa(0,0,ea,U),$e=!1,$d=new rd,Ja=new Fg,sd=!1,ae=!1,td=new O,Ob=new p,ha={geometries:0,textures:0},ba={frame:0,
calls:0,vertices:0,faces:0,points:0};this.info={render:ba,memory:ha,programs:null};try{z={alpha:z,depth:y,stencil:I,antialias:A,premultipliedAlpha:J,preserveDrawingBuffer:x,powerPreference:B};v.addEventListener("webglcontextlost",c,!1);v.addEventListener("webglcontextrestored",d,!1);var F=w||v.getContext("webgl",z)||v.getContext("experimental-webgl",z);if(null===F){if(null!==v.getContext("webgl"))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");
}void 0===F.getShaderPrecisionFormat&&(F.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Gg){console.error("THREE.WebGLRenderer: "+Gg.message)}var ia,T,Z,ca,ga,qa,ra,ta,ua,ma,sa,ja,xa,ya,za,Aa,Ba,pa;b();var ka=new be(S);this.vr=ka;var Ea=new Ue(S,ta,T.maxTextureSize);this.shadowMap=Ea;this.getContext=function(){return F};this.getContextAttributes=function(){return F.getContextAttributes()};this.forceContextLoss=function(){var a=ia.get("WEBGL_lose_context");a&&
a.loseContext()};this.forceContextRestore=function(){var a=ia.get("WEBGL_lose_context");a&&a.restoreContext()};this.getPixelRatio=function(){return wa};this.setPixelRatio=function(a){void 0!==a&&(wa=a,this.setSize(ea,U,!1))};this.getSize=function(){return{width:ea,height:U}};this.setSize=function(a,b,c){var d=ka.getDevice();d&&d.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ea=a,U=b,v.width=a*wa,v.height=b*wa,!1!==c&&(v.style.width=a+"px",v.style.height=
b+"px"),this.setViewport(0,0,a,b))};this.getDrawingBufferSize=function(){return{width:ea*wa,height:U*wa}};this.setDrawingBufferSize=function(a,b,c){ea=a;U=b;wa=c;v.width=a*c;v.height=b*c;this.setViewport(0,0,a,b)};this.setViewport=function(a,b,c,d){da.set(a,U-b-d,c,d);Z.viewport(nb.copy(da).multiplyScalar(wa))};this.setScissor=function(a,b,c,d){fa.set(a,U-b-d,c,d);Z.scissor(X.copy(fa).multiplyScalar(wa))};this.setScissorTest=function(a){Z.setScissorTest($e=a)};this.getClearColor=function(){return ja.getClearColor()};
this.setClearColor=function(){ja.setClearColor.apply(ja,arguments)};this.getClearAlpha=function(){return ja.getClearAlpha()};this.setClearAlpha=function(){ja.setClearAlpha.apply(ja,arguments)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=F.COLOR_BUFFER_BIT;if(void 0===b||b)d|=F.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=F.STENCIL_BUFFER_BIT;F.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,
!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.dispose=function(){v.removeEventListener("webglcontextlost",c,!1);v.removeEventListener("webglcontextrestored",d,!1);sa.dispose();ka.dispose()};this.renderBufferImmediate=function(a,b,c){Z.initAttributes();var d=ca.get(a);a.hasPositions&&!d.position&&(d.position=F.createBuffer());a.hasNormals&&!d.normal&&(d.normal=F.createBuffer());a.hasUvs&&!d.uv&&(d.uv=F.createBuffer());a.hasColors&&!d.color&&(d.color=F.createBuffer());
b=b.getAttributes();a.hasPositions&&(F.bindBuffer(F.ARRAY_BUFFER,d.position),F.bufferData(F.ARRAY_BUFFER,a.positionArray,F.DYNAMIC_DRAW),Z.enableAttribute(b.position),F.vertexAttribPointer(b.position,3,F.FLOAT,!1,0,0));if(a.hasNormals){F.bindBuffer(F.ARRAY_BUFFER,d.normal);if(!c.isMeshPhongMaterial&&!c.isMeshStandardMaterial&&!c.isMeshNormalMaterial&&!0===c.flatShading)for(var e=0,f=3*a.count;e<f;e+=9){var g=a.normalArray,h=(g[e+0]+g[e+3]+g[e+6])/3,k=(g[e+1]+g[e+4]+g[e+7])/3,m=(g[e+2]+g[e+5]+g[e+
8])/3;g[e+0]=h;g[e+1]=k;g[e+2]=m;g[e+3]=h;g[e+4]=k;g[e+5]=m;g[e+6]=h;g[e+7]=k;g[e+8]=m}F.bufferData(F.ARRAY_BUFFER,a.normalArray,F.DYNAMIC_DRAW);Z.enableAttribute(b.normal);F.vertexAttribPointer(b.normal,3,F.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(F.bindBuffer(F.ARRAY_BUFFER,d.uv),F.bufferData(F.ARRAY_BUFFER,a.uvArray,F.DYNAMIC_DRAW),Z.enableAttribute(b.uv),F.vertexAttribPointer(b.uv,2,F.FLOAT,!1,0,0));a.hasColors&&0!==c.vertexColors&&(F.bindBuffer(F.ARRAY_BUFFER,d.color),F.bufferData(F.ARRAY_BUFFER,a.colorArray,
F.DYNAMIC_DRAW),Z.enableAttribute(b.color),F.vertexAttribPointer(b.color,3,F.FLOAT,!1,0,0));Z.disableUnusedAttributes();F.drawArrays(F.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){var g=e.isMesh&&0>e.matrixWorld.determinant();Z.setMaterial(d,g);var h=u(a,b,d,e);a=c.id+"_"+h.id+"_"+(!0===d.wireframe);var k=!1;a!==R&&(R=a,k=!0);e.morphTargetInfluences&&(xa.update(e,c,d,h),k=!0);var g=c.index,m=c.attributes.position;b=1;!0===d.wireframe&&(g=ra.getWireframeAttribute(c),
b=2);a=ya;if(null!==g){var q=qa.get(g);a=za;a.setIndex(q)}if(k){k=void 0;if(c&&c.isInstancedBufferGeometry&&null===ia.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===k&&(k=0);Z.initAttributes();var n=c.attributes,h=h.getAttributes(),l=d.defaultAttributeValues;for(J in h){var r=h[J];if(0<=r){var t=n[J];if(void 0!==t){var v=t.normalized,p=t.itemSize,
w=qa.get(t);if(void 0!==w){var A=w.buffer,y=w.type,w=w.bytesPerElement;if(t.isInterleavedBufferAttribute){var z=t.data,I=z.stride,t=t.offset;z&&z.isInstancedInterleavedBuffer?(Z.enableAttributeAndDivisor(r,z.meshPerAttribute),void 0===c.maxInstancedCount&&(c.maxInstancedCount=z.meshPerAttribute*z.count)):Z.enableAttribute(r);F.bindBuffer(F.ARRAY_BUFFER,A);F.vertexAttribPointer(r,p,y,v,I*w,(k*I+t)*w)}else t.isInstancedBufferAttribute?(Z.enableAttributeAndDivisor(r,t.meshPerAttribute),void 0===c.maxInstancedCount&&
(c.maxInstancedCount=t.meshPerAttribute*t.count)):Z.enableAttribute(r),F.bindBuffer(F.ARRAY_BUFFER,A),F.vertexAttribPointer(r,p,y,v,0,k*p*w)}}else if(void 0!==l&&(v=l[J],void 0!==v))switch(v.length){case 2:F.vertexAttrib2fv(r,v);break;case 3:F.vertexAttrib3fv(r,v);break;case 4:F.vertexAttrib4fv(r,v);break;default:F.vertexAttrib1fv(r,v)}}}Z.disableUnusedAttributes()}null!==g&&F.bindBuffer(F.ELEMENT_ARRAY_BUFFER,q.buffer)}q=0;null!==g?q=g.count:void 0!==m&&(q=m.count);g=c.drawRange.start*b;m=null!==
f?f.start*b:0;var J=Math.max(g,m);f=Math.max(0,Math.min(q,g+c.drawRange.count*b,m+(null!==f?f.count*b:Infinity))-1-J+1);if(0!==f){if(e.isMesh)if(!0===d.wireframe)Z.setLineWidth(d.wireframeLinewidth*(null===N?wa:1)),a.setMode(F.LINES);else switch(e.drawMode){case 0:a.setMode(F.TRIANGLES);break;case 1:a.setMode(F.TRIANGLE_STRIP);break;case 2:a.setMode(F.TRIANGLE_FAN)}else e.isLine?(d=d.linewidth,void 0===d&&(d=1),Z.setLineWidth(d*(null===N?wa:1)),e.isLineSegments?a.setMode(F.LINES):e.isLineLoop?a.setMode(F.LINE_LOOP):
a.setMode(F.LINE_STRIP)):e.isPoints&&a.setMode(F.POINTS);c&&c.isInstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,J,f):a.render(J,f)}};this.compile=function(a,b){D.length=0;C.length=0;a.traverse(function(a){a.isLight&&(D.push(a),a.castShadow&&C.push(a))});ua.setup(D,C,b);a.traverse(function(b){if(b.material)if(Array.isArray(b.material))for(var c=0;c<b.material.length;c++)n(b.material[c],a.fog,b);else n(b.material,a.fog,b)})};var Fa=!1,Ca=null;this.animate=function(a){Ca=a;Fa||((a=
ka.getDevice())&&a.isPresenting?a.requestAnimationFrame(h):window.requestAnimationFrame(h),Fa=!0)};this.render=function(a,b,c,d){if(!b||!b.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!L){R="";P=-1;V=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();ka.enabled&&(b=ka.getCamera(b));td.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);$d.setFromMatrix(td);D.length=0;C.length=0;H.length=0;la.length=
0;ae=this.localClippingEnabled;sd=Ja.init(this.clippingPlanes,ae,b);E=sa.get(a,b);E.init();k(a,b,S.sortObjects);!0===S.sortObjects&&E.sort();ga.updateVideoTextures();sd&&Ja.beginShadows();Ea.render(C,a,b);ua.setup(D,C,b);sd&&Ja.endShadows();ba.frame++;ba.calls=0;ba.vertices=0;ba.faces=0;ba.points=0;void 0===c&&(c=null);this.setRenderTarget(c);ja.render(E,a,b,d);d=E.opaque;var e=E.transparent;if(a.overrideMaterial){var f=a.overrideMaterial;d.length&&m(d,a,b,f);e.length&&m(e,a,b,f)}else d.length&&m(d,
a,b),e.length&&m(e,a,b);Ba.render(H,a,b);Aa.render(la,a,b,nb);c&&ga.updateRenderTargetMipmap(c);Z.buffers.depth.setTest(!0);Z.buffers.depth.setMask(!0);Z.buffers.color.setMask(!0);Z.setPolygonOffset(!1);ka.enabled&&ka.submitFrame()}};this.setFaceCulling=function(a,b){Z.setCullFace(a);Z.setFlipSided(0===b)};this.allocTextureUnit=function(){var a=Y;a>=T.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+a+" texture units while this GPU supports only "+T.maxTextures);Y+=1;return a};this.setTexture2D=
function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);ga.setTexture2D(b,c)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);ga.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTargetCube&&
(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);b&&b.isCubeTexture||Array.isArray(b.image)&&6===b.image.length?ga.setTextureCube(b,c):ga.setTextureCubeDynamic(b,c)}}();this.getRenderTarget=function(){return N};this.setRenderTarget=function(a){(N=a)&&void 0===ca.get(a).__webglFramebuffer&&ga.setupRenderTarget(a);var b=null,c=!1;a?(b=ca.get(a).__webglFramebuffer,a.isWebGLRenderTargetCube&&(b=
b[a.activeCubeFace],c=!0),nb.copy(a.viewport),X.copy(a.scissor),G=a.scissorTest):(nb.copy(da).multiplyScalar(wa),X.copy(fa).multiplyScalar(wa),G=$e);M!==b&&(F.bindFramebuffer(F.FRAMEBUFFER,b),M=b);Z.viewport(nb);Z.scissor(X);Z.setScissorTest(G);c&&(c=ca.get(a.texture),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,c.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(a&&a.isWebGLRenderTarget){var g=ca.get(a).__webglFramebuffer;
if(g){var h=!1;g!==M&&(F.bindFramebuffer(F.FRAMEBUFFER,g),h=!0);try{var k=a.texture,m=k.format,q=k.type;1023!==m&&pa.convert(m)!==F.getParameter(F.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===q||pa.convert(q)===F.getParameter(F.IMPLEMENTATION_COLOR_READ_TYPE)||1015===q&&(ia.get("OES_texture_float")||ia.get("WEBGL_color_buffer_float"))||1016===q&&ia.get("EXT_color_buffer_half_float")?
F.checkFramebufferStatus(F.FRAMEBUFFER)===F.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&F.readPixels(b,c,d,e,pa.convert(m),pa.convert(q),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{h&&F.bindFramebuffer(F.FRAMEBUFFER,M)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}
function Pb(a,b){this.name="";this.color=new H(a);this.density=void 0!==b?b:2.5E-4}function Qb(a,b,c){this.name="";this.color=new H(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}function vd(){x.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0}function de(a,b,c,d,e){x.call(this);this.lensFlares=[];this.positionScreen=new p;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)}function hb(a){P.call(this);this.type="SpriteMaterial";
this.color=new H(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;this.setValues(a)}function Cc(a){x.call(this);this.type="Sprite";this.material=void 0!==a?a:new hb}function Dc(){x.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Ec(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),
this.boneInverses=[],a=0,b=this.bones.length;a<b;a++)this.boneInverses.push(new O)}function wd(){x.call(this);this.type="Bone"}function xd(a,b){ra.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new O;this.bindMatrixInverse=new O;a=this.initBones();a=new Ec(a);this.bind(a,this.matrixWorld);this.normalizeSkinWeights()}function W(a){P.call(this);this.type="LineBasicMaterial";this.color=new H(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;
this.setValues(a)}function sa(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new X(a,b);x.call(this);this.type="Line";this.geometry=void 0!==a?a:new E;this.material=void 0!==b?b:new W({color:16777215*Math.random()})}function X(a,b){sa.call(this,a,b);this.type="LineSegments"}function yd(a,b){sa.call(this,a,b);this.type="LineLoop"}function Ka(a){P.call(this);this.type="PointsMaterial";this.color=new H(16777215);
this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;this.setValues(a)}function Rb(a,b){x.call(this);this.type="Points";this.geometry=void 0!==a?a:new E;this.material=void 0!==b?b:new Ka({color:16777215*Math.random()})}function Fc(){x.call(this);this.type="Group"}function ee(a,b,c,d,e,f,g,h,k){function m(){a.removeEventListener("loadeddata",m,!1);q.needsUpdate=!0}U.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1;var q=this;a.addEventListener("loadeddata",m,!1)}function Sb(a,b,c,d,
e,f,g,h,k,m,q,n){U.call(this,null,f,g,h,k,m,d,e,q,n);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function Gc(a,b,c,d,e,f,g,h,k,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===m&&(c=1012);void 0===c&&1027===m&&(c=1020);U.call(this,null,d,e,f,g,h,m,c,k);this.image={width:a,height:b};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=
this.flipY=!1}function Tb(a){E.call(this);this.type="WireframeGeometry";var b=[],c,d,e,f=[0,0],g={},h=["a","b","c"];if(a&&a.isGeometry){var k=a.faces;var m=0;for(d=k.length;m<d;m++){var q=k[m];for(c=0;3>c;c++){var n=q[h[c]];var u=q[h[(c+1)%3]];f[0]=Math.min(n,u);f[1]=Math.max(n,u);n=f[0]+","+f[1];void 0===g[n]&&(g[n]={index1:f[0],index2:f[1]})}}for(n in g)m=g[n],h=a.vertices[m.index1],b.push(h.x,h.y,h.z),h=a.vertices[m.index2],b.push(h.x,h.y,h.z)}else if(a&&a.isBufferGeometry){var h=new p;if(null!==
a.index){k=a.attributes.position;q=a.index;var l=a.groups;0===l.length&&(l=[{start:0,count:q.count,materialIndex:0}]);a=0;for(e=l.length;a<e;++a)for(m=l[a],c=m.start,d=m.count,m=c,d=c+d;m<d;m+=3)for(c=0;3>c;c++)n=q.getX(m+c),u=q.getX(m+(c+1)%3),f[0]=Math.min(n,u),f[1]=Math.max(n,u),n=f[0]+","+f[1],void 0===g[n]&&(g[n]={index1:f[0],index2:f[1]});for(n in g)m=g[n],h.fromBufferAttribute(k,m.index1),b.push(h.x,h.y,h.z),h.fromBufferAttribute(k,m.index2),b.push(h.x,h.y,h.z)}else for(k=a.attributes.position,
m=0,d=k.count/3;m<d;m++)for(c=0;3>c;c++)g=3*m+c,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z),g=3*m+(c+1)%3,h.fromBufferAttribute(k,g),b.push(h.x,h.y,h.z)}this.addAttribute("position",new B(b,3))}function Hc(a,b,c){L.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new Ub(a,b,c));this.mergeVertices()}function Ub(a,b,c){E.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],f=[],g=[],h=
new p,k=new p,m=new p,q=new p,n=new p,u,l,t=b+1;for(u=0;u<=c;u++){var v=u/c;for(l=0;l<=b;l++){var w=l/b,k=a(w,v,k);e.push(k.x,k.y,k.z);0<=w-1E-5?(m=a(w-1E-5,v,m),q.subVectors(k,m)):(m=a(w+1E-5,v,m),q.subVectors(m,k));0<=v-1E-5?(m=a(w,v-1E-5,m),n.subVectors(k,m)):(m=a(w,v+1E-5,m),n.subVectors(m,k));h.crossVectors(q,n).normalize();f.push(h.x,h.y,h.z);g.push(w,v)}}for(u=0;u<c;u++)for(l=0;l<b;l++)a=u*t+l+1,h=(u+1)*t+l+1,k=(u+1)*t+l,d.push(u*t+l,a,k),d.push(a,h,k);this.setIndex(d);this.addAttribute("position",
new B(e,3));this.addAttribute("normal",new B(f,3));this.addAttribute("uv",new B(g,2))}function Ic(a,b,c,d){L.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new ja(a,b,c,d));this.mergeVertices()}function ja(a,b,c,d){function e(a){h.push(a.x,a.y,a.z)}function f(b,c){b*=3;c.x=a[b+0];c.y=a[b+1];c.z=a[b+2]}function g(a,b,c,d){0>d&&1===a.x&&(k[b]=a.x-1);0===c.x&&0===c.z&&(k[b]=d/2/Math.PI+.5)}E.call(this);this.type="PolyhedronBufferGeometry";
this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;var h=[],k=[];(function(a){for(var c=new p,d=new p,g=new p,h=0;h<b.length;h+=3){f(b[h+0],c);f(b[h+1],d);f(b[h+2],g);var k,m,l=c,z=d,y=g,I=Math.pow(2,a),A=[];for(m=0;m<=I;m++){A[m]=[];var J=l.clone().lerp(y,m/I),x=z.clone().lerp(y,m/I),B=I-m;for(k=0;k<=B;k++)A[m][k]=0===k&&m===I?J:J.clone().lerp(x,k/B)}for(m=0;m<I;m++)for(k=0;k<2*(I-m)-1;k++)l=Math.floor(k/2),0===k%2?(e(A[m][l+1]),e(A[m+1][l]),e(A[m][l])):(e(A[m][l+1]),e(A[m+1][l+
1]),e(A[m+1][l]))}})(d);(function(a){for(var b=new p,c=0;c<h.length;c+=3)b.x=h[c+0],b.y=h[c+1],b.z=h[c+2],b.normalize().multiplyScalar(a),h[c+0]=b.x,h[c+1]=b.y,h[c+2]=b.z})(c);(function(){for(var a=new p,b=0;b<h.length;b+=3)a.x=h[b+0],a.y=h[b+1],a.z=h[b+2],k.push(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));for(var a=new p,b=new p,c=new p,d=new p,e=new D,f=new D,l=new D,w=0,z=0;w<h.length;w+=9,z+=6){a.set(h[w+0],h[w+1],h[w+2]);b.set(h[w+3],h[w+4],h[w+
5]);c.set(h[w+6],h[w+7],h[w+8]);e.set(k[z+0],k[z+1]);f.set(k[z+2],k[z+3]);l.set(k[z+4],k[z+5]);d.copy(a).add(b).add(c).divideScalar(3);var y=Math.atan2(d.z,-d.x);g(e,z+0,a,y);g(f,z+2,b,y);g(l,z+4,c,y)}for(a=0;a<k.length;a+=6)b=k[a+0],c=k[a+2],d=k[a+4],e=Math.min(b,c,d),.9<Math.max(b,c,d)&&.1>e&&(.2>b&&(k[a+0]+=1),.2>c&&(k[a+2]+=1),.2>d&&(k[a+4]+=1))})();this.addAttribute("position",new B(h,3));this.addAttribute("normal",new B(h.slice(),3));this.addAttribute("uv",new B(k,2));0===d?this.computeVertexNormals():
this.normalizeNormals()}function Jc(a,b){L.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Vb(a,b));this.mergeVertices()}function Vb(a,b){ja.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Kc(a,b){L.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new ub(a,b));this.mergeVertices()}
function ub(a,b){ja.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Lc(a,b){L.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Wb(a,b));this.mergeVertices()}function Wb(a,b){var c=(1+Math.sqrt(5))/2;ja.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,
5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Mc(a,b){L.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Xb(a,b));this.mergeVertices()}function Xb(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;ja.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,
d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Nc(a,b,c,d,e,f){L.call(this);this.type="TubeGeometry";this.parameters={path:a,
tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new Yb(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}function Yb(a,b,c,d,e){function f(e){q=a.getPointAt(e/b,q);var f=g.normals[e];e=g.binormals[e];for(l=0;l<=d;l++){var m=l/d*Math.PI*2,n=Math.sin(m),m=-Math.cos(m);k.x=m*f.x+n*e.x;k.y=m*f.y+n*e.y;k.z=m*f.z+n*e.z;k.normalize();t.push(k.x,
k.y,k.z);h.x=q.x+c*k.x;h.y=q.y+c*k.y;h.z=q.z+c*k.z;r.push(h.x,h.y,h.z)}}E.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;var g=a.computeFrenetFrames(b,e);this.tangents=g.tangents;this.normals=g.normals;this.binormals=g.binormals;var h=new p,k=new p,m=new D,q=new p,n,l,r=[],t=[],v=[],w=[];for(n=0;n<b;n++)f(n);f(!1===e?b:0);for(n=0;n<=b;n++)for(l=0;l<=d;l++)m.x=n/b,m.y=l/d,v.push(m.x,m.y);(function(){for(l=
1;l<=b;l++)for(n=1;n<=d;n++){var a=(d+1)*l+(n-1),c=(d+1)*l+n,e=(d+1)*(l-1)+n;w.push((d+1)*(l-1)+(n-1),a,e);w.push(a,c,e)}})();this.setIndex(w);this.addAttribute("position",new B(r,3));this.addAttribute("normal",new B(t,3));this.addAttribute("uv",new B(v,2))}function Oc(a,b,c,d,e,f,g){L.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");
this.fromBufferGeometry(new Zb(a,b,c,d,e,f));this.mergeVertices()}function Zb(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}E.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||1;b=b||.4;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var h=[],k=[],m=[],q=[],n,l=new p,r=new p,t=new p,v=new p,w=new p,z=new p,y=new p;for(n=0;n<=
c;++n){var I=n/c*e*Math.PI*2;g(I,e,f,a,t);g(I+.01,e,f,a,v);z.subVectors(v,t);y.addVectors(v,t);w.crossVectors(z,y);y.crossVectors(w,z);w.normalize();y.normalize();for(I=0;I<=d;++I){var A=I/d*Math.PI*2,J=-b*Math.cos(A),A=b*Math.sin(A);l.x=t.x+(J*y.x+A*w.x);l.y=t.y+(J*y.y+A*w.y);l.z=t.z+(J*y.z+A*w.z);k.push(l.x,l.y,l.z);r.subVectors(l,t).normalize();m.push(r.x,r.y,r.z);q.push(n/c);q.push(I/d)}}for(I=1;I<=c;I++)for(n=1;n<=d;n++)a=(d+1)*I+(n-1),b=(d+1)*I+n,e=(d+1)*(I-1)+n,h.push((d+1)*(I-1)+(n-1),a,e),
h.push(a,b,e);this.setIndex(h);this.addAttribute("position",new B(k,3));this.addAttribute("normal",new B(m,3));this.addAttribute("uv",new B(q,2))}function Pc(a,b,c,d,e){L.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new $b(a,b,c,d,e));this.mergeVertices()}function $b(a,b,c,d,e){E.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||
.4;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=[],g=[],h=[],k=[],m=new p,q=new p,n=new p,l,r;for(l=0;l<=c;l++)for(r=0;r<=d;r++){var t=r/d*e,v=l/c*Math.PI*2;q.x=(a+b*Math.cos(v))*Math.cos(t);q.y=(a+b*Math.cos(v))*Math.sin(t);q.z=b*Math.sin(v);g.push(q.x,q.y,q.z);m.x=a*Math.cos(t);m.y=a*Math.sin(t);n.subVectors(q,m).normalize();h.push(n.x,n.y,n.z);k.push(r/d);k.push(l/c)}for(l=1;l<=c;l++)for(r=1;r<=d;r++)a=(d+1)*(l-1)+r-1,b=(d+1)*(l-1)+r,e=(d+1)*l+r,f.push((d+1)*l+r-1,a,e),f.push(a,b,
e);this.setIndex(f);this.addAttribute("position",new B(g,3));this.addAttribute("normal",new B(h,3));this.addAttribute("uv",new B(k,2))}function bf(a,b,c,d,e){for(var f,g=0,h=b,k=c-d;h<c;h+=d)g+=(a[k]-a[h])*(a[h+1]+a[k+1]),k=h;if(e===0<g)for(e=b;e<c;e+=d)f=cf(e,a[e],a[e+1],f);else for(e=c-d;e>=b;e-=d)f=cf(e,a[e],a[e+1],f);f&&vb(f,f.next)&&(Qc(f),f=f.next);return f}function Rc(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!vb(a,a.next)&&0!==ta(a.prev,a,a.next))a=a.next;else{Qc(a);a=b=a.prev;
if(a===a.next)break;c=!0}}while(c||a!==b);return b}function Sc(a,b,c,d,e,f,g){if(a){if(!g&&f){var h=a,k=h;do null===k.z&&(k.z=fe(k.x,k.y,d,e,f)),k.prevZ=k.prev,k=k.nextZ=k.next;while(k!==h);k.prevZ.nextZ=null;k.prevZ=null;var h=k,m,q,n,l,r=1;do{k=h;var t=h=null;for(q=0;k;){q++;var p=k;for(m=n=0;m<r&&(n++,p=p.nextZ,p);m++);for(l=r;0<n||0<l&&p;)0!==n&&(0===l||!p||k.z<=p.z)?(m=k,k=k.nextZ,n--):(m=p,p=p.nextZ,l--),t?t.nextZ=m:h=m,m.prevZ=t,t=m;k=p}t.nextZ=null;r*=2}while(1<q)}for(h=a;a.prev!==a.next;){k=
a.prev;p=a.next;if(f)a:{t=a;l=d;var w=e,z=f;q=t.prev;n=t;r=t.next;if(0<=ta(q,n,r))t=!1;else{var y=q.x>n.x?q.x>r.x?q.x:r.x:n.x>r.x?n.x:r.x,I=q.y>n.y?q.y>r.y?q.y:r.y:n.y>r.y?n.y:r.y;m=fe(q.x<n.x?q.x<r.x?q.x:r.x:n.x<r.x?n.x:r.x,q.y<n.y?q.y<r.y?q.y:r.y:n.y<r.y?n.y:r.y,l,w,z);l=fe(y,I,l,w,z);for(w=t.nextZ;w&&w.z<=l;){if(w!==t.prev&&w!==t.next&&zd(q.x,q.y,n.x,n.y,r.x,r.y,w.x,w.y)&&0<=ta(w.prev,w,w.next)){t=!1;break a}w=w.nextZ}for(w=t.prevZ;w&&w.z>=m;){if(w!==t.prev&&w!==t.next&&zd(q.x,q.y,n.x,n.y,r.x,
r.y,w.x,w.y)&&0<=ta(w.prev,w,w.next)){t=!1;break a}w=w.prevZ}t=!0}}else a:if(t=a,q=t.prev,n=t,r=t.next,0<=ta(q,n,r))t=!1;else{for(m=t.next.next;m!==t.prev;){if(zd(q.x,q.y,n.x,n.y,r.x,r.y,m.x,m.y)&&0<=ta(m.prev,m,m.next)){t=!1;break a}m=m.next}t=!0}if(t)b.push(k.i/c),b.push(a.i/c),b.push(p.i/c),Qc(a),h=a=p.next;else if(a=p,a===h){if(!g)Sc(Rc(a),b,c,d,e,f,1);else if(1===g){g=b;h=c;k=a;do p=k.prev,t=k.next.next,!vb(p,t)&&df(p,k,k.next,t)&&Tc(p,t)&&Tc(t,p)&&(g.push(p.i/h),g.push(k.i/h),g.push(t.i/h),
Qc(k),Qc(k.next),k=a=t),k=k.next;while(k!==a);a=k;Sc(a,b,c,d,e,f,2)}else if(2===g)a:{g=a;do{for(h=g.next.next;h!==g.prev;){if(k=g.i!==h.i){k=g;p=h;if(t=k.next.i!==p.i&&k.prev.i!==p.i){b:{t=k;do{if(t.i!==k.i&&t.next.i!==k.i&&t.i!==p.i&&t.next.i!==p.i&&df(t,t.next,k,p)){t=!0;break b}t=t.next}while(t!==k);t=!1}t=!t}if(t=t&&Tc(k,p)&&Tc(p,k)){t=k;q=!1;n=(k.x+p.x)/2;p=(k.y+p.y)/2;do t.y>p!==t.next.y>p&&t.next.y!==t.y&&n<(t.next.x-t.x)*(p-t.y)/(t.next.y-t.y)+t.x&&(q=!q),t=t.next;while(t!==k);t=q}k=t}if(k){a=
ef(g,h);g=Rc(g,g.next);a=Rc(a,a.next);Sc(g,b,c,d,e,f);Sc(a,b,c,d,e,f);break a}h=h.next}g=g.next}while(g!==a)}break}}}}function Hg(a,b){return a.x-b.x}function Ig(a,b){var c=b,d=a.x,e=a.y,f=-Infinity;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var g=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>f){f=g;if(g===d){if(e===c.y)return c;if(e===c.next.y)return c.next}var h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===f)return h.prev;b=h;for(var g=h.x,k=h.y,m=Infinity,q,c=h.next;c!==
b;)d>=c.x&&c.x>=g&&d!==c.x&&zd(e<k?d:f,e,g,k,e<k?f:d,e,c.x,c.y)&&(q=Math.abs(e-c.y)/(d-c.x),(q<m||q===m&&c.x>h.x)&&Tc(c,a)&&(h=c,m=q)),c=c.next;return h}function fe(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function Jg(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function zd(a,b,c,d,e,f,g,h){return 0<=(e-
g)*(b-h)-(a-g)*(f-h)&&0<=(a-g)*(d-h)-(c-g)*(b-h)&&0<=(c-g)*(f-h)-(e-g)*(d-h)}function ta(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function vb(a,b){return a.x===b.x&&a.y===b.y}function df(a,b,c,d){return vb(a,b)&&vb(c,d)||vb(a,d)&&vb(c,b)?!0:0<ta(a,b,c)!==0<ta(a,b,d)&&0<ta(c,d,a)!==0<ta(c,d,b)}function Tc(a,b){return 0>ta(a.prev,a,a.next)?0<=ta(a,b,a.next)&&0<=ta(a,a.prev,b):0>ta(a,b,a.prev)||0>ta(a,a.next,b)}function ef(a,b){var c=new ge(a.i,a.x,a.y),d=new ge(b.i,b.x,b.y),e=a.next,f=b.prev;
a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function cf(a,b,c,d){a=new ge(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function Qc(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function ge(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function ib(a,b){L.call(this);this.type="ExtrudeGeometry";this.parameters=
{shapes:a,options:b};this.fromBufferGeometry(new La(a,b));this.mergeVertices()}function La(a,b){"undefined"!==typeof a&&(E.call(this),this.type="ExtrudeBufferGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeVertexNormals())}function Uc(a,b){L.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new ac(a,b));this.mergeVertices()}function ac(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),
new L;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);La.call(this,a,b);this.type="TextBufferGeometry"}function Vc(a,b,c,d,e,f,g){L.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new wb(a,b,c,d,e,f,g));this.mergeVertices()}
function wb(a,b,c,d,e,f,g){E.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||1;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h=f+g,k,m,q=0,n=[],l=new p,r=new p,t=[],v=[],w=[],z=[];for(m=0;m<=c;m++){var y=[],I=m/c;for(k=0;k<=b;k++){var A=k/b;l.x=-a*Math.cos(d+A*e)*Math.sin(f+I*g);l.y=a*Math.cos(f+
I*g);l.z=a*Math.sin(d+A*e)*Math.sin(f+I*g);v.push(l.x,l.y,l.z);r.set(l.x,l.y,l.z).normalize();w.push(r.x,r.y,r.z);z.push(A,1-I);y.push(q++)}n.push(y)}for(m=0;m<c;m++)for(k=0;k<b;k++)a=n[m][k+1],d=n[m][k],e=n[m+1][k],g=n[m+1][k+1],(0!==m||0<f)&&t.push(a,d,g),(m!==c-1||h<Math.PI)&&t.push(d,e,g);this.setIndex(t);this.addAttribute("position",new B(v,3));this.addAttribute("normal",new B(w,3));this.addAttribute("uv",new B(z,2))}function Wc(a,b,c,d,e,f){L.call(this);this.type="RingGeometry";this.parameters=
{innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new bc(a,b,c,d,e,f));this.mergeVertices()}function bc(a,b,c,d,e,f){E.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||.5;b=b||1;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=[],h=[],k=[],m=[],q=a,n=(b-a)/d,l=new p,r=new D,t,v;for(t=
0;t<=d;t++){for(v=0;v<=c;v++)a=e+v/c*f,l.x=q*Math.cos(a),l.y=q*Math.sin(a),h.push(l.x,l.y,l.z),k.push(0,0,1),r.x=(l.x/b+1)/2,r.y=(l.y/b+1)/2,m.push(r.x,r.y);q+=n}for(t=0;t<d;t++)for(b=t*(c+1),v=0;v<c;v++)a=v+b,e=a+c+1,f=a+c+2,q=a+1,g.push(a,e,q),g.push(e,f,q);this.setIndex(g);this.addAttribute("position",new B(h,3));this.addAttribute("normal",new B(k,3));this.addAttribute("uv",new B(m,2))}function Xc(a,b,c,d){L.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};
this.fromBufferGeometry(new cc(a,b,c,d));this.mergeVertices()}function cc(a,b,c,d){E.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=Q.clamp(d,0,2*Math.PI);var e=[],f=[],g=[],h=1/b,k=new p,m=new D,q;for(q=0;q<=b;q++){var n=c+q*h*d;var l=Math.sin(n),r=Math.cos(n);for(n=0;n<=a.length-1;n++)k.x=a[n].x*l,k.y=a[n].y,k.z=a[n].x*r,f.push(k.x,k.y,k.z),m.x=q/b,m.y=n/(a.length-1),g.push(m.x,m.y)}for(q=0;q<b;q++)for(n=
0;n<a.length-1;n++)c=n+q*a.length,h=c+a.length,k=c+a.length+1,m=c+1,e.push(c,h,m),e.push(h,k,m);this.setIndex(e);this.addAttribute("position",new B(f,3));this.addAttribute("uv",new B(g,2));this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,e=new p,f=new p,g=new p,c=b*a.length*3,n=q=0;q<a.length;q++,n+=3)e.x=d[n+0],e.y=d[n+1],e.z=d[n+2],f.x=d[c+n+0],f.y=d[c+n+1],f.z=d[c+n+2],g.addVectors(e,f).normalize(),d[n+0]=d[c+n+0]=g.x,d[n+1]=d[c+n+1]=g.y,d[n+2]=d[c+n+2]=g.z}function xb(a,
b){L.call(this);this.type="ShapeGeometry";"object"===typeof b&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new yb(a,b));this.mergeVertices()}function yb(a,b){function c(a){var c,h=e.length/3;a=a.extractPoints(b);var m=a.shape,q=a.holes;if(!1===$a.isClockWise(m))for(m=m.reverse(),a=0,c=q.length;a<c;a++){var l=q[a];!0===$a.isClockWise(l)&&(q[a]=l.reverse())}var p=$a.triangulateShape(m,
q);a=0;for(c=q.length;a<c;a++)l=q[a],m=m.concat(l);a=0;for(c=m.length;a<c;a++)l=m[a],e.push(l.x,l.y,0),f.push(0,0,1),g.push(l.x,l.y);a=0;for(c=p.length;a<c;a++)m=p[a],d.push(m[0]+h,m[1]+h,m[2]+h),k+=3}E.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var d=[],e=[],f=[],g=[],h=0,k=0;if(!1===Array.isArray(a))c(a);else for(var m=0;m<a.length;m++)c(a[m]),this.addGroup(h,k,m),h+=k,k=0;this.setIndex(d);this.addAttribute("position",new B(e,3));this.addAttribute("normal",
new B(f,3));this.addAttribute("uv",new B(g,2))}function ff(a,b){b.shapes=[];if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++)b.shapes.push(a[c].uuid);else b.shapes.push(a.uuid);return b}function dc(a,b){E.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:b};var c=[];b=Math.cos(Q.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a.isBufferGeometry){var g=new L;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=
0,k=g.length;h<k;h++)for(var m=g[h],q=0;3>q;q++){var n=m[f[q]];var l=m[f[(q+1)%3]];d[0]=Math.min(n,l);d[1]=Math.max(n,l);n=d[0]+","+d[1];void 0===e[n]?e[n]={index1:d[0],index2:d[1],face1:h,face2:void 0}:e[n].face2=h}for(n in e)if(d=e[n],void 0===d.face2||g[d.face1].normal.dot(g[d.face2].normal)<=b)f=a[d.index1],c.push(f.x,f.y,f.z),f=a[d.index2],c.push(f.x,f.y,f.z);this.addAttribute("position",new B(c,3))}function zb(a,b,c,d,e,f,g,h){L.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,
radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new ab(a,b,c,d,e,f,g,h));this.mergeVertices()}function ab(a,b,c,d,e,f,g,h){function k(c){var e,f=new D,k=new p,u=0,v=!0===c?a:b,y=!0===c?1:-1;var x=t;for(e=1;e<=d;e++)n.push(0,w*y,0),l.push(0,y,0),r.push(.5,.5),t++;var B=t;for(e=0;e<=d;e++){var C=e/d*h+g,E=Math.cos(C),C=Math.sin(C);k.x=v*C;k.y=w*y;k.z=v*E;n.push(k.x,k.y,k.z);l.push(0,y,0);f.x=.5*E+.5;f.y=.5*C*y+.5;r.push(f.x,f.y);
t++}for(e=0;e<d;e++)f=x+e,k=B+e,!0===c?q.push(k,k+1,f):q.push(k+1,k,f),u+=3;m.addGroup(z,u,!0===c?1:2);z+=u}E.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var q=[],n=[],l=[],r=[],t=0,v=[],w=c/2,z=0;(function(){var f,k,u=new p,
J=new p,x=0,B=(b-a)/c;for(k=0;k<=e;k++){var D=[],C=k/e,E=C*(b-a)+a;for(f=0;f<=d;f++){var H=f/d,K=H*h+g,S=Math.sin(K),K=Math.cos(K);J.x=E*S;J.y=-C*c+w;J.z=E*K;n.push(J.x,J.y,J.z);u.set(S,B,K).normalize();l.push(u.x,u.y,u.z);r.push(H,1-C);D.push(t++)}v.push(D)}for(f=0;f<d;f++)for(k=0;k<e;k++)u=v[k+1][f],J=v[k+1][f+1],B=v[k][f+1],q.push(v[k][f],u,B),q.push(u,J,B),x+=6;m.addGroup(z,x,0);z+=x})();!1===f&&(0<a&&k(!0),0<b&&k(!1));this.setIndex(q);this.addAttribute("position",new B(n,3));this.addAttribute("normal",
new B(l,3));this.addAttribute("uv",new B(r,2))}function Yc(a,b,c,d,e,f,g){zb.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function Zc(a,b,c,d,e,f,g){ab.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function $c(a,b,c,d){L.call(this);this.type="CircleGeometry";this.parameters=
{radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new ec(a,b,c,d));this.mergeVertices()}function ec(a,b,c,d){E.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=[],f=[],g=[],h=[],k,m=new p,q=new D;f.push(0,0,0);g.push(0,0,1);h.push(.5,.5);var n=0;for(k=3;n<=b;n++,k+=3){var l=c+n/b*d;m.x=a*Math.cos(l);m.y=a*Math.sin(l);f.push(m.x,m.y,
m.z);g.push(0,0,1);q.x=(f[k]/a+1)/2;q.y=(f[k+1]/a+1)/2;h.push(q.x,q.y)}for(k=1;k<=b;k++)e.push(k,k+1,0);this.setIndex(e);this.addAttribute("position",new B(f,3));this.addAttribute("normal",new B(g,3));this.addAttribute("uv",new B(h,2))}function fc(a){P.call(this);this.type="ShadowMaterial";this.color=new H(0);this.opacity=1;this.transparent=this.lights=!0;this.setValues(a)}function gc(a){Fa.call(this,a);this.type="RawShaderMaterial"}function Ua(a){P.call(this);this.defines={STANDARD:""};this.type=
"MeshStandardMaterial";this.color=new H(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new H(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=
.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function Ab(a){Ua.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function Ma(a){P.call(this);this.type="MeshPhongMaterial";this.color=new H(16777215);this.specular=new H(1118481);this.shininess=30;this.lightMap=this.map=null;
this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new H(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=
this.morphTargets=this.skinning=!1;this.setValues(a)}function Bb(a){Ma.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function Cb(a){P.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new D(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=
!1;this.setValues(a)}function Db(a){P.call(this);this.type="MeshLambertMaterial";this.color=new H(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new H(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=
this.skinning=!1;this.setValues(a)}function Eb(a){W.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}function he(a,b,c){var d=this,e=!1,f=0,g=0,h=void 0;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void 0!==d.onStart)d.onStart(a,f,g);e=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,g);if(f===g&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==
d.onError)d.onError(a)};this.resolveURL=function(a){return h?h(a):a};this.setURLModifier=function(a){h=a;return this}}function Na(a){this.manager=void 0!==a?a:xa}function gf(a){this.manager=void 0!==a?a:xa;this._parser=null}function ie(a){this.manager=void 0!==a?a:xa;this._parser=null}function ad(a){this.manager=void 0!==a?a:xa}function je(a){this.manager=void 0!==a?a:xa}function Ad(a){this.manager=void 0!==a?a:xa}function C(){this.type="Curve";this.arcLengthDivisions=200}function Ba(a,b,c,d,e,f,
g,h){C.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=f||2*Math.PI;this.aClockwise=g||!1;this.aRotation=h||0}function hc(a,b,c,d,e,f){Ba.call(this,a,b,c,c,d,e,f);this.type="ArcCurve"}function ke(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,f,g,h,k){e=k*(g-e);h=k*(h-f);a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},initNonuniformCatmullRom:function(e,f,g,h,k,m,q){e=((f-e)/k-(g-e)/(k+m)+(g-f)/m)*m;h=((g-f)/m-
(h-f)/(m+q)+(h-g)/q)*m;a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},calc:function(e){var f=e*e;return a+b*e+c*f+d*f*e}}}function ca(a,b,c,d){C.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=d||.5}function hf(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var f=a*a;return(2*c-2*d+b+e)*a*f+(-3*c+3*d-2*b-e)*f+b*a+c}function bd(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}function cd(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*
a*a*d+a*a*a*e}function Oa(a,b,c,d){C.call(this);this.type="CubicBezierCurve";this.v0=a||new D;this.v1=b||new D;this.v2=c||new D;this.v3=d||new D}function Va(a,b,c,d){C.call(this);this.type="CubicBezierCurve3";this.v0=a||new p;this.v1=b||new p;this.v2=c||new p;this.v3=d||new p}function ya(a,b){C.call(this);this.type="LineCurve";this.v1=a||new D;this.v2=b||new D}function Pa(a,b){C.call(this);this.type="LineCurve3";this.v1=a||new p;this.v2=b||new p}function Qa(a,b,c){C.call(this);this.type="QuadraticBezierCurve";
this.v0=a||new D;this.v1=b||new D;this.v2=c||new D}function Wa(a,b,c){C.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new p;this.v1=b||new p;this.v2=c||new p}function Ra(a){C.call(this);this.type="SplineCurve";this.points=a||[]}function bb(){C.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}function Sa(a){bb.call(this);this.type="Path";this.currentPoint=new D;a&&this.setFromPoints(a)}function jb(a){Sa.call(this,a);this.uuid=Q.generateUUID();this.type="Shape";this.holes=
[]}function da(a,b){x.call(this);this.type="Light";this.color=new H(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}function Bd(a,b,c){da.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(x.DefaultUp);this.updateMatrix();this.groundColor=new H(b)}function Fb(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new D(512,512);this.map=null;this.matrix=new O}function Cd(){Fb.call(this,new ba(50,1,.5,500))}function Dd(a,b,c,d,e,f){da.call(this,a,b);this.type=
"SpotLight";this.position.copy(x.DefaultUp);this.updateMatrix();this.target=new x;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Cd}function Ed(a,b,c,d){da.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=
a/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Fb(new ba(90,1,.5,500))}function Fd(){Fb.call(this,new Lb(-5,5,5,-5,.5,500))}function Gd(a,b){da.call(this,a,b);this.type="DirectionalLight";this.position.copy(x.DefaultUp);this.updateMatrix();this.target=new x;this.shadow=new Fd}function Hd(a,b){da.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}function Id(a,b,c,d){da.call(this,a,b);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();
this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Jd(a,b,c,d){T.call(this,a,b,c,d)}function Kd(a,b,c){T.call(this,a,b,c)}function pa(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}function Ld(a,b,c,d){pa.call(this,a,b,c,d)}function dd(a,b,c,d){T.call(this,a,b,c,d)}function Md(a,b,c,d){T.call(this,a,b,c,d)}function ic(a,b,c,d){T.call(this,a,b,c,d)}function Nd(a,b,c,d){pa.call(this,a,b,c,d);
this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function ed(a,b,c,d){pa.call(this,a,b,c,d)}function Od(a,b,c,d){pa.call(this,a,b,c,d)}function T(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=ga.convertArray(b,this.TimeBufferType);this.values=ga.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation);
this.validate();this.optimize()}function jc(a,b,c,d){T.call(this,a,b,c,d)}function Ca(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=Q.generateUUID();0>this.duration&&this.resetDuration();this.optimize()}function Pd(a){this.manager=void 0!==a?a:xa;this.textures={}}function le(a){this.manager=void 0!==a?a:xa}function kc(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}function me(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),
a=void 0);this.manager=void 0!==a?a:xa;this.withCredentials=!1}function jf(a){this.manager=void 0!==a?a:xa;this.texturePath=""}function ne(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.manager=void 0!==a?a:xa;this.options=void 0}function oe(){this.type="ShapePath";this.subPaths=[];this.currentPath=null}function pe(a){this.type="Font";
this.data=a}function kf(a){this.manager=void 0!==a?a:xa}function qe(a){this.manager=void 0!==a?a:xa}function lf(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new ba;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new ba;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function fd(a,b,c){x.call(this);this.type="CubeCamera";var d=new ba(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new p(1,0,0));this.add(d);var e=new ba(90,1,a,b);e.up.set(0,-1,
0);e.lookAt(new p(-1,0,0));this.add(e);var f=new ba(90,1,a,b);f.up.set(0,0,1);f.lookAt(new p(0,1,0));this.add(f);var g=new ba(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new p(0,-1,0));this.add(g);var h=new ba(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new p(0,0,1));this.add(h);var k=new ba(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new p(0,0,-1));this.add(k);this.renderTarget=new Jb(c,c,{format:1022,magFilter:1006,minFilter:1006});this.renderTarget.texture.name="CubeCamera";this.update=function(a,b){null===this.parent&&
this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,k,c);a.setRenderTarget(null)};this.clear=function(a,b,c,d){for(var e=this.renderTarget,f=0;6>f;f++)e.activeCubeFace=f,a.setRenderTarget(e),a.clear(b,c,d);a.setRenderTarget(null)}}
function re(){x.call(this);this.type="AudioListener";this.context=se.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}function lc(a){x.call(this);this.type="Audio";this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.loop=!1;this.offset=this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function te(a){lc.call(this,
a);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function ue(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function ve(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=
b;this.referenceCount=this.useCount=this.cumulativeWeight=0}function mf(a,b,c){c=c||qa.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}function qa(a,b,c){this.path=b;this.parsedPath=c||qa.parseTrackName(b);this.node=qa.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function nf(){this.uuid=Q.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b)a[arguments[b].uuid]=
b;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function of(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:2400,endingEnd:2400},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=
d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function we(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=
0;this.timeScale=1}function Qd(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}function xe(){E.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function ye(a,b,c,d){this.uuid=Q.generateUUID();this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}function mc(a,b){this.uuid=Q.generateUUID();this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};
this.onUploadCallback=function(){};this.version=0}function ze(a,b,c){mc.call(this,a,b);this.meshPerAttribute=c||1}function Ae(a,b,c){M.call(this,a,b);this.meshPerAttribute=c||1}function pf(a,b,c,d){this.ray=new sb(a,b);this.near=c||0;this.far=d||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function qf(a,
b){return a.distance-b.distance}function Be(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d)){a=a.children;d=0;for(var e=a.length;d<e;d++)Be(a[d],b,c,!0)}}function rf(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function sf(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this}function tf(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}function gd(a){x.call(this);
this.material=a;this.render=function(){}}function hd(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=3*c.faces.length:c&&c.isBufferGeometry&&(b=c.attributes.normal.count);c=new E;b=new B(6*b,3);c.addAttribute("position",b);X.call(this,c,new W({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function nc(a,b){x.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.color=b;a=new E;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new B(b,3));b=new W({fog:!1});this.cone=new X(a,b);this.add(this.cone);this.update()}function uf(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,uf(a.children[c]));return b}function oc(a){for(var b=uf(a),c=new E,d=[],e=
[],f=new H(0,0,1),g=new H(0,1,0),h=0;h<b.length;h++){var k=b[h];k.parent&&k.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(f.r,f.g,f.b),e.push(g.r,g.g,g.b))}c.addAttribute("position",new B(d,3));c.addAttribute("color",new B(e,3));d=new W({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});X.call(this,c,d);this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}function pc(a,b,c){this.light=a;this.light.updateMatrixWorld();this.color=c;a=new wb(b,4,2);b=new Aa({wireframe:!0,
fog:!1});ra.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}function qc(a,b){x.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new W({fog:!1});b=new E;b.addAttribute("position",new M(new Float32Array(15),3));this.line=new sa(b,a);this.add(this.line);this.update()}function rc(a,b,c){x.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.color=c;a=new ub(b);a.rotateY(.5*Math.PI);this.material=new Aa({wireframe:!0,fog:!1});void 0===this.color&&(this.material.vertexColors=2);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.addAttribute("color",new M(b,3));this.add(new ra(a,this.material));this.update()}function id(a,b,c,d){a=a||10;b=b||10;c=new H(void 0!==c?c:4473924);d=new H(void 0!==d?d:8947848);var e=b/2,f=a/b,g=a/2;a=[];for(var h=[],k=0,m=0,q=-g;k<=b;k++,q+=f){a.push(-g,0,q,g,0,q);a.push(q,0,-g,q,0,g);var n=
k===e?c:d;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3;n.toArray(h,m);m+=3}b=new E;b.addAttribute("position",new B(a,3));b.addAttribute("color",new B(h,3));c=new W({vertexColors:2});X.call(this,b,c)}function Rd(a,b,c,d,e,f){a=a||10;b=b||16;c=c||8;d=d||64;e=new H(void 0!==e?e:4473924);f=new H(void 0!==f?f:8947848);var g=[],h=[],k;for(k=0;k<=b;k++){var m=k/b*2*Math.PI;var q=Math.sin(m)*a;m=Math.cos(m)*a;g.push(0,0,0);g.push(q,0,m);var n=k&1?e:f;h.push(n.r,n.g,n.b);h.push(n.r,n.g,n.b)}for(k=
0;k<=c;k++){n=k&1?e:f;var l=a-a/c*k;for(b=0;b<d;b++)m=b/d*2*Math.PI,q=Math.sin(m)*l,m=Math.cos(m)*l,g.push(q,0,m),h.push(n.r,n.g,n.b),m=(b+1)/d*2*Math.PI,q=Math.sin(m)*l,m=Math.cos(m)*l,g.push(q,0,m),h.push(n.r,n.g,n.b)}a=new E;a.addAttribute("position",new B(g,3));a.addAttribute("color",new B(h,3));g=new W({vertexColors:2});X.call(this,a,g)}function jd(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;(c=this.object.geometry)&&c.isGeometry?b=c.faces.length:
console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new E;b=new B(6*b,3);c.addAttribute("position",b);X.call(this,c,new W({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()}function sc(a,b,c){x.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new E;a.addAttribute("position",new B([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new W({fog:!1});
this.lightPlane=new sa(a,b);this.add(this.lightPlane);a=new E;a.addAttribute("position",new B([0,0,0,0,0,1],3));this.targetLine=new sa(a,b);this.add(this.targetLine);this.update()}function kd(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){f.push(0,0,0);g.push(b.r,b.g,b.b);void 0===h[a]&&(h[a]=[]);h[a].push(f.length/3-1)}var d=new E,e=new W({color:16777215,vertexColors:1}),f=[],g=[],h={},k=new H(16755200),m=new H(16711680),q=new H(43775),l=new H(16777215),u=new H(3355443);b("n1","n2",k);b("n2",
"n4",k);b("n4","n3",k);b("n3","n1",k);b("f1","f2",k);b("f2","f4",k);b("f4","f3",k);b("f3","f1",k);b("n1","f1",k);b("n2","f2",k);b("n3","f3",k);b("n4","f4",k);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",q);b("u2","u3",q);b("u3","u1",q);b("c","t",l);b("p","c",u);b("cn1","cn2",u);b("cn3","cn4",u);b("cf1","cf2",u);b("cf3","cf4",u);d.addAttribute("position",new B(f,3));d.addAttribute("color",new B(g,3));X.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();
this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function Gb(a,b){this.object=a;void 0===b&&(b=16776960);a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var c=new Float32Array(24),d=new E;d.setIndex(new M(a,1));d.addAttribute("position",new M(c,3));X.call(this,d,new W({color:b}));this.matrixAutoUpdate=!1;this.update()}function ld(a,b){this.type="Box3Helper";this.box=a;a=void 0!==b?b:16776960;b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,
4,1,5,2,6,3,7]);var c=new E;c.setIndex(new M(b,1));c.addAttribute("position",new B([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));X.call(this,c,new W({color:a}));this.geometry.computeBoundingSphere()}function md(a,b,c){this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=void 0!==c?c:16776960;b=new E;b.addAttribute("position",new B([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));b.computeBoundingSphere();sa.call(this,b,new W({color:a}));b=new E;
b.addAttribute("position",new B([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));b.computeBoundingSphere();this.add(new ra(b,new Aa({color:a,opacity:.2,transparent:!0,depthWrite:!1})))}function Hb(a,b,c,d,e,f){x.call(this);void 0===d&&(d=16776960);void 0===c&&(c=1);void 0===e&&(e=.2*c);void 0===f&&(f=.2*e);void 0===Sd&&(Sd=new E,Sd.addAttribute("position",new B([0,0,0,0,1,0],3)),Ce=new ab(0,.5,1,5,1),Ce.translate(0,-.5,0));this.position.copy(b);this.line=new sa(Sd,new W({color:d}));this.line.matrixAutoUpdate=
!1;this.add(this.line);this.cone=new ra(Ce,new Aa({color:d}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,f)}function nd(a){a=a||1;var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new E;a.addAttribute("position",new B(b,3));a.addAttribute("color",new B([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new W({vertexColors:2});X.call(this,a,b)}function vf(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ca.call(this,
a);this.type="catmullrom";this.closed=!0}function wf(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ca.call(this,a);this.type="catmullrom"}function De(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");ca.call(this,a);this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a});void 0===
Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,
e)&&(b[e]=d[e])}return b}}();Object.assign(za.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;for(var b=b.slice(0),c=0,d=b.length;c<d;c++)b[c].call(this,a)}}}});var Q={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var a=[],b=0;256>b;b++)a[b]=(16>b?"0":"")+b.toString(16).toUpperCase();return function(){var b=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=4294967295*Math.random()|0,f=4294967295*Math.random()|0;return a[b&255]+a[b>>8&255]+a[b>>16&255]+a[b>>24&255]+"-"+a[d&255]+a[d>>8&
255]+"-"+a[d>>16&15|64]+a[d>>24&255]+"-"+a[e&63|128]+a[e>>8&255]+"-"+a[e>>16&255]+a[e>>24&255]+a[f&255]+a[f>>8&255]+a[f>>16&255]+a[f>>24&255]}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;
a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*Q.DEG2RAD},radToDeg:function(a){return a*Q.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/
Math.LN2))}};Object.defineProperties(D.prototype,{width:{get:function(){return this.x},set:function(a){this.x=a}},height:{get:function(){return this.y},set:function(a){this.y=a}}});Object.assign(D.prototype,{isVector2:!0,set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+
a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},
addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=
a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},applyMatrix3:function(a){var b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,
b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a=new D,b=new D;return function(c,d){a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=
Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||
1)},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,
a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=
this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}});Object.assign(O.prototype,{isMatrix4:!0,set:function(a,b,c,d,e,f,g,h,k,m,q,l,u,r,t,p){var n=this.elements;n[0]=a;n[4]=b;n[8]=c;n[12]=d;n[1]=e;n[5]=f;n[9]=g;n[13]=h;n[2]=k;n[6]=m;n[10]=q;n[14]=l;n[3]=u;n[7]=r;n[11]=t;n[15]=p;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new O).fromArray(this.elements)},copy:function(a){var b=this.elements;a=a.elements;b[0]=
a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this},copyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,
1);return this},extractRotation:function(){var a=new p;return function(b){var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){var k=f*h;var m=f*e;var q=c*h;a=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=m+q*d;b[5]=k-a*d;b[9]=-c*g;b[2]=a-k*d;b[6]=q+m*d;b[10]=f*g}else"YXZ"===a.order?(k=g*h,m=g*e,q=d*h,a=d*e,b[0]=k+a*c,b[4]=q*c-m,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=m*c-q,b[6]=a+k*c,b[10]=f*g):"ZXY"===a.order?(k=g*h,m=g*e,q=d*h,a=d*e,b[0]=k-a*c,b[4]=-f*e,b[8]=q+m*c,b[1]=m+q*c,b[5]=f*h,b[9]=
a-k*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(k=f*h,m=f*e,q=c*h,a=c*e,b[0]=g*h,b[4]=q*d-m,b[8]=k*d+a,b[1]=g*e,b[5]=a*d+k,b[9]=m*d-q,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(k=f*g,m=f*d,q=c*g,a=c*d,b[0]=g*h,b[4]=a-k*e,b[8]=q*e+m,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=m*e+q,b[10]=k-a*e):"XZY"===a.order&&(k=f*g,m=f*d,q=c*g,a=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=k*e+a,b[5]=f*h,b[9]=m*e-q,b[2]=q*e-m,b[6]=c*h,b[10]=a*e+k);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(a){var b=
this.elements,c=a._x,d=a._y,e=a._z,f=a._w,g=c+c,h=d+d,k=e+e;a=c*g;var m=c*h,c=c*k,q=d*h,d=d*k,e=e*k,g=f*g,h=f*h,f=f*k;b[0]=1-(q+e);b[4]=m-f;b[8]=c+h;b[1]=m+f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+q);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a=new p,b=new p,c=new p;return function(d,e,f){var g=this.elements;c.subVectors(d,e);0===c.lengthSq()&&(c.z=1);c.normalize();a.crossVectors(f,c);0===a.lengthSq()&&(1===Math.abs(f.z)?c.x+=1E-4:c.z+=1E-4,
c.normalize(),a.crossVectors(f,c));a.normalize();b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements;
b=this.elements;a=c[0];var e=c[4],f=c[8],g=c[12],h=c[1],k=c[5],m=c[9],q=c[13],n=c[2],l=c[6],r=c[10],t=c[14],p=c[3],w=c[7],z=c[11],c=c[15],y=d[0],I=d[4],A=d[8],J=d[12],x=d[1],B=d[5],D=d[9],C=d[13],E=d[2],H=d[6],K=d[10],S=d[14],L=d[3],N=d[7],M=d[11],d=d[15];b[0]=a*y+e*x+f*E+g*L;b[4]=a*I+e*B+f*H+g*N;b[8]=a*A+e*D+f*K+g*M;b[12]=a*J+e*C+f*S+g*d;b[1]=h*y+k*x+m*E+q*L;b[5]=h*I+k*B+m*H+q*N;b[9]=h*A+k*D+m*K+q*M;b[13]=h*J+k*C+m*S+q*d;b[2]=n*y+l*x+r*E+t*L;b[6]=n*I+l*B+r*H+t*N;b[10]=n*A+l*D+r*K+t*M;b[14]=n*J+l*
C+r*S+t*d;b[3]=p*y+w*x+z*E+c*L;b[7]=p*I+w*B+z*H+c*N;b[11]=p*A+w*D+z*K+c*M;b[15]=p*J+w*C+z*S+c*d;return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToBufferAttribute:function(){var a=new p;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),determinant:function(){var a=
this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],m=a[2],q=a[6],n=a[10],l=a[14];return a[3]*(+e*h*q-d*k*q-e*g*n+c*k*n+d*g*l-c*h*l)+a[7]*(+b*h*l-b*k*n+e*f*n-d*f*l+d*k*m-e*h*m)+a[11]*(+b*k*q-b*g*l-e*f*q+c*f*l+e*g*m-c*k*m)+a[15]*(-d*g*m-b*h*q+b*g*n+d*f*q-c*f*n+c*h*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},setPosition:function(a){var b=
this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],k=d[5],m=d[6],q=d[7],l=d[8],u=d[9],r=d[10],t=d[11],p=d[12],w=d[13],z=d[14],d=d[15],y=u*z*q-w*r*q+w*m*t-k*z*t-u*m*d+k*r*d,x=p*r*q-l*z*q-p*m*t+h*z*t+l*m*d-h*r*d,A=l*w*q-p*u*q+p*k*t-h*w*t-l*k*d+h*u*d,J=p*u*m-l*w*m-p*k*r+h*w*r+l*k*z-h*u*z,B=a*y+e*x+f*A+g*J;if(0===B){if(!0===b)throw Error("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");
console.warn("THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/B;c[0]=y*b;c[1]=(w*r*g-u*z*g-w*f*t+e*z*t+u*f*d-e*r*d)*b;c[2]=(k*z*g-w*m*g+w*f*q-e*z*q-k*f*d+e*m*d)*b;c[3]=(u*m*g-k*r*g-u*f*q+e*r*q+k*f*t-e*m*t)*b;c[4]=x*b;c[5]=(l*z*g-p*r*g+p*f*t-a*z*t-l*f*d+a*r*d)*b;c[6]=(p*m*g-h*z*g-p*f*q+a*z*q+h*f*d-a*m*d)*b;c[7]=(h*r*g-l*m*g+l*f*q-a*r*q-h*f*t+a*m*t)*b;c[8]=A*b;c[9]=(p*u*g-l*w*g-p*e*t+a*w*t+l*e*d-a*u*d)*b;c[10]=(h*w*g-p*k*g+p*e*q-a*w*q-h*e*d+a*k*d)*b;c[11]=
(l*k*g-h*u*g-l*e*q+a*u*q+h*e*t-a*k*t)*b;c[12]=J*b;c[13]=(l*w*f-p*u*f+p*e*r-a*w*r-l*e*z+a*u*z)*b;c[14]=(p*k*f-h*w*f-p*e*m+a*w*m+h*e*z-a*k*z)*b;c[15]=(h*u*f-l*k*f+l*e*m-a*u*m-h*e*r+a*k*r)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],
a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=
Math.cos(b);b=Math.sin(b);var d=1-c,e=a.x,f=a.y;a=a.z;var g=d*e,h=d*f;this.set(g*e+c,g*f-b*a,g*a+b*f,0,g*f+b*a,h*f+c,h*a-b*e,0,g*a-b*f,h*a+b*e,d*a*a+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeShear:function(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},compose:function(a,b,c){this.makeRotationFromQuaternion(b);this.scale(c);this.setPosition(a);return this},decompose:function(){var a=new p,b=new O;return function(c,
d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.copy(this);c=1/g;var f=1/h,m=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makePerspective:function(a,b,c,d,e,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");
var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(c-d);g[9]=(c+d)/(c-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),k=1/(c-d),m=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*k;g[9]=0;g[13]=-((c+d)*k);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+e)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function(a){var b=this.elements;
a=a.elements;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}});Object.assign(ha,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,
d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],k=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var q=e[f+1],l=e[f+2];e=e[f+3];if(c!==e||h!==d||k!==q||m!==l){f=1-g;var u=h*d+k*q+m*l+c*e,r=0<=u?1:-1,p=1-u*u;p>Number.EPSILON&&(p=Math.sqrt(p),u=Math.atan2(p,u*r),f=Math.sin(f*u)/p,g=Math.sin(g*u)/p);r*=g;h=h*f+d*r;k=k*f+q*r;m=m*f+l*r;c=c*f+e*r;f===1-g&&(g=1/Math.sqrt(h*h+k*k+m*m+c*c),h*=g,k*=g,m*=g,c*=g)}a[b]=h;a[b+1]=k;a[b+2]=m;a[b+3]=c}});Object.defineProperties(ha.prototype,{x:{get:function(){return this._x},
set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},w:{get:function(){return this._w},set:function(a){this._w=a;this.onChangeCallback()}}});Object.assign(ha.prototype,{set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,
this._w)},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z;a=a.order;var f=Math.cos,g=Math.sin,h=f(c/2),k=f(d/2),f=f(e/2),c=g(c/2),d=g(d/2),e=g(e/2);"XYZ"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"YXZ"===a?(this._x=c*k*f+
h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"ZXY"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f-c*d*e):"ZYX"===a?(this._x=c*k*f-h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f+c*d*e):"YZX"===a?(this._x=c*k*f+h*d*e,this._y=h*d*f+c*k*e,this._z=h*k*e-c*d*f,this._w=h*k*f-c*d*e):"XZY"===a&&(this._x=c*k*f-h*d*e,this._y=h*d*f-c*k*e,this._z=h*k*e+c*d*f,this._w=h*k*f+c*d*e);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,
b){b/=2;var c=Math.sin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6],b=b[10],m=c+f+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=
.25*c,this._z=(g+k)/c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a=new p,b;return function(c,d){void 0===a&&(a=new p);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=
-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},
multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z;a=a._w;var f=b._x,g=b._y,h=b._z;b=b._w;this._x=c*b+a*f+d*h-e*g;this._y=d*b+a*g+e*f-c*h;this._z=e*b+a*h+c*g-d*f;this._w=a*b-c*f-d*g-e*h;this.onChangeCallback();
return this},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-g*g);if(.001>Math.abs(a))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;var h=Math.atan2(a,g),g=Math.sin((1-b)*h)/a;b=Math.sin(b*h)/a;
this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=
a;return this},onChangeCallback:function(){}});Object.assign(p.prototype,{isVector3:!0,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},
addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=
a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a=new ha;return function(b){b&&b.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
return this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a=new ha;return function(b,c){return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+
a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,m=a*d+e*c-f*b,b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-m*-f;this.y=k*a+b*-f+m*-e-h*-g;this.z=m*a+b*-g+h*-f-k*-e;return this},project:function(){var a=new O;return function(b){a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyMatrix4(a)}}(),unproject:function(){var a=new O;return function(b){a.multiplyMatrices(b.matrixWorld,
a.getInverse(b.projectionMatrix));return this.applyMatrix4(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=
Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a=new p,b=new p;return function(c,d){a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=
Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=
-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=(a.x-
this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,a)},crossVectors:function(a,b){var c=a.x,d=a.y;a=a.z;var e=b.x,f=b.y;b=b.z;this.x=d*b-a*f;this.y=a*e-c*b;this.z=c*f-d*e;return this},projectOnVector:function(a){var b=
a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a=new p;return function(b){a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a=new p;return function(b){return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(Q.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-
a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){var b=Math.sin(a.phi)*a.radius;this.x=b*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=b*Math.cos(a.theta);return this},setFromCylindrical:function(a){this.x=a.radius*Math.sin(a.theta);this.y=a.y;this.z=a.radius*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){a=a.elements;this.x=a[12];this.y=
a[13];this.z=a[14];return this},setFromMatrixScale:function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function(a,b){return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=
[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}});Object.assign(ma.prototype,{isMatrix3:!0,set:function(a,b,c,d,e,f,g,h,k){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=h;m[6]=c;m[7]=f;m[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},
copy:function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a=new p;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),multiply:function(a){return this.multiplyMatrices(this,
a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[3],f=c[6],g=c[1],h=c[4],k=c[7],m=c[2],q=c[5],c=c[8],l=d[0],p=d[3],r=d[6],t=d[1],v=d[4],w=d[7],z=d[2],y=d[5],d=d[8];b[0]=a*l+e*t+f*z;b[3]=a*p+e*v+f*y;b[6]=a*r+e*w+f*d;b[1]=g*l+h*t+k*z;b[4]=g*p+h*v+k*y;b[7]=g*r+h*w+k*d;b[2]=m*l+q*t+c*z;b[5]=m*p+q*v+c*y;b[8]=m*r+q*w+c*d;return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;
b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7],a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){a&&a.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],m=c[6],q=c[7],c=c[8],l=c*h-k*q,p=k*m-c*g,r=q*g-h*m,t=d*l+e*p+f*r;if(0===t){if(!0===
b)throw Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");console.warn("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return this.identity()}b=1/t;a[0]=l*b;a[1]=(f*q-c*e)*b;a[2]=(k*e-f*h)*b;a[3]=p*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-k*d)*b;a[6]=r*b;a[7]=(e*m-q*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},
transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},setUvTransform:function(a,b,c,d,e,f,g){var h=Math.cos(e);e=Math.sin(e);this.set(c*h,c*e,-c*(h*f+e*g)+f+a,-d*e,d*h,-d*(-e*f+h*g)+g+b,0,0,1)},scale:function(a,b){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this},rotate:function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.elements,d=c[0],e=c[3],f=c[6],g=c[1],h=c[4],
k=c[7];c[0]=b*d+a*g;c[3]=b*e+a*h;c[6]=b*f+a*k;c[1]=-a*d+b*g;c[4]=-a*e+b*h;c[7]=-a*f+b*k;return this},translate:function(a,b){var c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;9>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;9>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=
this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}});var Af=0;U.DEFAULT_IMAGE=void 0;U.DEFAULT_MAPPING=300;U.prototype=Object.assign(Object.create(za.prototype),{constructor:U,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=
a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){var b=void 0===a||"string"===typeof a;if(!b&&void 0!==
a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=Q.generateUUID());
if(!b&&void 0===a.images[d.uuid]){var e=a.images,f=d.uuid,g=d.uuid;if(d instanceof HTMLCanvasElement)var h=d;else{h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");h.width=d.width;h.height=d.height;var k=h.getContext("2d");d instanceof ImageData?k.putImageData(d,0,0):k.drawImage(d,0,0,d.width,d.height)}h=2048<h.width||2048<h.height?h.toDataURL("image/jpeg",.6):h.toDataURL("image/png");e[f]={uuid:g,url:h}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(300===this.mapping){a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}});Object.defineProperty(U.prototype,
"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(aa.prototype,{isVector4:!0,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=
b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,
b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*
e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var h=a[2];var k=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-h)&&.01>Math.abs(g-k)){if(.1>Math.abs(c+
e)&&.1>Math.abs(d+h)&&.1>Math.abs(g+k)&&.1>Math.abs(b+f+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+k)/4;b>f&&b>m?.01>b?(k=0,c=h=.707106781):(k=Math.sqrt(b),h=c/k,c=d/k):f>m?.01>f?(k=.707106781,h=0,c=.707106781):(h=Math.sqrt(f),k=c/h,c=g/h):.01>m?(h=k=.707106781,c=0):(c=Math.sqrt(m),k=d/c,h=g/c);this.set(k,h,c,a);return this}a=Math.sqrt((k-g)*(k-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(k-g)/a;this.y=(d-h)/a;this.z=(e-c)/a;
this.w=Math.acos((b+f+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,
this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new aa,b=new aa);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);
this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},
dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){this.x+=
(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function(a,
b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}});kb.prototype=Object.assign(Object.create(za.prototype),{constructor:kb,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=
a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Jb.prototype=Object.create(kb.prototype);Jb.prototype.constructor=Jb;Jb.prototype.isWebGLRenderTargetCube=!0;lb.prototype=Object.create(U.prototype);lb.prototype.constructor=lb;lb.prototype.isDataTexture=!0;db.prototype=Object.create(U.prototype);
db.prototype.constructor=db;db.prototype.isCubeTexture=!0;Object.defineProperty(db.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});var Ne=new U,Oe=new db,Ie=[],Ke=[],Me=new Float32Array(16),Le=new Float32Array(9);Se.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var Vd=/([\w\d_]+)(\])?(\[|\.)?/g;mb.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};mb.prototype.setOptional=
function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};mb.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};mb.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};var Kg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,
cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,
deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,
lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,
mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,
royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(H.prototype,{isColor:!0,r:1,g:1,b:1,set:function(a){a&&
a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a;return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=Q.euclideanModulo(b,
1);c=Q.clamp(c,0,1);d=Q.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,
parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){var d=parseFloat(c[1])/360,
e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^\#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&(c=Kg[a],void 0!==
c?this.setHex(c):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f,f=.5>=h?k/(e+f):
k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.getHSL();d.h+=a;d.s+=b;d.l+=c;this.setHSL(d.h,d.s,d.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=
a;this.g+=a;this.b+=a;return this},sub:function(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=
0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},toJSON:function(){return this.getHex()}});var K={common:{diffuse:{value:new H(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ma},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},
aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new D(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},
fogFar:{value:2E3},fogColor:{value:new H(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},
pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new H(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ma}}},
Ga={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}},R={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",
map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",
metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",
uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",
equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},
tb={basic:{uniforms:Ga.merge([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.fog]),vertexShader:R.meshbasic_vert,fragmentShader:R.meshbasic_frag},lambert:{uniforms:Ga.merge([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.emissivemap,K.fog,K.lights,{emissive:{value:new H(0)}}]),vertexShader:R.meshlambert_vert,fragmentShader:R.meshlambert_frag},phong:{uniforms:Ga.merge([K.common,K.specularmap,K.envmap,K.aomap,K.lightmap,K.emissivemap,K.bumpmap,K.normalmap,K.displacementmap,K.gradientmap,
K.fog,K.lights,{emissive:{value:new H(0)},specular:{value:new H(1118481)},shininess:{value:30}}]),vertexShader:R.meshphong_vert,fragmentShader:R.meshphong_frag},standard:{uniforms:Ga.merge([K.common,K.envmap,K.aomap,K.lightmap,K.emissivemap,K.bumpmap,K.normalmap,K.displacementmap,K.roughnessmap,K.metalnessmap,K.fog,K.lights,{emissive:{value:new H(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:R.meshphysical_vert,fragmentShader:R.meshphysical_frag},points:{uniforms:Ga.merge([K.points,
K.fog]),vertexShader:R.points_vert,fragmentShader:R.points_frag},dashed:{uniforms:Ga.merge([K.common,K.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:R.linedashed_vert,fragmentShader:R.linedashed_frag},depth:{uniforms:Ga.merge([K.common,K.displacementmap]),vertexShader:R.depth_vert,fragmentShader:R.depth_frag},normal:{uniforms:Ga.merge([K.common,K.bumpmap,K.normalmap,K.displacementmap,{opacity:{value:1}}]),vertexShader:R.normal_vert,fragmentShader:R.normal_frag},cube:{uniforms:{tCube:{value:null},
tFlip:{value:-1},opacity:{value:1}},vertexShader:R.cube_vert,fragmentShader:R.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:R.equirect_vert,fragmentShader:R.equirect_frag},distanceRGBA:{uniforms:Ga.merge([K.common,K.displacementmap,{referencePosition:{value:new p},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:R.distanceRGBA_vert,fragmentShader:R.distanceRGBA_frag},shadow:{uniforms:Ga.merge([K.lights,K.fog,{color:{value:new H(0)},opacity:{value:1}}]),vertexShader:R.shadow_vert,
fragmentShader:R.shadow_frag}};tb.physical={uniforms:Ga.merge([tb.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:R.meshphysical_vert,fragmentShader:R.meshphysical_frag};Object.assign(od.prototype,{set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new D;return function(b,c){c=a.copy(c).multiplyScalar(.5);
this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(a){a=a||new D;return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){a=
a||new D;return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=
this.max.y},getParameter:function(a,b){return(b||new D).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function(a,b){return(b||new D).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new D;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);
this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});tc.prototype=Object.create(U.prototype);tc.prototype.constructor=tc;var ag=0;P.prototype=Object.assign(Object.create(za.prototype),{constructor:P,isMaterial:!0,onBeforeCompile:function(){},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===
c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if("shading"===b)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===c?!0:!1;else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]="overdraw"===b?Number(c):c}}},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;
b.push(d)}return b}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());1!==this.emissiveIntensity&&
(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=
this.lightMap.toJSON(a).uuid);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&
(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=
this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=
this.depthWrite;0!==this.rotation&&(d.rotation=this.rotation);1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=
this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&(d.morphTargets=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;
this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.userData=JSON.parse(JSON.stringify(a.userData));this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;a=a.clippingPlanes;var b=null;if(null!==a)for(var c=
a.length,b=Array(c),d=0;d!==c;++d)b[d]=a[d].clone();this.clippingPlanes=b;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});eb.prototype=Object.create(P.prototype);eb.prototype.constructor=eb;eb.prototype.isMeshDepthMaterial=!0;eb.prototype.copy=function(a){P.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=
a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};fb.prototype=Object.create(P.prototype);fb.prototype.constructor=fb;fb.prototype.isMeshDistanceMaterial=!0;fb.prototype.copy=function(a){P.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=
a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};Object.assign(Xa.prototype,{isBox3:!0,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromArray:function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.length;h<k;h+=3){var m=a[h],q=a[h+1],l=a[h+2];m<b&&(b=m);q<c&&(c=q);l<d&&(d=l);m>e&&(e=m);q>f&&(f=q);l>g&&(g=l)}this.min.set(b,c,d);this.max.set(e,
f,g);return this},setFromBufferAttribute:function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,k=a.count;h<k;h++){var m=a.getX(h),q=a.getY(h),l=a.getZ(h);m<b&&(b=m);q<c&&(c=q);l<d&&(d=l);m>e&&(e=m);q>f&&(f=q);l>g&&(g=l)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new p;return function(b,c){c=a.copy(c).multiplyScalar(.5);
this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(a){this.makeEmpty();return this.expandByObject(a)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(a){a=
a||new p;return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){a=a||new p;return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},expandByObject:function(){function a(a){var f=a.geometry;if(void 0!==f)if(f.isGeometry)for(f=
f.vertices,c=0,d=f.length;c<d;c++)e.copy(f[c]),e.applyMatrix4(a.matrixWorld),b.expandByPoint(e);else if(f.isBufferGeometry&&(f=f.attributes.position,void 0!==f))for(c=0,d=f.count;c<d;c++)e.fromBufferAttribute(f,c).applyMatrix4(a.matrixWorld),b.expandByPoint(e)}var b,c,d,e=new p;return function(c){b=this;c.updateMatrixWorld(!0);c.traverse(a);return this}}(),containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=
a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){return(b||new p).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a=new p;return function(b){this.clampPoint(b.center,
a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,
b){return(b||new p).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new p;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new p;return function(b){b=b||new Ia;this.getCenter(b.center);b.radius=.5*this.getSize(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=
[new p,new p,new p,new p,new p,new p,new p,new p];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);
a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}});Object.assign(Ia.prototype,{set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Xa;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,
d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=
b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);b=b||new p;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new Xa;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);
this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}});Object.assign(Ea.prototype,{set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=
new p,b=new p;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+
this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return(b||new p).copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)},intersectLine:function(){var a=new p;return function(b,c){c=c||new p;var d=b.delta(a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsLine:function(a){var b=
this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return(a||new p).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new p,b=new ma;return function(c,d){d=d||b.getNormalMatrix(c);c=this.coplanarPoint(a).applyMatrix4(c);d=this.normal.applyMatrix3(d).normalize();this.constant=-c.dot(d);return this}}(),
translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}});Object.assign(rd.prototype,{set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,
c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],m=c[7],q=c[8],l=c[9],p=c[10],r=c[11],t=c[12],v=c[13],w=c[14],c=c[15];b[0].setComponents(f-a,m-g,r-q,c-t).normalize();b[1].setComponents(f+a,m+g,r+q,c+t).normalize();b[2].setComponents(f+d,m+h,r+l,c+v).normalize();b[3].setComponents(f-d,m-h,r-l,c-v).normalize();b[4].setComponents(f-e,m-k,r-p,c-w).normalize();b[5].setComponents(f+e,m+k,r+p,c+w).normalize();return this},intersectsObject:function(){var a=new Ia;return function(b){var c=
b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Ia;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new p,b=
new p;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a),f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}});gb.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");
gb.DefaultOrder="XYZ";Object.defineProperties(gb.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a;this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a;this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a;this.onChangeCallback()}},order:{get:function(){return this._order},set:function(a){this._order=a;this.onChangeCallback()}}});Object.assign(gb.prototype,{isEuler:!0,set:function(a,b,c,d){this._x=a;this._y=b;this._z=
c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=Q.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],m=e[9],l=e[2],n=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-m,e),this._z=
Math.atan2(-f,a)):(this._x=Math.atan2(n,k),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=Math.atan2(g,e),this._z=Math.atan2(h,k)):(this._y=Math.atan2(-l,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(n,-1,1)),.99999>Math.abs(n)?(this._y=Math.atan2(-l,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?(this._x=Math.atan2(n,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):"YZX"===
b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-m,k),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(n,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a=new O;return function(b,c,d){a.makeRotationFromQuaternion(b);
return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new ha;return function(b){a.setFromEuler(this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);
void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new p(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}});Object.assign(Wd.prototype,{set:function(a){this.mask=1<<a|0},enable:function(a){this.mask=this.mask|1<<a|0},toggle:function(a){this.mask^=1<<a|0},disable:function(a){this.mask&=~(1<<a|0)},test:function(a){return 0!==(this.mask&
a.mask)}});var cg=0;x.DefaultUp=new p(0,1,0);x.DefaultMatrixAutoUpdate=!0;x.prototype=Object.assign(Object.create(za.prototype),{constructor:x,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,
!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new ha;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.multiply(a);return this}}(),rotateOnWorldAxis:function(){var a=new ha;return function(b,c){a.setFromAxisAngle(b,c);this.quaternion.premultiply(a);return this}}(),rotateX:function(){var a=new p(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=
new p(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new p(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new p;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),translateX:function(){var a=new p(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new p(0,1,0);return function(b){return this.translateOnAxis(a,
b)}}(),translateZ:function(){var a=new p(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new O;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new O,b=new p;return function(c,d,e){c.isVector3?b.copy(c):b.set(c,d,e);this.isCamera?a.lookAt(this.position,b,this.up):a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),
add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1));return this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new p;this.updateMatrixWorld(!0);
return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new p,b=new p;return function(c){c=c||new ha;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new ha;return function(b){b=b||new gb;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=new p,b=new ha;return function(c){c=c||new p;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),
getWorldDirection:function(){var a=new ha;return function(b){b=b||new p;this.getWorldQuaternion(a);return b.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,
this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},toJSON:function(a){function b(b,c){void 0===b[c.uuid]&&(b[c.uuid]=c.toJSON(a));return c.uuid}function c(a){var b=
[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var d=void 0===a||"string"===typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};f.uuid=this.uuid;f.type=this.type;""!==this.name&&(f.name=this.name);!0===this.castShadow&&(f.castShadow=!0);!0===this.receiveShadow&&(f.receiveShadow=!0);!1===this.visible&&(f.visible=!1);"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData);
f.matrix=this.matrix.toArray();if(void 0!==this.geometry){f.geometry=b(a.geometries,this.geometry);var g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes)if(g=g.shapes,Array.isArray(g))for(var h=0,k=g.length;h<k;h++)b(a.shapes,g[h]);else b(a.shapes,g)}if(void 0!==this.material)if(Array.isArray(this.material)){g=[];h=0;for(k=this.material.length;h<k;h++)g.push(b(a.materials,this.material[h]));f.material=g}else f.material=b(a.materials,this.material);if(0<this.children.length)for(f.children=
[],h=0;h<this.children.length;h++)f.children.push(this.children[h].toJSON(a).object);if(d){var d=c(a.geometries),h=c(a.materials),k=c(a.textures),m=c(a.images);g=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<m.length&&(e.images=m);0<g.length&&(e.shapes=g)}e.object=f;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);
this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});
Ta.prototype=Object.assign(Object.create(x.prototype),{constructor:Ta,isCamera:!0,copy:function(a,b){x.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this},getWorldDirection:function(){var a=new ha;return function(b){b=b||new p;this.getWorldQuaternion(a);return b.set(0,0,-1).applyQuaternion(a)}}(),updateMatrixWorld:function(a){x.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},
clone:function(){return(new this.constructor).copy(this)}});Lb.prototype=Object.assign(Object.create(Ta.prototype),{constructor:Lb,isOrthographicCamera:!0,copy:function(a,b){Ta.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,c,d,e,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,
offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a,c=c+a,a=d+b,b=d-b;if(null!==
this.view&&this.view.enabled)var c=this.zoom/(this.view.width/this.view.fullWidth),b=this.zoom/(this.view.height/this.view.fullHeight),f=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height,e=e+this.view.offsetX/c*f,c=e+this.view.width/c*f,a=a-this.view.offsetY/b*d,b=a-this.view.height/b*d;this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far)},toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=
this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});Object.assign(Ya.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;
for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}});var dg=0;L.prototype=Object.assign(Object.create(za.prototype),{constructor:L,isGeometry:!0,applyMatrix:function(a){for(var b=(new ma).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==
this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a=new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=
new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new x;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0!==g?[l[a].clone(),l[b].clone(),l[d].clone()]:[],q=void 0!==h?[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()]:[];e=new Ya(a,
b,d,f,q,e);c.faces.push(e);void 0!==k&&c.faceVertexUvs[0].push([n[a].clone(),n[b].clone(),n[d].clone()]);void 0!==m&&c.faceVertexUvs[1].push([u[a].clone(),u[b].clone(),u[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,k=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var l=[],n=[],u=[],r=e=0;e<f.length;e+=3,
r+=2)c.vertices.push(new p(f[e],f[e+1],f[e+2])),void 0!==g&&l.push(new p(g[e],g[e+1],g[e+2])),void 0!==h&&c.colors.push(new H(h[e],h[e+1],h[e+2])),void 0!==k&&n.push(new D(k[r],k[r+1])),void 0!==m&&u.push(new D(m[r],m[r+1]));var t=a.groups;if(0<t.length)for(e=0;e<t.length;e++)for(var f=t[e],v=f.start,w=f.count,r=v,v=v+w;r<v;r+=3)void 0!==d?b(d[r],d[r+1],d[r+2],f.materialIndex):b(r,r+1,r+2,f.materialIndex);else if(void 0!==d)for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=
3)b(e,e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.getCenter().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius,b=0===b?1:1/b,c=new O;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);
this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new p,b=new p,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new p;if(a){var e=new p,f=new p;a=0;for(d=this.faces.length;a<d;a++){b=this.faces[a];
var g=this.vertices[b.a];var h=this.vertices[b.b];var k=this.vertices[b.c];e.subVectors(k,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(this.computeFaceNormals(),a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),g[2].copy(c[b.c])):
(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var a;this.computeFaceNormals();var b=0;for(a=this.faces.length;b<a;b++){var c=this.faces[b];var d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=
0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new L;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]=
{};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new p;var k={a:new p,b:new p,c:new p};d.push(h);g.push(k)}}g=this.morphNormals[e];f.vertices=this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(d.normal),k.a.copy(d.vertexNormals[0]),
k.b.copy(d.vertexNormals[1]),k.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeLineDistances:function(){for(var a=0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xa);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&
(this.boundingSphere=new Ia);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,m=this.faceVertexUvs[0],l=a.faceVertexUvs[0],n=this.colors,p=a.colors;void 0===c&&(c=0);void 0!==b&&(d=(new ma).getNormalMatrix(b));a=0;for(var r=g.length;a<r;a++){var t=g[a].clone();void 0!==b&&t.applyMatrix4(b);f.push(t)}a=0;for(r=p.length;a<r;a++)n.push(p[a].clone());a=0;for(r=k.length;a<r;a++){var g=
k[a],v=g.vertexNormals,p=g.vertexColors,n=new Ya(g.a+e,g.b+e,g.c+e);n.normal.copy(g.normal);void 0!==d&&n.normal.applyMatrix3(d).normalize();b=0;for(f=v.length;b<f;b++)t=v[b].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),n.vertexNormals.push(t);n.color.copy(g.color);b=0;for(f=p.length;b<f;b++)t=p[b],n.vertexColors.push(t.clone());n.materialIndex=g.materialIndex+c;h.push(n)}a=0;for(r=l.length;a<r;a++)if(c=l[a],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());m.push(d)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){var a={},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=
this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,1);f=this.vertices.length-b.length;this.vertices=b;return f},setFromPoints:function(a){this.vertices=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];this.vertices.push(new p(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function(){for(var a=this.faces,
b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=k.length/3;k.push(a.x,
a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==n[b])return n[b];n[b]=l.length;l.push(a.getHex());return n[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==r[b])return r[b];r[b]=p.length/2;p.push(a.x,a.y);return r[b]}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&
(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}var h=[],k=[],m={},l=[],n={},p=[],r={};for(g=0;g<this.faces.length;g++){var t=this.faces[g],v=void 0!==this.faceVertexUvs[0][g],w=0<t.normal.length(),z=0<t.vertexNormals.length,y=1!==t.color.r||1!==t.color.g||1!==t.color.b,x=0<t.vertexColors.length,A=0,A=a(A,0,0),A=a(A,1,!0),A=a(A,2,!1),A=a(A,3,v),A=a(A,4,w),A=a(A,5,z),A=a(A,6,y),A=a(A,7,x);h.push(A);h.push(t.a,t.b,t.c);h.push(t.materialIndex);
v&&(v=this.faceVertexUvs[0][g],h.push(d(v[0]),d(v[1]),d(v[2])));w&&h.push(b(t.normal));z&&(w=t.vertexNormals,h.push(b(w[0]),b(w[1]),b(w[2])));y&&h.push(c(t.color));x&&(t=t.vertexColors,h.push(c(t[0]),c(t[1]),c(t[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<l.length&&(e.data.colors=l);0<p.length&&(e.data.uvs=[p]);e.data.faces=h;return e},clone:function(){return(new L).copy(this)},copy:function(a){var b,c,d;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=
[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var e=a.vertices;var f=0;for(b=e.length;f<b;f++)this.vertices.push(e[f].clone());e=a.colors;f=0;for(b=e.length;f<b;f++)this.colors.push(e[f].clone());e=a.faces;f=0;for(b=e.length;f<b;f++)this.faces.push(e[f].clone());f=0;for(b=a.faceVertexUvs.length;f<b;f++){var g=a.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);e=0;for(c=g.length;e<
c;e++){var h=g[e],k=[];var m=0;for(d=h.length;m<d;m++)k.push(h[m].clone());this.faceVertexUvs[f].push(k)}}m=a.morphTargets;f=0;for(b=m.length;f<b;f++){d={};d.name=m[f].name;if(void 0!==m[f].vertices)for(d.vertices=[],e=0,c=m[f].vertices.length;e<c;e++)d.vertices.push(m[f].vertices[e].clone());if(void 0!==m[f].normals)for(d.normals=[],e=0,c=m[f].normals.length;e<c;e++)d.normals.push(m[f].normals[e].clone());this.morphTargets.push(d)}m=a.morphNormals;f=0;for(b=m.length;f<b;f++){d={};if(void 0!==m[f].vertexNormals)for(d.vertexNormals=
[],e=0,c=m[f].vertexNormals.length;e<c;e++)g=m[f].vertexNormals[e],h={},h.a=g.a.clone(),h.b=g.b.clone(),h.c=g.c.clone(),d.vertexNormals.push(h);if(void 0!==m[f].faceNormals)for(d.faceNormals=[],e=0,c=m[f].faceNormals.length;e<c;e++)d.faceNormals.push(m[f].faceNormals[e].clone());this.morphNormals.push(d)}e=a.skinWeights;f=0;for(b=e.length;f<b;f++)this.skinWeights.push(e[f].clone());e=a.skinIndices;f=0;for(b=e.length;f<b;f++)this.skinIndices.push(e[f].clone());e=a.lineDistances;f=0;for(b=e.length;f<
b;f++)this.lineDistances.push(e[f]);f=a.boundingBox;null!==f&&(this.boundingBox=f.clone());f=a.boundingSphere;null!==f&&(this.boundingSphere=f.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Object.defineProperty(M.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(M.prototype,{isBufferAttribute:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.itemSize:0;this.array=a},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;
this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);return this},copyColorsArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),f=new H);b[c++]=f.r;b[c++]=f.g;b[c++]=f.b}return this},copyIndicesArray:function(a){for(var b=this.array,
c=0,d=0,e=a.length;d<e;d++){var f=a[d];b[c++]=f.a;b[c++]=f.b;b[c++]=f.c}return this},copyVector2sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),f=new D);b[c++]=f.x;b[c++]=f.y}return this},copyVector3sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),f=new p);
b[c++]=f.x;b[c++]=f.y;b[c++]=f.z}return this},copyVector4sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),f=new aa);b[c++]=f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*
this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=
d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,this.itemSize)).copy(this)}});uc.prototype=Object.create(M.prototype);uc.prototype.constructor=uc;vc.prototype=Object.create(M.prototype);vc.prototype.constructor=vc;wc.prototype=Object.create(M.prototype);wc.prototype.constructor=wc;xc.prototype=
Object.create(M.prototype);xc.prototype.constructor=xc;ob.prototype=Object.create(M.prototype);ob.prototype.constructor=ob;yc.prototype=Object.create(M.prototype);yc.prototype.constructor=yc;pb.prototype=Object.create(M.prototype);pb.prototype.constructor=pb;B.prototype=Object.create(M.prototype);B.prototype.constructor=B;zc.prototype=Object.create(M.prototype);zc.prototype.constructor=zc;Object.assign(Ve.prototype,{computeGroups:function(a){var b=[],c=void 0;a=a.faces;for(var d=0;d<a.length;d++){var e=
a[d];if(e.materialIndex!==c){c=e.materialIndex;void 0!==f&&(f.count=3*d-f.start,b.push(f));var f={start:3*d,materialIndex:c}}}void 0!==f&&(f.count=3*d-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){var k=[];for(var m=0;m<h;m++)k[m]=[];this.morphTargets.position=k}var l=a.morphNormals,n=l.length;if(0<n){var p=[];for(m=0;m<n;m++)p[m]=[];this.morphTargets.normal=p}for(var r=
a.skinIndices,t=a.skinWeights,v=r.length===c.length,w=t.length===c.length,m=0;m<b.length;m++){var z=b[m];this.vertices.push(c[z.a],c[z.b],c[z.c]);var y=z.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(y=z.normal,this.normals.push(y,y,y));y=z.vertexColors;3===y.length?this.colors.push(y[0],y[1],y[2]):(y=z.color,this.colors.push(y,y,y));!0===e&&(y=d[0][m],void 0!==y?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",m),this.uvs.push(new D,
new D,new D)));!0===f&&(y=d[1][m],void 0!==y?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new D,new D,new D)));for(y=0;y<h;y++){var x=g[y].vertices;k[y].push(x[z.a],x[z.b],x[z.c])}for(y=0;y<n;y++)x=l[y].vertexNormals[m],p[y].push(x.a,x.b,x.c);v&&this.skinIndices.push(r[z.a],r[z.b],r[z.c]);w&&this.skinWeights.push(t[z.a],t[z.b],t[z.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=
a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this}});var eg=1;E.prototype=Object.assign(Object.create(za.prototype),{constructor:E,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<Xd(a)?pb:ob)(a,1):this.index=a},addAttribute:function(a,b,c){if(b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute)if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this;else console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new M(b,c))},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},
applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new ma).getNormalMatrix(a).applyToBufferAttribute(b),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a=new O;return function(b){a.makeRotationX(b);this.applyMatrix(a);return this}}(),rotateY:function(){var a=new O;return function(b){a.makeRotationY(b);
this.applyMatrix(a);return this}}(),rotateZ:function(){var a=new O;return function(b){a.makeRotationZ(b);this.applyMatrix(a);return this}}(),translate:function(){var a=new O;return function(b,c,d){a.makeTranslation(b,c,d);this.applyMatrix(a);return this}}(),scale:function(){var a=new O;return function(b,c,d){a.makeScale(b,c,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a=new x;return function(b){a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.getCenter().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new B(3*b.vertices.length,3);var c=new B(3*b.colors.length,3);this.addAttribute("position",a.copyVector3sArray(b.vertices));this.addAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new B(b.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&
(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];b.push(e.x,e.y,e.z||0)}this.addAttribute("position",new B(b,3));return this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);
c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==
c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),
this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new Ve).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.addAttribute("position",(new M(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new M(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),
this.addAttribute("color",(new M(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.addAttribute("uv",(new M(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new M(b,2)).copyVector2sArray(a.uvs2)));0<a.indices.length&&(b=new (65535<Xd(a.indices)?Uint32Array:Uint16Array)(3*a.indices.length),this.setIndex((new M(b,1)).copyIndicesArray(a.indices)));this.groups=a.groups;for(var c in a.morphTargets){for(var b=
[],d=a.morphTargets[c],e=0,f=d.length;e<f;e++){var g=d[e],h=new B(3*g.length,3);b.push(h.copyVector3sArray(g))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new B(4*a.skinIndices.length,4),this.addAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new B(4*a.skinWeights.length,4),this.addAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=
a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xa);var a=this.attributes.position;void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=
new Xa,b=new p;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ia);var c=this.attributes.position;if(c){var d=this.boundingSphere.center;a.setFromBufferAttribute(c);a.getCenter(d);for(var e=0,f=0,g=c.count;f<g;f++)b.x=c.getX(f),b.y=c.getY(f),b.z=c.getZ(f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',
this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new M(new Float32Array(d.length),3));else for(var e=b.normal.array,f=0,g=e.length;f<g;f++)e[f]=0;var e=b.normal.array,h=new p,k=new p,m=new p,l=new p,n=new p;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var u=0,r=c.length;u<r;++u){f=c[u];g=f.start;var t=f.count;f=g;for(g+=t;f<
g;f+=3){t=3*a[f+0];var v=3*a[f+1];var w=3*a[f+2];h.fromArray(d,t);k.fromArray(d,v);m.fromArray(d,w);l.subVectors(m,k);n.subVectors(h,k);l.cross(n);e[t]+=l.x;e[t+1]+=l.y;e[t+2]+=l.z;e[v]+=l.x;e[v+1]+=l.y;e[v+2]+=l.z;e[w]+=l.x;e[w+1]+=l.y;e[w+2]+=l.z}}}else for(f=0,g=d.length;f<g;f+=9)h.fromArray(d,f),k.fromArray(d,f+3),m.fromArray(d,f+6),l.subVectors(m,k),n.subVectors(h,k),l.cross(n),e[f]=l.x,e[f+1]=l.y,e[f+2]=l.z,e[f+3]=l.x,e[f+4]=l.y,e[f+5]=l.z,e[f+6]=l.x,e[f+7]=l.y,e[f+8]=l.z;this.normalizeNormals();
b.normal.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,h=0,f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){var a=new p;return function(){for(var b=this.attributes.normal,c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),
a.z=b.getZ(c),a.normalize(),b.setXYZ(c,a.x,a.y,a.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new E,b=this.index.array,c=this.attributes,d;for(d in c){for(var e=c[d],f=e.array,e=e.itemSize,g=new f.constructor(b.length*e),h,k=0,m=0,l=b.length;m<l;m++){h=b[m]*e;for(var n=0;n<e;n++)g[k++]=f[h++]}a.addAttribute(d,new M(g,e))}return a},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",
generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(b=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:b});d=this.attributes;for(c in d){var e=d[c];b=Array.prototype.slice.call(e.array);a.data.attributes[c]={itemSize:e.itemSize,type:e.array.constructor.name,
array:b,normalized:e.normalized}}c=this.groups;0<c.length&&(a.data.groups=JSON.parse(JSON.stringify(c)));c=this.boundingSphere;null!==c&&(a.data.boundingSphere={center:c.center.toArray(),radius:c.radius});return a},clone:function(){return(new E).copy(this)},copy:function(a){var b;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(g in c)this.addAttribute(g,
c[g].clone());var d=a.morphAttributes;for(g in d){var e=[],f=d[g];c=0;for(b=f.length;c<b;c++)e.push(f[c].clone());this.morphAttributes[g]=e}var g=a.groups;c=0;for(b=g.length;c<b;c++)d=g[c],this.addGroup(d.start,d.count,d.materialIndex);g=a.boundingBox;null!==g&&(this.boundingBox=g.clone());g=a.boundingSphere;null!==g&&(this.boundingSphere=g.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Mb.prototype=Object.create(L.prototype);Mb.prototype.constructor=Mb;qb.prototype=Object.create(E.prototype);qb.prototype.constructor=qb;Ac.prototype=Object.create(L.prototype);Ac.prototype.constructor=Ac;rb.prototype=Object.create(E.prototype);rb.prototype.constructor=rb;Aa.prototype=Object.create(P.prototype);Aa.prototype.constructor=Aa;Aa.prototype.isMeshBasicMaterial=!0;Aa.prototype.copy=function(a){P.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;
this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};Fa.prototype=
Object.create(P.prototype);Fa.prototype.constructor=Fa;Fa.prototype.isShaderMaterial=!0;Fa.prototype.copy=function(a){P.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Ga.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=
a.extensions;return this};Fa.prototype.toJSON=function(a){a=P.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};Object.assign(sb.prototype,{set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new p).copy(this.direction).multiplyScalar(a).add(this.origin)},
lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new p;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){b=b||new p;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new p;return function(b){var c=
a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new p,b=new p,c=new p;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),m=c.dot(this.direction),l=-c.dot(b),n=c.lengthSq(),p=Math.abs(1-k*k);if(0<p){d=k*l-m;e=k*
m-l;var r=h*p;0<=d?e>=-r?e<=r?(h=1/p,d*=h,e*=h,k=d*(d+k*e+2*m)+e*(k*d+e+2*l)+n):(e=h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n):(e=-h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n):e<=-r?(d=Math.max(0,-(-k*h+m)),e=0<d?-h:Math.min(Math.max(-h,-l),h),k=-d*d+e*(e+2*l)+n):e<=r?(d=0,e=Math.min(Math.max(-h,-l),h),k=e*(e+2*l)+n):(d=Math.max(0,-(k*h+m)),e=0<d?h:Math.min(Math.max(-h,-l),h),k=-d*d+e*(e+2*l)+n)}else e=0<k?-h:h,d=Math.max(0,-(k*e+m)),k=-d*d+e*(e+2*l)+n;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);
g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),intersectSphere:function(){var a=new p;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?
0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectBox:function(a,b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,f=this.origin;if(0<=c){var g=(a.min.x-f.x)*c;c*=a.max.x-f.x}else g=(a.max.x-f.x)*c,c*=a.min.x-f.x;if(0<=d){var h=(a.min.y-
f.y)*d;d*=a.max.y-f.y}else h=(a.max.y-f.y)*d,d*=a.min.y-f.y;if(g>d||h>c)return null;if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(a.min.z-f.z)*e,a=(a.max.z-f.z)*e):(h=(a.max.z-f.z)*e,a=(a.min.z-f.z)*e);if(g>a||h>c)return null;if(h>g||g!==g)g=h;if(a<c||c!==c)c=a;return 0>c?null:this.at(0<=g?g:c,b)},intersectsBox:function(){var a=new p;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new p,b=new p,c=new p,d=new p;return function(e,f,g,h,k){b.subVectors(f,
e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}});
Object.assign(Nb.prototype,{set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},getCenter:function(a){return(a||new p).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new p).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},
at:function(a,b){b=b||new p;return this.delta(b).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new p,b=new p;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=Q.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);c=c||new p;return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);
return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}});Object.assign(Za,{normal:function(){var a=new p;return function(b,c,d,e){e=e||new p;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}(),barycoordFromPoint:function(){var a=new p,b=new p,c=new p;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var m=
d*k-e*e;h=h||new p;if(0===m)return h.set(-2,-1,-1);m=1/m;k=(k*f-e*g)*m;d=(d*g-e*f)*m;return h.set(1-k-d,d,k)}}(),containsPoint:function(){var a=new p;return function(b,c,d,e){b=Za.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}()});Object.assign(Za.prototype,{set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new p,b=new p;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||new p).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return Za.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new Ea).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return Za.barycoordFromPoint(a,
this.a,this.b,this.c,b)},containsPoint:function(a){return Za.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a=new Ea,b=[new Nb,new Nb,new Nb],c=new p,d=new p;return function(e,f){f=f||new p;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(e,c);if(!0===this.containsPoint(c))f.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++){b[e].closestPointToPoint(c,!0,d);var h=c.distanceToSquared(d);
h<g&&(g=h,f.copy(d))}return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}});ra.prototype=Object.assign(Object.create(x.prototype),{constructor:ra,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){x.prototype.copy.call(this,a);this.drawMode=a.drawMode;void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));
return this},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length){var c=a[b[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++){var d=c[a].name||String(a);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=a}}}else if(c=a.morphTargets,void 0!==c&&0<c.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=c.length;a<b;a++)d=c[a].name||
String(a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=a},raycast:function(){function a(a,b,c,d,e,f,g){Za.barycoordFromPoint(a,b,c,d,v);e.multiplyScalar(v.x);f.multiplyScalar(v.y);g.multiplyScalar(v.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g,h){if(null===(1===b.side?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;z.copy(h);z.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(z);return b<c.near||b>c.far?null:{distance:b,
point:z.clone(),object:a}}function c(c,d,e,f,m,l,q,n){g.fromBufferAttribute(f,l);h.fromBufferAttribute(f,q);k.fromBufferAttribute(f,n);if(c=b(c,c.material,d,e,g,h,k,w))m&&(u.fromBufferAttribute(m,l),r.fromBufferAttribute(m,q),t.fromBufferAttribute(m,n),c.uv=a(w,g,h,k,u,r,t)),c.face=new Ya(l,q,n,Za.normal(g,h,k)),c.faceIndex=l;return c}var d=new O,e=new sb,f=new Ia,g=new p,h=new p,k=new p,m=new p,l=new p,n=new p,u=new D,r=new D,t=new D,v=new p,w=new p,z=new p;return function(q,p){var v=this.geometry,
z=this.material,y=this.matrixWorld;if(void 0!==z&&(null===v.boundingSphere&&v.computeBoundingSphere(),f.copy(v.boundingSphere),f.applyMatrix4(y),!1!==q.ray.intersectsSphere(f)&&(d.getInverse(y),e.copy(q.ray).applyMatrix4(d),null===v.boundingBox||!1!==e.intersectsBox(v.boundingBox)))){var x;if(v.isBufferGeometry){var z=v.index,B=v.attributes.position,y=v.attributes.uv,D;if(null!==z){var C=0;for(D=z.count;C<D;C+=3){v=z.getX(C);var I=z.getX(C+1);var E=z.getX(C+2);if(x=c(this,q,e,B,y,v,I,E))x.faceIndex=
Math.floor(C/3),p.push(x)}}else if(void 0!==B)for(C=0,D=B.count;C<D;C+=3)if(v=C,I=C+1,E=C+2,x=c(this,q,e,B,y,v,I,E))x.index=v,p.push(x)}else if(v.isGeometry){var y=Array.isArray(z);C=v.vertices;D=v.faces;I=v.faceVertexUvs[0];0<I.length&&(B=I);for(var H=0,K=D.length;H<K;H++){var N=D[H];x=y?z[N.materialIndex]:z;if(void 0!==x){I=C[N.a];E=C[N.b];var L=C[N.c];if(!0===x.morphTargets){var M=v.morphTargets,O=this.morphTargetInfluences;g.set(0,0,0);h.set(0,0,0);k.set(0,0,0);for(var P=0,Q=M.length;P<Q;P++){var R=
O[P];if(0!==R){var U=M[P].vertices;g.addScaledVector(m.subVectors(U[N.a],I),R);h.addScaledVector(l.subVectors(U[N.b],E),R);k.addScaledVector(n.subVectors(U[N.c],L),R)}}g.add(I);h.add(E);k.add(L);I=g;E=h;L=k}if(x=b(this,x,q,e,I,E,L,w))B&&B[H]&&(M=B[H],u.copy(M[0]),r.copy(M[1]),t.copy(M[2]),x.uv=a(w,I,E,L,u,r,t)),x.face=N,x.faceIndex=H,p.push(x)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});var yg=0;ba.prototype=Object.assign(Object.create(Ta.prototype),
{constructor:ba,isPerspectiveCamera:!0,copy:function(a,b){Ta.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*Q.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*Q.DEG2RAD*this.fov);
return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*Q.RAD2DEG*Math.atan(Math.tan(.5*Q.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=
c;this.view.offsetY=d;this.view.width=e;this.view.height=f;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*Q.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==this.view&&this.view.enabled)var g=f.fullWidth,h=f.fullHeight,e=e+f.offsetX*d/g,b=b-f.offsetY*c/h,d=f.width/g*d,c=f.height/h*c;f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());
this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far)},toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});ud.prototype=Object.assign(Object.create(ba.prototype),{constructor:ud,isArrayCamera:!0});Pb.prototype.isFogExp2=
!0;Pb.prototype.clone=function(){return new Pb(this.color.getHex(),this.density)};Pb.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};Qb.prototype.isFog=!0;Qb.prototype.clone=function(){return new Qb(this.color.getHex(),this.near,this.far)};Qb.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};vd.prototype=Object.assign(Object.create(x.prototype),{constructor:vd,copy:function(a,b){x.prototype.copy.call(this,
a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this},toJSON:function(a){var b=x.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}});de.prototype=Object.assign(Object.create(x.prototype),
{constructor:de,isLensFlare:!0,copy:function(a){x.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new H(16777215));void 0===d&&(d=1);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,
opacity:f,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});hb.prototype=Object.create(P.prototype);hb.prototype.constructor=hb;hb.prototype.isSpriteMaterial=!0;hb.prototype.copy=function(a){P.prototype.copy.call(this,
a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};Cc.prototype=Object.assign(Object.create(x.prototype),{constructor:Cc,isSprite:!0,raycast:function(){var a=new p,b=new p,c=new p;return function(d,e){b.setFromMatrixPosition(this.matrixWorld);d.ray.closestPointToPoint(b,a);c.setFromMatrixScale(this.matrixWorld);var f=c.x*c.y/4;b.distanceToSquared(a)>f||(f=d.ray.origin.distanceTo(a),f<d.near||f>d.far||e.push({distance:f,point:a.clone(),face:null,object:this}))}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
Dc.prototype=Object.assign(Object.create(x.prototype),{constructor:Dc,copy:function(a){x.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-
1].object},raycast:function(){var a=new p;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new p,b=new p;return function(c){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;
for(;e<f;e++)d[e].object.visible=!1}}}(),toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Object.assign(Ec.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new O;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){var a,b;var c=0;for(b=this.bones.length;c<
b;c++)(a=this.bones[c])&&a.matrixWorld.getInverse(this.boneInverses[c]);c=0;for(b=this.bones.length;c<b;c++)if(a=this.bones[c])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new O,b=new O;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,f=this.boneTexture,g=0,h=c.length;g<h;g++)a.multiplyMatrices(c[g]?c[g].matrixWorld:
b,d[g]),a.toArray(e,16*g);void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new Ec(this.bones,this.boneInverses)}});wd.prototype=Object.assign(Object.create(x.prototype),{constructor:wd,isBone:!0});xd.prototype=Object.assign(Object.create(ra.prototype),{constructor:xd,isSkinnedMesh:!0,initBones:function(){var a=[],b;if(this.geometry&&void 0!==this.geometry.bones){var c=0;for(b=this.geometry.bones.length;c<b;c++){var d=this.geometry.bones[c];var e=new wd;a.push(e);e.name=d.name;e.position.fromArray(d.pos);
e.quaternion.fromArray(d.rotq);void 0!==d.scl&&e.scale.fromArray(d.scl)}c=0;for(b=this.geometry.bones.length;c<b;c++)d=this.geometry.bones[c],-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[c]):this.add(a[c])}this.updateMatrixWorld(!0);return a},bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var a;
if(this.geometry&&this.geometry.isGeometry)for(a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a];var c=1/b.manhattanLength();Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var b=new aa,d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.manhattanLength(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(a){ra.prototype.updateMatrixWorld.call(this,
a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});W.prototype=Object.create(P.prototype);W.prototype.constructor=W;W.prototype.isLineBasicMaterial=!0;W.prototype.copy=function(a){P.prototype.copy.call(this,a);this.color.copy(a.color);
this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};sa.prototype=Object.assign(Object.create(x.prototype),{constructor:sa,isLine:!0,raycast:function(){var a=new O,b=new sb,c=new Ia;return function(d,e){var f=d.linePrecision,f=f*f,g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);var k=new p,m=new p,h=new p,
l=new p,n=this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var u=g.index;var r=g.attributes.position.array;if(null!==u)for(var t=u.array,g=0,v=t.length-1;g<v;g+=n)u=t[g+1],k.fromArray(r,3*t[g]),m.fromArray(r,3*u),u=b.distanceSqToSegment(k,m,l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}));else for(g=0,v=r.length/3-1;g<v;g+=n)k.fromArray(r,
3*g),m.fromArray(r,3*g+3),u=b.distanceSqToSegment(k,m,l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g.isGeometry)for(k=g.vertices,m=k.length,g=0;g<m-1;g+=n)u=b.distanceSqToSegment(k[g],k[g+1],l,h),u>f||(l.applyMatrix4(this.matrixWorld),u=d.ray.origin.distanceTo(l),u<d.near||u>d.far||e.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});X.prototype=Object.assign(Object.create(sa.prototype),{constructor:X,isLineSegments:!0});yd.prototype=Object.assign(Object.create(sa.prototype),{constructor:yd,isLineLoop:!0});Ka.prototype=Object.create(P.prototype);Ka.prototype.constructor=Ka;Ka.prototype.isPointsMaterial=!0;Ka.prototype.copy=function(a){P.prototype.copy.call(this,a);this.color.copy(a.color);
this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};Rb.prototype=Object.assign(Object.create(x.prototype),{constructor:Rb,isPoints:!0,raycast:function(){var a=new O,b=new sb,c=new Ia;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<l){a=b.closestPointToPoint(a);a.applyMatrix4(k);var h=d.ray.origin.distanceTo(a);h<d.near||h>d.far||e.push({distance:h,distanceToRay:Math.sqrt(f),point:a.clone(),index:c,face:null,object:g})}}var g=this,h=this.geometry,
k=this.matrixWorld,m=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);c.radius+=m;if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);var m=m/((this.scale.x+this.scale.y+this.scale.z)/3),l=m*m,m=new p;if(h.isBufferGeometry){var n=h.index,h=h.attributes.position.array;if(null!==n)for(var u=n.array,n=0,r=u.length;n<r;n++){var t=u[n];m.fromArray(h,3*t);f(m,t)}else for(n=0,u=h.length/3;n<u;n++)m.fromArray(h,
3*n),f(m,n)}else for(m=h.vertices,n=0,u=m.length;n<u;n++)f(m[n],n)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Fc.prototype=Object.assign(Object.create(x.prototype),{constructor:Fc,isGroup:!0});ee.prototype=Object.assign(Object.create(U.prototype),{constructor:ee,isVideoTexture:!0,update:function(){var a=this.image;a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});Sb.prototype=Object.create(U.prototype);Sb.prototype.constructor=Sb;Sb.prototype.isCompressedTexture=
!0;Gc.prototype=Object.create(U.prototype);Gc.prototype.constructor=Gc;Gc.prototype.isDepthTexture=!0;Tb.prototype=Object.create(E.prototype);Tb.prototype.constructor=Tb;Hc.prototype=Object.create(L.prototype);Hc.prototype.constructor=Hc;Ub.prototype=Object.create(E.prototype);Ub.prototype.constructor=Ub;Ic.prototype=Object.create(L.prototype);Ic.prototype.constructor=Ic;ja.prototype=Object.create(E.prototype);ja.prototype.constructor=ja;Jc.prototype=Object.create(L.prototype);Jc.prototype.constructor=
Jc;Vb.prototype=Object.create(ja.prototype);Vb.prototype.constructor=Vb;Kc.prototype=Object.create(L.prototype);Kc.prototype.constructor=Kc;ub.prototype=Object.create(ja.prototype);ub.prototype.constructor=ub;Lc.prototype=Object.create(L.prototype);Lc.prototype.constructor=Lc;Wb.prototype=Object.create(ja.prototype);Wb.prototype.constructor=Wb;Mc.prototype=Object.create(L.prototype);Mc.prototype.constructor=Mc;Xb.prototype=Object.create(ja.prototype);Xb.prototype.constructor=Xb;Nc.prototype=Object.create(L.prototype);
Nc.prototype.constructor=Nc;Yb.prototype=Object.create(E.prototype);Yb.prototype.constructor=Yb;Oc.prototype=Object.create(L.prototype);Oc.prototype.constructor=Oc;Zb.prototype=Object.create(E.prototype);Zb.prototype.constructor=Zb;Pc.prototype=Object.create(L.prototype);Pc.prototype.constructor=Pc;$b.prototype=Object.create(E.prototype);$b.prototype.constructor=$b;var Lg={triangulate:function(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,f=bf(a,0,e,c,!0),g=[];if(!f)return g;var h;if(d){var k=
c,d=[],m;var l=0;for(m=b.length;l<m;l++){var n=b[l]*k;var p=l<m-1?b[l+1]*k:a.length;n=bf(a,n,p,k,!1);n===n.next&&(n.steiner=!0);d.push(Jg(n))}d.sort(Hg);for(l=0;l<d.length;l++){b=d[l];k=f;if(k=Ig(b,k))b=ef(k,b),Rc(b,b.next);f=Rc(f,f.next)}}if(a.length>80*c){var r=h=a[0];var t=d=a[1];for(k=c;k<e;k+=c)l=a[k],b=a[k+1],l<r&&(r=l),b<t&&(t=b),l>h&&(h=l),b>d&&(d=b);h=Math.max(h-r,d-t);h=0!==h?1/h:0}Sc(f,g,c,r,t,h);return g}},$a={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-
a[e].x*a[d].y;return.5*c},isClockWise:function(a){return 0>$a.area(a)},triangulateShape:function(a,b){function c(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function d(a,b){for(var c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}var e=[],f=[],g=[];c(a);d(e,a);var h=a.length;b.forEach(c);for(a=0;a<b.length;a++)f.push(h),h+=b[a].length,d(e,b[a]);b=Lg.triangulate(e,f);for(a=0;a<b.length;a+=3)g.push(b.slice(a,a+3));return g}};ib.prototype=Object.create(L.prototype);ib.prototype.constructor=ib;
La.prototype=Object.create(E.prototype);La.prototype.constructor=La;La.prototype.getArrays=function(){var a=this.getAttribute("position"),a=a?Array.prototype.slice.call(a.array):[],b=this.getAttribute("uv"),b=b?Array.prototype.slice.call(b.array):[],c=this.index,c=c?Array.prototype.slice.call(c.array):[];return{position:a,uv:b,index:c}};La.prototype.addShapeList=function(a,b){var c=a.length;b.arrays=this.getArrays();for(var d=0;d<c;d++)this.addShape(a[d],b);this.setIndex(b.arrays.index);this.addAttribute("position",
new B(b.arrays.position,3));this.addAttribute("uv",new B(b.arrays.uv,2))};La.prototype.addShape=function(a,b){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=a.x-b.x;var e=a.y-b.y;var f=c.x-a.x;var g=c.y-a.y,h=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var k=Math.sqrt(h),m=Math.sqrt(f*f+g*g),h=b.x-e/k;b=b.y+d/k;g=((c.x-g/m-h)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=h+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new D(f,
d);e=Math.sqrt(e/2)}else a=!1,d>Number.EPSILON?f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(f=-e,e=Math.sqrt(h)):(f=d,d=e,e=Math.sqrt(h/2));return new D(f/e,d/e)}function e(a,b){for(G=a.length;0<=--G;){var c=G;var d=G-1;0>d&&(d=a.length-1);var e,f=x+2*w;for(e=0;e<f;e++){var g=X*e,m=X*(e+1),n=b+d+g,q=b+d+m,m=b+c+m;h(b+c+g);h(n);h(m);h(n);h(q);h(m);g=l.length/3;g=E.generateSideWallUV(S,l,g-6,g-3,g-2,g-1);k(g[0]);k(g[1]);k(g[3]);k(g[1]);
k(g[2]);k(g[3])}}}function f(a,b,c){r.push(a);r.push(b);r.push(c)}function g(a,b,c){h(a);h(b);h(c);a=l.length/3;a=E.generateTopUV(S,l,a-3,a-2,a-1);k(a[0]);k(a[1]);k(a[2])}function h(a){n.push(l.length/3);l.push(r[3*a+0]);l.push(r[3*a+1]);l.push(r[3*a+2])}function k(a){u.push(a.x);u.push(a.y)}var m=b.arrays?b.arrays:this.getArrays(),l=m.position,n=m.index,u=m.uv,r=[],m=void 0!==b.amount?b.amount:100,t=void 0!==b.bevelThickness?b.bevelThickness:6,v=void 0!==b.bevelSize?b.bevelSize:t-2,w=void 0!==b.bevelSegments?
b.bevelSegments:3,z=void 0!==b.bevelEnabled?b.bevelEnabled:!0,y=void 0!==b.curveSegments?b.curveSegments:12,x=void 0!==b.steps?b.steps:1,A=b.extrudePath,C=!1,E=void 0!==b.UVGenerator?b.UVGenerator:ib.WorldUVGenerator;if(A){var H=A.getSpacedPoints(x);C=!0;z=!1;var K=void 0!==b.frames?b.frames:A.computeFrenetFrames(x,!1);var L=new p;var M=new p;var P=new p}z||(v=t=w=0);var O,S=this,y=a.extractPoints(y);a=y.shape;var Q=y.holes;if(!$a.isClockWise(a)){a=a.reverse();var N=0;for(O=Q.length;N<O;N++){var R=
Q[N];$a.isClockWise(R)&&(Q[N]=R.reverse())}}var U=$a.triangulateShape(a,Q),W=a;N=0;for(O=Q.length;N<O;N++)R=Q[N],a=a.concat(R);var V,X=a.length,T,ba=U.length,y=[],G=0;var Y=W.length;var ea=Y-1;for(V=G+1;G<Y;G++,ea++,V++)ea===Y&&(ea=0),V===Y&&(V=0),y[G]=d(W[G],W[ea],W[V]);var A=[],ca=y.concat();N=0;for(O=Q.length;N<O;N++){R=Q[N];var aa=[];G=0;Y=R.length;ea=Y-1;for(V=G+1;G<Y;G++,ea++,V++)ea===Y&&(ea=0),V===Y&&(V=0),aa[G]=d(R[G],R[ea],R[V]);A.push(aa);ca=ca.concat(aa)}for(ea=0;ea<w;ea++){Y=ea/w;var da=
t*Math.cos(Y*Math.PI/2);V=v*Math.sin(Y*Math.PI/2);G=0;for(Y=W.length;G<Y;G++){var fa=c(W[G],y[G],V);f(fa.x,fa.y,-da)}N=0;for(O=Q.length;N<O;N++)for(R=Q[N],aa=A[N],G=0,Y=R.length;G<Y;G++)fa=c(R[G],aa[G],V),f(fa.x,fa.y,-da)}V=v;for(G=0;G<X;G++)fa=z?c(a[G],ca[G],V):a[G],C?(M.copy(K.normals[0]).multiplyScalar(fa.x),L.copy(K.binormals[0]).multiplyScalar(fa.y),P.copy(H[0]).add(M).add(L),f(P.x,P.y,P.z)):f(fa.x,fa.y,0);for(Y=1;Y<=x;Y++)for(G=0;G<X;G++)fa=z?c(a[G],ca[G],V):a[G],C?(M.copy(K.normals[Y]).multiplyScalar(fa.x),
L.copy(K.binormals[Y]).multiplyScalar(fa.y),P.copy(H[Y]).add(M).add(L),f(P.x,P.y,P.z)):f(fa.x,fa.y,m/x*Y);for(ea=w-1;0<=ea;ea--){Y=ea/w;da=t*Math.cos(Y*Math.PI/2);V=v*Math.sin(Y*Math.PI/2);G=0;for(Y=W.length;G<Y;G++)fa=c(W[G],y[G],V),f(fa.x,fa.y,m+da);N=0;for(O=Q.length;N<O;N++)for(R=Q[N],aa=A[N],G=0,Y=R.length;G<Y;G++)fa=c(R[G],aa[G],V),C?f(fa.x,fa.y+H[x-1].y,H[x-1].x+da):f(fa.x,fa.y,m+da)}(function(){var a=l.length/3;if(z){var c=0*X;for(G=0;G<ba;G++)T=U[G],g(T[2]+c,T[1]+c,T[0]+c);c=X*(x+2*w);for(G=
0;G<ba;G++)T=U[G],g(T[0]+c,T[1]+c,T[2]+c)}else{for(G=0;G<ba;G++)T=U[G],g(T[2],T[1],T[0]);for(G=0;G<ba;G++)T=U[G],g(T[0]+X*x,T[1]+X*x,T[2]+X*x)}S.addGroup(a,l.length/3-a,void 0!==b.material?b.material:0)})();(function(){var a=l.length/3,c=0;e(W,c);c+=W.length;N=0;for(O=Q.length;N<O;N++)R=Q[N],e(R,c),c+=R.length;S.addGroup(a,l.length/3-a,void 0!==b.extrudeMaterial?b.extrudeMaterial:1)})();b.arrays||(this.setIndex(n),this.addAttribute("position",new B(l,3)),this.addAttribute("uv",new B(u,2)))};ib.WorldUVGenerator=
{generateTopUV:function(a,b,c,d,e){a=b[3*d];d=b[3*d+1];var f=b[3*e];e=b[3*e+1];return[new D(b[3*c],b[3*c+1]),new D(a,d),new D(f,e)]},generateSideWallUV:function(a,b,c,d,e,f){a=b[3*c];var g=b[3*c+1];c=b[3*c+2];var h=b[3*d],k=b[3*d+1];d=b[3*d+2];var m=b[3*e],l=b[3*e+1];e=b[3*e+2];var n=b[3*f],p=b[3*f+1];b=b[3*f+2];return.01>Math.abs(g-k)?[new D(a,1-c),new D(h,1-d),new D(m,1-e),new D(n,1-b)]:[new D(g,1-c),new D(k,1-d),new D(l,1-e),new D(p,1-b)]}};Uc.prototype=Object.create(L.prototype);Uc.prototype.constructor=
Uc;ac.prototype=Object.create(La.prototype);ac.prototype.constructor=ac;Vc.prototype=Object.create(L.prototype);Vc.prototype.constructor=Vc;wb.prototype=Object.create(E.prototype);wb.prototype.constructor=wb;Wc.prototype=Object.create(L.prototype);Wc.prototype.constructor=Wc;bc.prototype=Object.create(E.prototype);bc.prototype.constructor=bc;Xc.prototype=Object.create(L.prototype);Xc.prototype.constructor=Xc;cc.prototype=Object.create(E.prototype);cc.prototype.constructor=cc;xb.prototype=Object.create(L.prototype);
xb.prototype.constructor=xb;xb.prototype.toJSON=function(){var a=L.prototype.toJSON.call(this);return ff(this.parameters.shapes,a)};yb.prototype=Object.create(E.prototype);yb.prototype.constructor=yb;yb.prototype.toJSON=function(){var a=E.prototype.toJSON.call(this);return ff(this.parameters.shapes,a)};dc.prototype=Object.create(E.prototype);dc.prototype.constructor=dc;zb.prototype=Object.create(L.prototype);zb.prototype.constructor=zb;ab.prototype=Object.create(E.prototype);ab.prototype.constructor=
ab;Yc.prototype=Object.create(zb.prototype);Yc.prototype.constructor=Yc;Zc.prototype=Object.create(ab.prototype);Zc.prototype.constructor=Zc;$c.prototype=Object.create(L.prototype);$c.prototype.constructor=$c;ec.prototype=Object.create(E.prototype);ec.prototype.constructor=ec;var ka=Object.freeze({WireframeGeometry:Tb,ParametricGeometry:Hc,ParametricBufferGeometry:Ub,TetrahedronGeometry:Jc,TetrahedronBufferGeometry:Vb,OctahedronGeometry:Kc,OctahedronBufferGeometry:ub,IcosahedronGeometry:Lc,IcosahedronBufferGeometry:Wb,
DodecahedronGeometry:Mc,DodecahedronBufferGeometry:Xb,PolyhedronGeometry:Ic,PolyhedronBufferGeometry:ja,TubeGeometry:Nc,TubeBufferGeometry:Yb,TorusKnotGeometry:Oc,TorusKnotBufferGeometry:Zb,TorusGeometry:Pc,TorusBufferGeometry:$b,TextGeometry:Uc,TextBufferGeometry:ac,SphereGeometry:Vc,SphereBufferGeometry:wb,RingGeometry:Wc,RingBufferGeometry:bc,PlaneGeometry:Ac,PlaneBufferGeometry:rb,LatheGeometry:Xc,LatheBufferGeometry:cc,ShapeGeometry:xb,ShapeBufferGeometry:yb,ExtrudeGeometry:ib,ExtrudeBufferGeometry:La,
EdgesGeometry:dc,ConeGeometry:Yc,ConeBufferGeometry:Zc,CylinderGeometry:zb,CylinderBufferGeometry:ab,CircleGeometry:$c,CircleBufferGeometry:ec,BoxGeometry:Mb,BoxBufferGeometry:qb});fc.prototype=Object.create(P.prototype);fc.prototype.constructor=fc;fc.prototype.isShadowMaterial=!0;gc.prototype=Object.create(Fa.prototype);gc.prototype.constructor=gc;gc.prototype.isRawShaderMaterial=!0;Ua.prototype=Object.create(P.prototype);Ua.prototype.constructor=Ua;Ua.prototype.isMeshStandardMaterial=!0;Ua.prototype.copy=
function(a){P.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=
a.morphTargets;this.morphNormals=a.morphNormals;return this};Ab.prototype=Object.create(Ua.prototype);Ab.prototype.constructor=Ab;Ab.prototype.isMeshPhysicalMaterial=!0;Ab.prototype.copy=function(a){Ua.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return this};Ma.prototype=Object.create(P.prototype);Ma.prototype.constructor=Ma;Ma.prototype.isMeshPhongMaterial=!0;Ma.prototype.copy=function(a){P.prototype.copy.call(this,
a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=
a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Bb.prototype=
Object.create(Ma.prototype);Bb.prototype.constructor=Bb;Bb.prototype.isMeshToonMaterial=!0;Bb.prototype.copy=function(a){Ma.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return this};Cb.prototype=Object.create(P.prototype);Cb.prototype.constructor=Cb;Cb.prototype.isMeshNormalMaterial=!0;Cb.prototype.copy=function(a){P.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;
this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Db.prototype=Object.create(P.prototype);Db.prototype.constructor=Db;Db.prototype.isMeshLambertMaterial=!0;Db.prototype.copy=function(a){P.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=
a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Eb.prototype=Object.create(W.prototype);Eb.prototype.constructor=Eb;Eb.prototype.isLineDashedMaterial=!0;Eb.prototype.copy=function(a){W.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};var Mg=Object.freeze({ShadowMaterial:fc,SpriteMaterial:hb,RawShaderMaterial:gc,ShaderMaterial:Fa,PointsMaterial:Ka,MeshPhysicalMaterial:Ab,MeshStandardMaterial:Ua,
MeshPhongMaterial:Ma,MeshToonMaterial:Bb,MeshNormalMaterial:Cb,MeshLambertMaterial:Db,MeshDepthMaterial:eb,MeshDistanceMaterial:fb,MeshBasicMaterial:Aa,LineDashedMaterial:Eb,LineBasicMaterial:W,Material:P}),Ib={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},xa=new he,cb={};Object.assign(Na.prototype,{load:function(a,b,c,d){void 0===a&&(a=
"");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Ib.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;if(void 0!==cb[a])cb[a].push({onLoad:b,onProgress:c,onError:d});else{var g=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){c=g[1];var h=!!g[2],g=g[3],g=window.decodeURIComponent(g);h&&(g=window.atob(g));try{var k=(this.responseType||"").toLowerCase();switch(k){case "arraybuffer":case "blob":for(var m=new Uint8Array(g.length),
h=0;h<g.length;h++)m[h]=g.charCodeAt(h);var l="blob"===k?new Blob([m.buffer],{type:c}):m.buffer;break;case "document":l=(new DOMParser).parseFromString(g,c);break;case "json":l=JSON.parse(g);break;default:l=g}window.setTimeout(function(){b&&b(l);e.manager.itemEnd(a)},0)}catch(u){window.setTimeout(function(){d&&d(u);e.manager.itemEnd(a);e.manager.itemError(a)},0)}}else{cb[a]=[];cb[a].push({onLoad:b,onProgress:c,onError:d});var n=new XMLHttpRequest;n.open("GET",a,!0);n.addEventListener("load",function(b){var c=
this.response;Ib.add(a,c);var d=cb[a];delete cb[a];if(200===this.status){for(var f=0,g=d.length;f<g;f++){var h=d[f];if(h.onLoad)h.onLoad(c)}e.manager.itemEnd(a)}else if(0===this.status){console.warn("THREE.FileLoader: HTTP Status 0 received.");f=0;for(g=d.length;f<g;f++)if(h=d[f],h.onLoad)h.onLoad(c);e.manager.itemEnd(a)}else{f=0;for(g=d.length;f<g;f++)if(h=d[f],h.onError)h.onError(b);e.manager.itemEnd(a);e.manager.itemError(a)}},!1);n.addEventListener("progress",function(b){for(var c=cb[a],d=0,e=
c.length;d<e;d++){var f=c[d];if(f.onProgress)f.onProgress(b)}},!1);n.addEventListener("error",function(b){var c=cb[a];delete cb[a];for(var d=0,f=c.length;d<f;d++){var g=c[d];if(g.onError)g.onError(b)}e.manager.itemEnd(a);e.manager.itemError(a)},!1);void 0!==this.responseType&&(n.responseType=this.responseType);void 0!==this.withCredentials&&(n.withCredentials=this.withCredentials);n.overrideMimeType&&n.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(h in this.requestHeader)n.setRequestHeader(h,
this.requestHeader[h]);n.send(null)}e.manager.itemStart(a);return n}},setPath:function(a){this.path=a;return this},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},setMimeType:function(a){this.mimeType=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});Object.assign(gf.prototype,{load:function(a,b,c,d){function e(e){m.load(a[e],function(a){a=g._parser(a,!0);h[e]={width:a.width,height:a.height,
format:a.format,mipmaps:a.mipmaps};f+=1;6===f&&(1===a.mipmapCount&&(k.minFilter=1006),k.format=a.format,k.needsUpdate=!0,b&&b(k))},c,d)}var f,g=this,h=[],k=new Sb;k.image=h;var m=new Na(this.manager);m.setPath(this.path);m.setResponseType("arraybuffer");if(Array.isArray(a))for(var l=f=0,n=a.length;l<n;++l)e(l);else m.load(a,function(a){a=g._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){h[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)h[d].mipmaps.push(a.mipmaps[d*
a.mipmapCount+e]),h[d].format=a.format,h[d].width=a.width,h[d].height=a.height}else k.image.width=a.width,k.image.height=a.height,k.mipmaps=a.mipmaps;1===a.mipmapCount&&(k.minFilter=1006);k.format=a.format;k.needsUpdate=!0;b&&b(k)},c,d);return k},setPath:function(a){this.path=a;return this}});Object.assign(ie.prototype,{load:function(a,b,c,d){var e=this,f=new lb,g=new Na(this.manager);g.setResponseType("arraybuffer");g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==
a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:1001,f.wrapT=void 0!==a.wrapT?a.wrapT:1001,f.magFilter=void 0!==a.magFilter?a.magFilter:1006,f.minFilter=void 0!==a.minFilter?a.minFilter:1008,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=1006),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}});Object.assign(ad.prototype,
{crossOrigin:"Anonymous",load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,f=Ib.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;c=document.createElementNS("http://www.w3.org/1999/xhtml","img");c.addEventListener("load",function(){Ib.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);c.addEventListener("error",function(b){d&&d(b);e.manager.itemEnd(a);e.manager.itemError(a)},
!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin);e.manager.itemStart(a);c.src=a;return c},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(je.prototype,{crossOrigin:"Anonymous",load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new db,g=new ad(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);
var h=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this}});Object.assign(Ad.prototype,{crossOrigin:"Anonymous",load:function(a,b,c,d){var e=new U,f=new ad(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(c){e.image=c;c=0<a.search(/\.(jpg|jpeg)$/)||0===a.search(/^data\:image\/jpeg/);e.format=c?1022:1023;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=
a;return this},setPath:function(a){this.path=a;return this}});Object.assign(C.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){var a=this.getLengths();
return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c=this.getPoint(0),d,e=0;b.push(0);for(d=1;d<=a;d++){var f=this.getPoint(d/a);e+=f.distanceTo(c);b.push(e);c=f}return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var c=this.getLengths(),d=c.length;b=b?b:a*
c[d-1];for(var e=0,f=d-1,g;e<=f;)if(a=Math.floor(e+(f-e)/2),g=c[a]-b,0>g)e=a+1;else if(0<g)f=a-1;else{f=a;break}a=f;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)},computeFrenetFrames:function(a,b){var c=new p,d=[],e=[],f=[],g=new p,h=new O,k;for(k=0;k<=a;k++){var m=
k/a;d[k]=this.getTangentAt(m);d[k].normalize()}e[0]=new p;f[0]=new p;k=Number.MAX_VALUE;m=Math.abs(d[0].x);var l=Math.abs(d[0].y),n=Math.abs(d[0].z);m<=k&&(k=m,c.set(1,0,0));l<=k&&(k=l,c.set(0,1,0));n<=k&&c.set(0,0,1);g.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],g);f[0].crossVectors(d[0],e[0]);for(k=1;k<=a;k++)e[k]=e[k-1].clone(),f[k]=f[k-1].clone(),g.crossVectors(d[k-1],d[k]),g.length()>Number.EPSILON&&(g.normalize(),c=Math.acos(Q.clamp(d[k-1].dot(d[k]),-1,1)),e[k].applyMatrix4(h.makeRotationAxis(g,
c))),f[k].crossVectors(d[k],e[k]);if(!0===b)for(c=Math.acos(Q.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossVectors(e[0],e[a]))&&(c=-c),k=1;k<=a;k++)e[k].applyMatrix4(h.makeRotationAxis(d[k],c*k)),f[k].crossVectors(d[k],e[k]);return{tangents:d,normals:e,binormals:f}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=
this.arcLengthDivisions;a.type=this.type;return a},fromJSON:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});Ba.prototype=Object.create(C.prototype);Ba.prototype.constructor=Ba;Ba.prototype.isEllipseCurve=!0;Ba.prototype.getPoint=function(a,b){b=b||new D;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*
Math.cos(c);var f=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a-this.aX,f-=this.aY,a=e*c-f*d+this.aX,f=e*d+f*c+this.aY);return b.set(a,f)};Ba.prototype.copy=function(a){C.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};Ba.prototype.toJSON=function(){var a=
C.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};Ba.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};hc.prototype=
Object.create(Ba.prototype);hc.prototype.constructor=hc;hc.prototype.isArcCurve=!0;var Td=new p,Ee=new ke,Fe=new ke,Ge=new ke;ca.prototype=Object.create(C.prototype);ca.prototype.constructor=ca;ca.prototype.isCatmullRomCurve3=!0;ca.prototype.getPoint=function(a,b){b=b||new p;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=Math.floor(a);a-=e;this.closed?e+=0<e?0:(Math.floor(Math.abs(e)/c.length)+1)*c.length:0===a&&e===d-1&&(e=d-2,a=1);if(this.closed||0<e)var f=c[(e-1)%d];else Td.subVectors(c[0],
c[1]).add(c[0]),f=Td;var g=c[e%d];var h=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(Td.subVectors(c[d-1],c[d-2]).add(c[d-1]),c=Td);if("centripetal"===this.curveType||"chordal"===this.curveType){var k="chordal"===this.curveType?.5:.25,d=Math.pow(f.distanceToSquared(g),k),e=Math.pow(g.distanceToSquared(h),k),k=Math.pow(h.distanceToSquared(c),k);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>k&&(k=e);Ee.initNonuniformCatmullRom(f.x,g.x,h.x,c.x,d,e,k);Fe.initNonuniformCatmullRom(f.y,g.y,h.y,c.y,d,e,k);Ge.initNonuniformCatmullRom(f.z,
g.z,h.z,c.z,d,e,k)}else"catmullrom"===this.curveType&&(Ee.initCatmullRom(f.x,g.x,h.x,c.x,this.tension),Fe.initCatmullRom(f.y,g.y,h.y,c.y,this.tension),Ge.initCatmullRom(f.z,g.z,h.z,c.z,this.tension));b.set(Ee.calc(a),Fe.calc(a),Ge.calc(a));return b};ca.prototype.copy=function(a){C.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};ca.prototype.toJSON=
function(){var a=C.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};ca.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new p).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};Oa.prototype=Object.create(C.prototype);
Oa.prototype.constructor=Oa;Oa.prototype.isCubicBezierCurve=!0;Oa.prototype.getPoint=function(a,b){b=b||new D;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(cd(a,c.x,d.x,e.x,f.x),cd(a,c.y,d.y,e.y,f.y));return b};Oa.prototype.copy=function(a){C.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Oa.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=
this.v3.toArray();return a};Oa.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Va.prototype=Object.create(C.prototype);Va.prototype.constructor=Va;Va.prototype.isCubicBezierCurve3=!0;Va.prototype.getPoint=function(a,b){b=b||new p;var c=this.v0,d=this.v1,e=this.v2,f=this.v3;b.set(cd(a,c.x,d.x,e.x,f.x),cd(a,c.y,d.y,e.y,f.y),cd(a,c.z,d.z,e.z,f.z));return b};Va.prototype.copy=
function(a){C.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Va.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};Va.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};ya.prototype=Object.create(C.prototype);
ya.prototype.constructor=ya;ya.prototype.isLineCurve=!0;ya.prototype.getPoint=function(a,b){b=b||new D;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};ya.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};ya.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};ya.prototype.copy=function(a){C.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};ya.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);
a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};ya.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Pa.prototype=Object.create(C.prototype);Pa.prototype.constructor=Pa;Pa.prototype.isLineCurve3=!0;Pa.prototype.getPoint=function(a,b){b=b||new p;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Pa.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Pa.prototype.copy=
function(a){C.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Pa.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Pa.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Qa.prototype=Object.create(C.prototype);Qa.prototype.constructor=Qa;Qa.prototype.isQuadraticBezierCurve=!0;Qa.prototype.getPoint=function(a,b){b=b||new D;var c=
this.v0,d=this.v1,e=this.v2;b.set(bd(a,c.x,d.x,e.x),bd(a,c.y,d.y,e.y));return b};Qa.prototype.copy=function(a){C.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Qa.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Qa.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
Wa.prototype=Object.create(C.prototype);Wa.prototype.constructor=Wa;Wa.prototype.isQuadraticBezierCurve3=!0;Wa.prototype.getPoint=function(a,b){b=b||new p;var c=this.v0,d=this.v1,e=this.v2;b.set(bd(a,c.x,d.x,e.x),bd(a,c.y,d.y,e.y),bd(a,c.z,d.z,e.z));return b};Wa.prototype.copy=function(a){C.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Wa.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();
a.v2=this.v2.toArray();return a};Wa.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ra.prototype=Object.create(C.prototype);Ra.prototype.constructor=Ra;Ra.prototype.isSplineCurve=!0;Ra.prototype.getPoint=function(a,b){b=b||new D;var c=this.points,d=(c.length-1)*a;a=Math.floor(d);var d=d-a,e=c[0===a?a:a-1],f=c[a],g=c[a>c.length-2?c.length-1:a+1],c=c[a>c.length-3?c.length-1:a+2];b.set(hf(d,e.x,f.x,
g.x,c.x),hf(d,e.y,f.y,g.y,c.y));return b};Ra.prototype.copy=function(a){C.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this};Ra.prototype.toJSON=function(){var a=C.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a};Ra.prototype.fromJSON=function(a){C.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=
a.points[b];this.points.push((new D).fromArray(d))}return this};var Ng=Object.freeze({ArcCurve:hc,CatmullRomCurve3:ca,CubicBezierCurve:Oa,CubicBezierCurve3:Va,EllipseCurve:Ba,LineCurve:ya,LineCurve3:Pa,QuadraticBezierCurve:Qa,QuadraticBezierCurve3:Wa,SplineCurve:Ra});bb.prototype=Object.assign(Object.create(C.prototype),{constructor:bb,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new ya(b,
a))},getPoint:function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],
b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=[],c,d=0,e=this.curves;d<e.length;d++)for(var f=e[d],f=f.getPoints(f&&f.isEllipseCurve?2*a:f&&f.isLineCurve?1:f&&f.isSplineCurve?a*f.points.length:a),g=0;g<f.length;g++){var h=f[g];c&&c.equals(h)||(b.push(h),c=h)}this.autoClose&&
1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function(a){C.prototype.copy.call(this,a);this.curves=[];for(var b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this},toJSON:function(){var a=C.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(var b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a},fromJSON:function(a){C.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;
this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){var d=a.curves[b];this.curves.push((new Ng[d.type]).fromJSON(d))}return this}});Sa.prototype=Object.assign(Object.create(bb.prototype),{constructor:Sa,setFromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.currentPoint.set(a,b)},lineTo:function(a,b){var c=new ya(this.currentPoint.clone(),new D(a,b));this.curves.push(c);this.currentPoint.set(a,b)},quadraticCurveTo:function(a,
b,c,d){a=new Qa(this.currentPoint.clone(),new D(a,b),new D(c,d));this.curves.push(a);this.currentPoint.set(c,d)},bezierCurveTo:function(a,b,c,d,e,f){a=new Oa(this.currentPoint.clone(),new D(a,b),new D(c,d),new D(e,f));this.curves.push(a);this.currentPoint.set(e,f)},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a),b=new Ra(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1])},arc:function(a,b,c,d,e,f){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f)},absarc:function(a,
b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,b,c,d,e,f,g,h){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){a=new Ba(a,b,c,d,e,f,g,h);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a)},copy:function(a){bb.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function(){var a=bb.prototype.toJSON.call(this);
a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function(a){bb.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});jb.prototype=Object.assign(Object.create(Sa.prototype),{constructor:jb,getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Sa.prototype.copy.call(this,a);this.holes=[];
for(var b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());return this},toJSON:function(){var a=Sa.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(var b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a},fromJSON:function(a){Sa.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){var d=a.holes[b];this.holes.push((new Sa).fromJSON(d))}return this}});da.prototype=Object.assign(Object.create(x.prototype),
{constructor:da,isLight:!0,copy:function(a){x.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==
this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});Bd.prototype=Object.assign(Object.create(da.prototype),{constructor:Bd,isHemisphereLight:!0,copy:function(a){da.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});Object.assign(Fb.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},
toJSON:function(){var a={};0!==this.bias&&(a.bias=this.bias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});Cd.prototype=Object.assign(Object.create(Fb.prototype),{constructor:Cd,isSpotLightShadow:!0,update:function(a){var b=this.camera,c=2*Q.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height;a=a.distance||b.far;if(c!==b.fov||d!==b.aspect||a!==b.far)b.fov=
c,b.aspect=d,b.far=a,b.updateProjectionMatrix()}});Dd.prototype=Object.assign(Object.create(da.prototype),{constructor:Dd,isSpotLight:!0,copy:function(a){da.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Ed.prototype=Object.assign(Object.create(da.prototype),{constructor:Ed,isPointLight:!0,copy:function(a){da.prototype.copy.call(this,a);this.distance=a.distance;
this.decay=a.decay;this.shadow=a.shadow.clone();return this}});Fd.prototype=Object.assign(Object.create(Fb.prototype),{constructor:Fd});Gd.prototype=Object.assign(Object.create(da.prototype),{constructor:Gd,isDirectionalLight:!0,copy:function(a){da.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Hd.prototype=Object.assign(Object.create(da.prototype),{constructor:Hd,isAmbientLight:!0});Id.prototype=Object.assign(Object.create(da.prototype),{constructor:Id,
isRectAreaLight:!0,copy:function(a){da.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=da.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});Jd.prototype=Object.assign(Object.create(T.prototype),{constructor:Jd,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Kd.prototype=Object.assign(Object.create(T.prototype),
{constructor:Kd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Object.assign(pa.prototype,{evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&
(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||
this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}});Object.assign(pa.prototype,{beforeStart_:pa.prototype.copySampleValue_,afterEnd_:pa.prototype.copySampleValue_});Ld.prototype=Object.assign(Object.create(pa.prototype),{constructor:Ld,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,
g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)ha.slerpFlat(e,0,f,a-g,f,a,b);return e}});dd.prototype=Object.assign(Object.create(T.prototype),{constructor:dd,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new Ld(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});Md.prototype=Object.assign(Object.create(T.prototype),{constructor:Md,ValueTypeName:"color"});ic.prototype=Object.assign(Object.create(T.prototype),
{constructor:ic,ValueTypeName:"number"});Nd.prototype=Object.assign(Object.create(pa.prototype),{constructor:Nd,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=a;g=2*b-c;break;case 2402:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:f=a;h=2*c-b;break;case 2402:f=1;h=c+d[1]-d[0];
break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,k=this._offsetPrev,m=this._offsetNext,l=this._weightPrev,n=this._weightNext,p=(c-b)/(d-b);c=p*p;d=c*p;b=-l*d+2*l*c-l*p;l=(1+l)*d+(-1.5-2*l)*c+(-.5+l)*p+1;p=(-1-n)*d+(1.5+n)*c+.5*p;n=n*d-n*c;for(c=0;c!==g;++c)e[c]=b*f[k+c]+l*f[h+c]+p*f[a+c]+n*f[m+c];
return e}});ed.prototype=Object.assign(Object.create(pa.prototype),{constructor:ed,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[h+d]*c+f[a+d]*b;return e}});Od.prototype=Object.assign(Object.create(pa.prototype),{constructor:Od,interpolate_:function(a){return this.copySampleValue_(a-1)}});var ga={arraySlice:function(a,b,c){return ga.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:
a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,k=0;k!==b;++k)e[g++]=
a[h+k];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),c.push(g)),f=a[e++];while(void 0!==f)}}}};Object.assign(T,{parse:function(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");
var b=T._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];ga.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{var b={name:a.name,times:ga.convertArray(a.times,Array),values:ga.convertArray(a.values,Array)},c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return ic;
case "vector":case "vector2":case "vector3":case "vector4":return jc;case "color":return Md;case "quaternion":return dd;case "bool":case "boolean":return Kd;case "string":return Jd}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}});Object.assign(T.prototype,{constructor:T,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new Od(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new ed(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new Nd(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);
else throw Error(b);console.warn("THREE.KeyframeTrack:",b)}else this.createInterpolant=b},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=
this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=this.getValueSize(),this.times=ga.arraySlice(c,e,f),this.values=ga.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times,b=this.values,
d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&ga.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,
d);a=!1;break}return a},optimize:function(){for(var a,b,c=this.times,d=this.values,e=this.getValueSize(),f=2302===this.getInterpolation(),g=1,h=c.length-1,k=1;k<h;++k){a=!1;var m=c[k];if(m!==c[k+1]&&(1!==k||m!==m[0]))if(f)a=!0;else{b=k*e;for(var l=b-e,n=b+e,m=0;m!==e;++m){var p=d[b+m];if(p!==d[l+m]||p!==d[n+m]){a=!0;break}}}if(a){if(k!==g)for(c[g]=c[k],b=k*e,a=g*e,m=0;m!==e;++m)d[a+m]=d[b+m];++g}}if(0<h){c[g]=c[h];b=h*e;a=g*e;for(m=0;m!==e;++m)d[a+m]=d[b+m];++g}g!==c.length&&(this.times=ga.arraySlice(c,
0,g),this.values=ga.arraySlice(d,0,g*e));return this}});jc.prototype=Object.assign(Object.create(T.prototype),{constructor:jc,ValueTypeName:"vector"});Object.assign(Ca,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(T.parse(c[e]).scale(d));return new Ca(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(T.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,
b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],k=[];h.push((g+e-1)%e,g,(g+1)%e);k.push(0,1,0);var m=ga.getKeyframeOrder(h),h=ga.sortedArray(h,1,m),k=ga.sortedArray(k,1,m);d||0!==h[0]||(h.push(e),k.push(k[0]));f.push((new ic(".morphTargetInfluences["+b[g].name+"]",h,k)).scale(1/c))}return new Ca(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d,e={},f=/^([\w-]*?)([\d]+)$/,g=0,h=a.length;g<h;g++){var k=a[g],m=k.name.match(f);m&&1<m.length&&(d=m[1],(m=e[d])||(e[d]=m=[]),m.push(k))}a=[];for(d in e)a.push(Ca.CreateFromMorphTargetSequence(d,e[d],b,c));return a},parseAnimation:function(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var c=function(a,b,c,d,e){if(0!==c.length){var f=[],g=[];ga.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||
-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0;h<a.length;h++){var k=a[h].keys;if(k&&0!==k.length)if(k[0].morphTargets){for(var f={},m=0;m<k.length;m++)if(k[m].morphTargets)for(var l=0;l<k[m].morphTargets.length;l++)f[k[m].morphTargets[l]]=-1;for(var n in f){for(var p=[],r=[],l=0;l!==k[m].morphTargets.length;++l){var t=k[m];p.push(t.time);r.push(t.morphTarget===n?1:0)}d.push(new ic(".morphTargetInfluence["+n+"]",p,r))}f=f.length*(g||1)}else m=".bones["+b[h].name+"]",c(jc,m+".position",k,"pos",d),c(dd,
m+".quaternion",k,"rot",d),c(jc,m+".scale",k,"scl",d)}return 0===d.length?null:new Ca(e,f,d)}});Object.assign(Ca.prototype,{resetDuration:function(){for(var a=0,b=0,c=this.tracks.length;b!==c;++b)var d=this.tracks[b],a=Math.max(a,d.times[d.times.length-1]);this.duration=a},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}});Object.assign(Pd.prototype,
{load:function(a,b,c,d){var e=this;(new Na(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setTextures:function(a){this.textures=a},parse:function(a){function b(a){void 0===c[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return c[a]}var c=this.textures,d=new Mg[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);
void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearCoat&&(d.clearCoat=a.clearCoat);void 0!==a.clearCoatRoughness&&(d.clearCoatRoughness=a.clearCoatRoughness);void 0!==a.uniforms&&(d.uniforms=a.uniforms);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(d.vertexColors=a.vertexColors);void 0!==
a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==
a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=
a.morphTargets);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.userData&&(d.userData=a.userData);void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap),d.transparent=!0);void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&
(d.normalMap=b(a.normalMap));if(void 0!==a.normalScale){var e=a.normalScale;!1===Array.isArray(e)&&(e=[e,e]);d.normalScale=(new D).fromArray(e)}void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=
b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=
b(a.gradientMap));return d}});Object.assign(le.prototype,{load:function(a,b,c,d){var e=this;(new Na(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new E;var c=a.data.index;void 0!==c&&(c=new xf[c.type](c.array),b.setIndex(new M(c,1)));var d=a.data.attributes;for(f in d){var e=d[f];c=new xf[e.type](e.array);b.addAttribute(f,new M(c,e.itemSize,e.normalized))}var f=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==f)for(c=0,d=f.length;c!==d;++c)e=f[c],
b.addGroup(e.start,e.count,e.materialIndex);a=a.data.boundingSphere;void 0!==a&&(f=new p,void 0!==a.center&&f.fromArray(a.center),b.boundingSphere=new Ia(f,a.radius));return b}});var xf={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};kc.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,
b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};Object.assign(kc.prototype,{crossOrigin:void 0,initMaterials:function(a,b,c){for(var d=[],e=0;e<a.length;++e)d[e]=this.createMaterial(a[e],b,c);return d},createMaterial:function(){var a={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},b=new H,c=new Ad,d=new Pd;return function(e,f,g){function h(a,b,d,e,h){a=f+a;var m=kc.Handlers.get(a);
null!==m?a=m.load(a):(c.setCrossOrigin(g),a=c.load(a));void 0!==b&&(a.repeat.fromArray(b),1!==b[0]&&(a.wrapS=1E3),1!==b[1]&&(a.wrapT=1E3));void 0!==d&&a.offset.fromArray(d);void 0!==e&&("repeat"===e[0]&&(a.wrapS=1E3),"mirror"===e[0]&&(a.wrapS=1002),"repeat"===e[1]&&(a.wrapT=1E3),"mirror"===e[1]&&(a.wrapT=1002));void 0!==h&&(a.anisotropy=h);b=Q.generateUUID();k[b]=a;return b}var k={},m={uuid:Q.generateUUID(),type:"MeshLambertMaterial"},l;for(l in e){var n=e[l];switch(l){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;
case "DbgName":m.name=n;break;case "blending":m.blending=a[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case "colorDiffuse":m.color=b.fromArray(n).getHex();break;case "colorSpecular":m.specular=b.fromArray(n).getHex();break;case "colorEmissive":m.emissive=b.fromArray(n).getHex();break;case "specularCoef":m.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(m.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&
(m.type="MeshPhongMaterial");"standard"===n.toLowerCase()&&(m.type="MeshStandardMaterial");break;case "mapDiffuse":m.map=h(n,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;case "mapEmissive":m.emissiveMap=h(n,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case "mapEmissiveRepeat":case "mapEmissiveOffset":case "mapEmissiveWrap":case "mapEmissiveAnisotropy":break;
case "mapLight":m.lightMap=h(n,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":m.aoMap=h(n,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":m.bumpMap=h(n,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case "mapBumpScale":m.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":m.normalMap=h(n,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case "mapNormalFactor":m.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":m.specularMap=h(n,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapMetalness":m.metalnessMap=h(n,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case "mapMetalnessRepeat":case "mapMetalnessOffset":case "mapMetalnessWrap":case "mapMetalnessAnisotropy":break;case "mapRoughness":m.roughnessMap=h(n,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case "mapRoughnessRepeat":case "mapRoughnessOffset":case "mapRoughnessWrap":case "mapRoughnessAnisotropy":break;case "mapAlpha":m.alphaMap=
h(n,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":m.side=1;break;case "doubleSided":m.side=2;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");m.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":m[l]=
n;break;case "vertexColors":!0===n&&(m.vertexColors=2);"face"===n&&(m.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,n)}}"MeshBasicMaterial"===m.type&&delete m.emissive;"MeshPhongMaterial"!==m.type&&delete m.specular;1>m.opacity&&(m.transparent=!0);d.setTextures(k);return d.parse(m)}}()});var He={decodeText:function(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);return b},
extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}};Object.assign(me.prototype,{load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:He.extractUrlBase(a),g=new Na(this.manager);g.setWithCredentials(this.withCredentials);g.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");
return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(){return function(a,b){void 0!==a.data&&(a=a.data);a.scale=void 0!==a.scale?1/a.scale:1;var c=new L,d=a,e,f,g,h=d.faces;var k=d.vertices;var m=d.normals,l=d.colors;var n=d.scale;var u=0;if(void 0!==d.uvs){for(e=0;e<d.uvs.length;e++)d.uvs[e].length&&u++;for(e=
0;e<u;e++)c.faceVertexUvs[e]=[]}var r=0;for(g=k.length;r<g;)e=new p,e.x=k[r++]*n,e.y=k[r++]*n,e.z=k[r++]*n,c.vertices.push(e);r=0;for(g=h.length;r<g;){k=h[r++];var t=k&1;var v=k&2;e=k&8;var w=k&16;var z=k&32;n=k&64;k&=128;if(t){t=new Ya;t.a=h[r];t.b=h[r+1];t.c=h[r+3];var y=new Ya;y.a=h[r+1];y.b=h[r+2];y.c=h[r+3];r+=4;v&&(v=h[r++],t.materialIndex=v,y.materialIndex=v);v=c.faces.length;if(e)for(e=0;e<u;e++){var x=d.uvs[e];c.faceVertexUvs[e][v]=[];c.faceVertexUvs[e][v+1]=[];for(f=0;4>f;f++){var A=h[r++];
var B=x[2*A];A=x[2*A+1];B=new D(B,A);2!==f&&c.faceVertexUvs[e][v].push(B);0!==f&&c.faceVertexUvs[e][v+1].push(B)}}w&&(w=3*h[r++],t.normal.set(m[w++],m[w++],m[w]),y.normal.copy(t.normal));if(z)for(e=0;4>e;e++)w=3*h[r++],z=new p(m[w++],m[w++],m[w]),2!==e&&t.vertexNormals.push(z),0!==e&&y.vertexNormals.push(z);n&&(n=h[r++],n=l[n],t.color.setHex(n),y.color.setHex(n));if(k)for(e=0;4>e;e++)n=h[r++],n=l[n],2!==e&&t.vertexColors.push(new H(n)),0!==e&&y.vertexColors.push(new H(n));c.faces.push(t);c.faces.push(y)}else{t=
new Ya;t.a=h[r++];t.b=h[r++];t.c=h[r++];v&&(v=h[r++],t.materialIndex=v);v=c.faces.length;if(e)for(e=0;e<u;e++)for(x=d.uvs[e],c.faceVertexUvs[e][v]=[],f=0;3>f;f++)A=h[r++],B=x[2*A],A=x[2*A+1],B=new D(B,A),c.faceVertexUvs[e][v].push(B);w&&(w=3*h[r++],t.normal.set(m[w++],m[w++],m[w]));if(z)for(e=0;3>e;e++)w=3*h[r++],z=new p(m[w++],m[w++],m[w]),t.vertexNormals.push(z);n&&(n=h[r++],t.color.setHex(l[n]));if(k)for(e=0;3>e;e++)n=h[r++],t.vertexColors.push(new H(l[n]));c.faces.push(t)}}d=a;r=void 0!==d.influencesPerVertex?
d.influencesPerVertex:2;if(d.skinWeights)for(g=0,h=d.skinWeights.length;g<h;g+=r)c.skinWeights.push(new aa(d.skinWeights[g],1<r?d.skinWeights[g+1]:0,2<r?d.skinWeights[g+2]:0,3<r?d.skinWeights[g+3]:0));if(d.skinIndices)for(g=0,h=d.skinIndices.length;g<h;g+=r)c.skinIndices.push(new aa(d.skinIndices[g],1<r?d.skinIndices[g+1]:0,2<r?d.skinIndices[g+2]:0,3<r?d.skinIndices[g+3]:0));c.bones=d.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&
console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.");g=a;h=g.scale;if(void 0!==g.morphTargets)for(d=0,r=g.morphTargets.length;d<r;d++)for(c.morphTargets[d]={},c.morphTargets[d].name=g.morphTargets[d].name,c.morphTargets[d].vertices=[],m=c.morphTargets[d].vertices,l=g.morphTargets[d].vertices,u=0,k=l.length;u<k;u+=3)n=new p,n.x=l[u]*h,n.y=l[u+1]*h,n.z=l[u+2]*h,m.push(n);if(void 0!==
g.morphColors&&0<g.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),h=c.faces,g=g.morphColors[0].colors,d=0,r=h.length;d<r;d++)h[d].color.fromArray(g,3*d);g=a;d=[];r=[];void 0!==g.animation&&r.push(g.animation);void 0!==g.animations&&(g.animations.length?r=r.concat(g.animations):r.push(g.animations));for(g=0;g<r.length;g++)(h=Ca.parseAnimation(r[g],c.bones))&&d.push(h);c.morphTargets&&(r=Ca.CreateClipsFromMorphTargetSequences(c.morphTargets,
10),d=d.concat(r));0<d.length&&(c.animations=d);c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};a=kc.prototype.initMaterials(a.materials,b,this.crossOrigin);return{geometry:c,materials:a}}}()});Object.assign(jf.prototype,{load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new Na(e.manager)).load(a,function(c){var f=null;try{f=JSON.parse(c)}catch(h){void 0!==d&&d(h);console.error("THREE:ObjectLoader: Can't parse "+
a+".",h.message);return}c=f.metadata;void 0===c||void 0===c.type||"geometry"===c.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a+". Use THREE.JSONLoader instead."):e.parse(f,b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=this.parseShape(a.shapes),c=this.parseGeometries(a.geometries,c),d=this.parseImages(a.images,function(){void 0!==b&&b(e)}),d=this.parseTextures(a.textures,d),d=this.parseMaterials(a.materials,
d),e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function(a){var b={};if(void 0!==a)for(var c=0,d=a.length;c<d;c++){var e=(new jb).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){var c={};if(void 0!==a)for(var d=new me,e=new le,f=0,g=a.length;f<g;f++){var h=a[f];switch(h.type){case "PlaneGeometry":case "PlaneBufferGeometry":var k=new ka[h.type](h.width,
h.height,h.widthSegments,h.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":k=new ka[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":k=new ka[h.type](h.radius,h.segments,h.thetaStart,h.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":k=new ka[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);
break;case "ConeGeometry":case "ConeBufferGeometry":k=new ka[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":k=new ka[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case "DodecahedronGeometry":case "DodecahedronBufferGeometry":case "IcosahedronGeometry":case "IcosahedronBufferGeometry":case "OctahedronGeometry":case "OctahedronBufferGeometry":case "TetrahedronGeometry":case "TetrahedronBufferGeometry":k=
new ka[h.type](h.radius,h.detail);break;case "RingGeometry":case "RingBufferGeometry":k=new ka[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":k=new ka[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":k=new ka[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case "LatheGeometry":case "LatheBufferGeometry":k=
new ka[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case "PolyhedronGeometry":case "PolyhedronBufferGeometry":k=new ka[h.type](h.vertices,h.indices,h.radius,h.details);break;case "ShapeGeometry":case "ShapeBufferGeometry":k=[];f=0;for(g=h.shapes.length;f<g;f++)k.push(b[h.shapes[f]]);k=new ka[h.type](k,h.curveSegments);break;case "BufferGeometry":k=e.parse(h);break;case "Geometry":k=d.parse(h,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+
h.type+'"');continue}k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);c[h.uuid]=k}return c},parseMaterials:function(a,b){var c={};if(void 0!==a){var d=new Pd;d.setTextures(b);b=0;for(var e=a.length;b<e;b++){var f=a[b];if("MultiMaterial"===f.type){for(var g=[],h=0;h<f.materials.length;h++)g.push(d.parse(f.materials[h]));c[f.uuid]=g}else c[f.uuid]=d.parse(f)}}return c},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=Ca.parse(a[c]);b.push(d)}return b},parseImages:function(a,b){function c(a){d.manager.itemStart(a);
return f.load(a,function(){d.manager.itemEnd(a)},void 0,function(){d.manager.itemEnd(a);d.manager.itemError(a)})}var d=this,e={};if(void 0!==a&&0<a.length){b=new he(b);var f=new ad(b);f.setCrossOrigin(this.crossOrigin);b=0;for(var g=a.length;b<g;b++){var h=a[b],k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:d.texturePath+h.url;e[h.uuid]=c(k)}}return e},parseTextures:function(a,b){function c(a,b){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",
a);return b[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=new U(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&(h.mapping=c(g.mapping,Og));void 0!==g.offset&&h.offset.fromArray(g.offset);void 0!==g.repeat&&h.repeat.fromArray(g.repeat);void 0!==g.center&&h.center.fromArray(g.center);
void 0!==g.rotation&&(h.rotation=g.rotation);void 0!==g.wrap&&(h.wrapS=c(g.wrap[0],yf),h.wrapT=c(g.wrap[1],yf));void 0!==g.minFilter&&(h.minFilter=c(g.minFilter,zf));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter,zf));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);void 0!==g.flipY&&(h.flipY=g.flipY);d[g.uuid]=h}return d},parseObject:function(){var a=new O;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==
a){if(Array.isArray(a)){for(var b=[],c=0,e=a.length;c<e;c++){var f=a[c];void 0===d[f]&&console.warn("THREE.ObjectLoader: Undefined material",f);b.push(d[f])}return b}void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a);return d[a]}}switch(b.type){case "Scene":var g=new vd;void 0!==b.background&&Number.isInteger(b.background)&&(g.background=new H(b.background));void 0!==b.fog&&("Fog"===b.fog.type?g.fog=new Qb(b.fog.color,b.fog.near,b.fog.far):"FogExp2"===b.fog.type&&(g.fog=new Pb(b.fog.color,
b.fog.density)));break;case "PerspectiveCamera":g=new ba(b.fov,b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new Lb(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new Hd(b.color,b.intensity);break;case "DirectionalLight":g=new Gd(b.color,b.intensity);
break;case "PointLight":g=new Ed(b.color,b.intensity,b.distance,b.decay);break;case "RectAreaLight":g=new Id(b.color,b.intensity,b.width,b.height);break;case "SpotLight":g=new Dd(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new Bd(b.color,b.groundColor,b.intensity);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=e(b.geometry);var h=f(b.material);g=g.bones&&0<g.bones.length?new xd(g,
h):new ra(g,h);break;case "LOD":g=new Dc;break;case "Line":g=new sa(e(b.geometry),f(b.material),b.mode);break;case "LineLoop":g=new yd(e(b.geometry),f(b.material));break;case "LineSegments":g=new X(e(b.geometry),f(b.material));break;case "PointCloud":case "Points":g=new Rb(e(b.geometry),f(b.material));break;case "Sprite":g=new Cc(f(b.material));break;case "Group":g=new Fc;break;default:g=new x}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,
g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.quaternion&&g.quaternion.fromArray(b.quaternion),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==b.receiveShadow&&(g.receiveShadow=b.receiveShadow);b.shadow&&(void 0!==b.shadow.bias&&(g.shadow.bias=b.shadow.bias),void 0!==b.shadow.radius&&(g.shadow.radius=b.shadow.radius),void 0!==b.shadow.mapSize&&
g.shadow.mapSize.fromArray(b.shadow.mapSize),void 0!==b.shadow.camera&&(g.shadow.camera=this.parseObject(b.shadow.camera)));void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(var h=b.children,k=0;k<h.length;k++)g.add(this.parseObject(h[k],c,d));if("LOD"===b.type)for(b=b.levels,h=0;h<b.length;h++){var k=b[h],m=g.getObjectByProperty("uuid",k.object);void 0!==m&&g.addLevel(m,k.distance)}return g}}()});var Og={UVMapping:300,CubeReflectionMapping:301,
CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},yf={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},zf={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};ne.prototype={constructor:ne,setOptions:function(a){this.options=a;return this},
load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);var e=this,f=Ib.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f);e.manager.itemEnd(a)},0),f;fetch(a).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,e.options)}).then(function(c){Ib.add(a,c);b&&b(c);e.manager.itemEnd(a)}).catch(function(b){d&&d(b);e.manager.itemEnd(a);e.manager.itemError(a)})},setCrossOrigin:function(){return this},setPath:function(a){this.path=
a;return this}};Object.assign(oe.prototype,{moveTo:function(a,b){this.currentPath=new Sa;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b)},lineTo:function(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d)},bezierCurveTo:function(a,b,c,d,e,f){this.currentPath.bezierCurveTo(a,b,c,d,e,f)},splineThru:function(a){this.currentPath.splineThru(a)},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=
a[c],f=new jb;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,m=h.y-g.y;if(Math.abs(m)>Number.EPSILON){if(0>m&&(g=b[f],k=-k,h=b[e],m=-m),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=$a.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===
f.length){var g=f[0];var h=new jb;h.curves=g.curves;b.push(h);return b}var k=!e(f[0].getPoints()),k=a?!k:k;h=[];var m=[],l=[],n=0;m[n]=void 0;l[n]=[];for(var p=0,r=f.length;p<r;p++){g=f[p];var t=g.getPoints();var v=e(t);(v=a?!v:v)?(!k&&m[n]&&n++,m[n]={s:new jb,p:t},m[n].s.curves=g.curves,k&&n++,l[n]=[]):l[n].push({h:g,p:t[0]})}if(!m[0])return c(f);if(1<m.length){p=!1;a=[];e=0;for(f=m.length;e<f;e++)h[e]=[];e=0;for(f=m.length;e<f;e++)for(g=l[e],v=0;v<g.length;v++){k=g[v];n=!0;for(t=0;t<m.length;t++)d(k.p,
m[t].p)&&(e!==t&&a.push({froms:e,tos:t,hole:v}),n?(n=!1,h[t].push(k)):p=!0);n&&h[e].push(k)}0<a.length&&(p||(l=h))}p=0;for(e=m.length;p<e;p++)for(h=m[p].s,b.push(h),a=l[p],f=0,g=a.length;f<g;f++)h.holes.push(a[f].h);return b}});Object.assign(pe.prototype,{isFont:!0,generateShapes:function(a,b,c){void 0===b&&(b=100);c=this.data;a=String(a).split("");var d=b/c.resolution,e=(c.boundingBox.yMax-c.boundingBox.yMin+c.underlineThickness)*d,f=0,g=0;b=[];for(var h=0;h<a.length;h++){var k=a[h];if("\n"===k)f=
0,g-=e;else{var m=d;var l=f,n=g;if(k=c.glyphs[k]||c.glyphs["?"]){var p=new oe;if(k.o)for(var r=k._cachedOutline||(k._cachedOutline=k.o.split(" ")),t=0,v=r.length;t<v;)switch(r[t++]){case "m":var w=r[t++]*m+l;var x=r[t++]*m+n;p.moveTo(w,x);break;case "l":w=r[t++]*m+l;x=r[t++]*m+n;p.lineTo(w,x);break;case "q":var y=r[t++]*m+l;var B=r[t++]*m+n;var A=r[t++]*m+l;var C=r[t++]*m+n;p.quadraticCurveTo(A,C,y,B);break;case "b":y=r[t++]*m+l,B=r[t++]*m+n,A=r[t++]*m+l,C=r[t++]*m+n,w=r[t++]*m+l,x=r[t++]*m+n,p.bezierCurveTo(A,
C,w,x,y,B)}m={offsetX:k.ha*m,path:p}}else m=void 0;f+=m.offsetX;b.push(m.path)}}c=[];a=0;for(d=b.length;a<d;a++)Array.prototype.push.apply(c,b[a].toShapes());return c}});Object.assign(kf.prototype,{load:function(a,b,c,d){var e=this,f=new Na(this.manager);f.setPath(this.path);f.load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},
parse:function(a){return new pe(a)},setPath:function(a){this.path=a;return this}});var Ud,se={getContext:function(){void 0===Ud&&(Ud=new (window.AudioContext||window.webkitAudioContext));return Ud},setContext:function(a){Ud=a}};Object.assign(qe.prototype,{load:function(a,b,c,d){var e=new Na(this.manager);e.setResponseType("arraybuffer");e.load(a,function(a){se.getContext().decodeAudioData(a,function(a){b(a)})},c,d)}});Object.assign(lf.prototype,{update:function(){var a,b,c,d,e,f,g,h,k=new O,m=new O;
return function(l){if(a!==this||b!==l.focus||c!==l.fov||d!==l.aspect*this.aspect||e!==l.near||f!==l.far||g!==l.zoom||h!==this.eyeSep){a=this;b=l.focus;c=l.fov;d=l.aspect*this.aspect;e=l.near;f=l.far;g=l.zoom;var n=l.projectionMatrix.clone();h=this.eyeSep/2;var p=h*e/b,q=e*Math.tan(Q.DEG2RAD*c*.5)/g;m.elements[12]=-h;k.elements[12]=h;var t=-q*d+p;var v=q*d+p;n.elements[0]=2*e/(v-t);n.elements[8]=(v+t)/(v-t);this.cameraL.projectionMatrix.copy(n);t=-q*d-p;v=q*d-p;n.elements[0]=2*e/(v-t);n.elements[8]=
(v+t)/(v-t);this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(m);this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(k)}}()});fd.prototype=Object.create(x.prototype);fd.prototype.constructor=fd;re.prototype=Object.assign(Object.create(x.prototype),{constructor:re,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),
this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new p,b=new ha,c=new p,d=new p;return function(e){x.prototype.updateMatrixWorld.call(this,
e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.positionX?(e.positionX.setValueAtTime(a.x,this.context.currentTime),e.positionY.setValueAtTime(a.y,this.context.currentTime),e.positionZ.setValueAtTime(a.z,this.context.currentTime),e.forwardX.setValueAtTime(d.x,this.context.currentTime),e.forwardY.setValueAtTime(d.y,this.context.currentTime),e.forwardZ.setValueAtTime(d.z,this.context.currentTime),e.upX.setValueAtTime(f.x,this.context.currentTime),
e.upY.setValueAtTime(f.y,this.context.currentTime),e.upZ.setValueAtTime(f.z,this.context.currentTime)):(e.setPosition(a.x,a.y,a.z),e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z))}}()});lc.prototype=Object.assign(Object.create(x.prototype),{constructor:lc,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},
play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var a=this.context.createBufferSource();a.buffer=this.buffer;a.loop=this.loop;a.onended=this.onEnded.bind(this);a.playbackRate.setValueAtTime(this.playbackRate,this.startTime);this.startTime=this.context.currentTime;a.start(this.startTime,this.offset);this.isPlaying=!0;this.source=a;return this.connect()}},
pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.offset=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);
for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},
getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,
this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});te.prototype=Object.assign(Object.create(lc.prototype),{constructor:te,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=
a},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new p;return function(b){x.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});Object.assign(ue.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=
b[c];return a/b.length}});Object.assign(ve.prototype,{accumulate:function(a,b){var c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e)c[a+e]=c[e];e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);for(var d=b,f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},
saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){ha.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*f+a[c+g]*d}}});Object.assign(mf.prototype,{getValue:function(a,
b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}});Object.assign(qa,{Composite:mf,create:function(a,
b,c){return a&&a.isAnimationObjectGroup?new qa.Composite(a,b,c):new qa(a,b,c)},sanitizeNodeName:function(a){return a.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var a=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),b=["material","materials","bones"];return function(c){var d=a.exec(c);if(!d)throw Error("PropertyBinding: Cannot parse trackName: "+c);var d={nodeName:d[2],objectName:d[3],
objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]},e=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==e&&-1!==e){var f=d.nodeName.substring(e+1);-1!==b.indexOf(f)&&(d.nodeName=d.nodeName.substring(0,e),d.objectName=f)}if(null===d.propertyName||0===d.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+c);return d}}(),findNode:function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=
0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b||(e=d(e.children)))return e}return null};if(a=d(a.children))return a}return null}});Object.assign(qa.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},
GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];
this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];
this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=
this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=qa.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",
this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==f){if(void 0===a[f]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",
this,a);return}a=a[f]}}f=a[d];if(void 0===f)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",
this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}for(c=0;c<this.node.geometry.morphAttributes.position.length;c++)if(a.geometry.morphAttributes.position[c].name===e){e=c;break}}else{if(!a.geometry.morphTargets){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",
this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(c=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+
this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(qa.prototype,{_getValue_unbound:qa.prototype.getValue,_setValue_unbound:qa.prototype.setValue});Object.assign(nf.prototype,{isAnimationObjectGroup:!0,add:function(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._paths,f=this._parsedPaths,g=this._bindings,h=g.length,k=0,m=arguments.length;k!==m;++k){var l=
arguments[k],n=l.uuid,p=d[n];if(void 0===p){p=b++;d[n]=p;a.push(l);for(var n=0,r=h;n!==r;++n)g[n].push(new qa(l,e[n],f[n]))}else if(p<c){var t=--c,r=a[t];d[r.uuid]=p;a[p]=r;d[n]=t;a[t]=l;n=0;for(r=h;n!==r;++n){var v=g[n],w=v[p];v[p]=v[t];void 0===w&&(w=new qa(l,e[n],f[n]));v[t]=w}}else void 0!==a[p]&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var a=
this._objects,b=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,e=d.length,f=0,g=arguments.length;f!==g;++f){var h=arguments[f],k=h.uuid,m=c[k];if(void 0!==m&&m>=b){var l=b++,n=a[l];c[n.uuid]=m;a[m]=n;c[k]=l;a[l]=h;h=0;for(k=e;h!==k;++h){var n=d[h],p=n[m];n[m]=n[l];n[l]=p}}}this.nCachedObjects_=b},uncache:function(){for(var a,b,c=this._objects,d=c.length,e=this.nCachedObjects_,f=this._indicesByUUID,g=this._bindings,h=g.length,k=0,m=arguments.length;k!==m;++k){b=arguments[k].uuid;var l=
f[b];if(void 0!==l)if(delete f[b],l<e){var n=--e,p=c[n];b=--d;a=c[b];f[p.uuid]=l;c[l]=p;f[a.uuid]=n;c[n]=a;c.pop();for(var p=0,r=h;p!==r;++p){a=g[p];var t=a[b];a[l]=a[n];a[n]=t;a.pop()}}else for(b=--d,a=c[b],f[a.uuid]=l,c[l]=a,c.pop(),p=0,r=h;p!==r;++p)a=g[p],a[l]=a[b],a.pop()}this.nCachedObjects_=e},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,k=this.nCachedObjects_,m=Array(h.length),
d=e.length;c[a]=d;f.push(a);g.push(b);e.push(m);c=k;for(d=h.length;c!==d;++c)m[c]=new qa(h[c],a,b);return m},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}});Object.assign(of.prototype,{play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=
!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?
a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this},crossFadeTo:function(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function(a,
b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(this._timeScaleInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;d[1]=e+c;f[0]=a/g;f[1]=b/g;return this},stopWarping:function(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||
this._mixer._root},_update:function(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;for(var e=this._propertyBindings,f=0,g=b.length;f!==g;++f)b[f].evaluate(c),e[f].accumulate(d,a)}}else this._updateWeight(a)},_updateWeight:function(a){var b=0;if(this.enabled){var b=this.weight,c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0],
b=b*d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){var b=this.timeScale,c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0],b=b*d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,d=this.loop,e=this._loopCount;if(2200===
d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{d=2202===d;-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,d)):this._setEndings(0===this.repetitions,!0,d));if(b>=c||0>b){var f=Math.floor(b/c),b=b-c*f,e=e+Math.abs(f),g=this.repetitions-e;0>g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?
c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(0===g?(a=0>a,this._setEndings(a,!a,d)):this._setEndings(!1,!1,d),this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f}))}if(d&&1===(e&1))return this.time=b,c-b}return this.time=b},_setEndings:function(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(a,
b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=c;return this}});we.prototype=Object.assign(Object.create(za.prototype),{constructor:we,_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,k=h[g];void 0===k&&(k={},h[g]=k);for(h=0;h!==e;++h){var m=
d[h],l=m.name,n=k[l];if(void 0===n){n=f[h];if(void 0!==n){null===n._cacheIndex&&(++n.referenceCount,this._addInactiveBinding(n,g,l));continue}n=new ve(qa.create(c,l,b&&b._propertyBindings[h].binding.parsedPath),m.ValueTypeName,m.getValueSize());++n.referenceCount;this._addInactiveBinding(n,g,l)}f[h]=n;a[h].resultBuffer=n.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,
d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip=
{};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;
return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;var b=a._clip.uuid,c=this._actionsByClip,d=c[b],e=
d.knownActions,f=e[e.length-1],g=a._byClipCacheIndex;f._byClipCacheIndex=g;e[g]=f;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=
d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid,c=c.path,e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;
g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete e[d]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new ed(new Float32Array(2),
new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b){var c=b||this._root,d=c.uuid,c="string"===typeof a?Ca.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=
e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new of(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?Ca.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=
this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g)b[g]._update(d,a,e,f);a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){for(var d=d.knownActions,
e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,k=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;k._cacheIndex=h;b[h]=k;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},
uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});Qd.prototype.clone=function(){return new Qd(void 0===this.value.clone?this.value:this.value.clone())};xe.prototype=Object.assign(Object.create(E.prototype),{constructor:xe,isInstancedBufferGeometry:!0,copy:function(a){E.prototype.copy.call(this,a);this.maxInstancedCount=a.maxInstancedCount;return this},clone:function(){return(new this.constructor).copy(this)}});Object.defineProperties(ye.prototype,
{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(ye.prototype,{isInterleavedBufferAttribute:!0,setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*
this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},
setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}});Object.defineProperty(mc.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(mc.prototype,{isInterleavedBuffer:!0,setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==a?a.length/this.stride:0;this.array=a},setDynamic:function(a){this.dynamic=
a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(a){this.onUploadCallback=a;return this}});ze.prototype=Object.assign(Object.create(mc.prototype),
{constructor:ze,isInstancedInterleavedBuffer:!0,copy:function(a){mc.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Ae.prototype=Object.assign(Object.create(M.prototype),{constructor:Ae,isInstancedBufferAttribute:!0,copy:function(a){M.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this}});Object.assign(pf.prototype,{linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),
this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,b){var c=[];Be(a,this,c,b);c.sort(qf);return c},intersectObjects:function(a,b){var c=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
c;for(var d=0,e=a.length;d<e;d++)Be(a[d],this,c,b);c.sort(qf);return c}});Object.assign(rf.prototype,{start:function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0},stop:function(){this.getElapsedTime();this.autoStart=this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?
Date:performance).now(),a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}});Object.assign(sf.prototype,{set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=
0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(Q.clamp(a.y/this.radius,-1,1)));return this}});Object.assign(tf.prototype,{set:function(a,b,c){this.radius=a;this.theta=b;this.y=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this},setFromVector3:function(a){this.radius=Math.sqrt(a.x*a.x+a.z*a.z);this.theta=Math.atan2(a.x,a.z);this.y=a.y;return this}});gd.prototype=Object.create(x.prototype);gd.prototype.constructor=
gd;gd.prototype.isImmediateRenderObject=!0;hd.prototype=Object.create(X.prototype);hd.prototype.constructor=hd;hd.prototype.update=function(){var a=new p,b=new p,c=new ma;return function(){var d,e=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var f=this.object.matrixWorld,g=this.geometry.attributes.position;if((d=this.object.geometry)&&d.isGeometry)for(var h=d.vertices,k=d.faces,l=d=0,p=k.length;l<p;l++)for(var n=k[l],u=0,r=n.vertexNormals.length;u<r;u++){var t=
n.vertexNormals[u];a.copy(h[n[e[u]]]).applyMatrix4(f);b.copy(t).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);g.setXYZ(d,a.x,a.y,a.z);d+=1;g.setXYZ(d,b.x,b.y,b.z);d+=1}else if(d&&d.isBufferGeometry)for(e=d.attributes.position,h=d.attributes.normal,u=d=0,r=e.count;u<r;u++)a.set(e.getX(u),e.getY(u),e.getZ(u)).applyMatrix4(f),b.set(h.getX(u),h.getY(u),h.getZ(u)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),g.setXYZ(d,a.x,a.y,a.z),d+=1,g.setXYZ(d,b.x,b.y,b.z),d+=1;g.needsUpdate=
!0}}();nc.prototype=Object.create(x.prototype);nc.prototype.constructor=nc;nc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};nc.prototype.update=function(){var a=new p,b=new p;return function(){this.light.updateMatrixWorld();var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));
void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}();oc.prototype=Object.create(X.prototype);oc.prototype.constructor=oc;oc.prototype.updateMatrixWorld=function(){var a=new p,b=new O,c=new O;return function(d){var e=this.bones,f=this.geometry,g=f.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var h=0,k=0;h<e.length;h++){var l=e[h];l.parent&&l.parent.isBone&&(b.multiplyMatrices(c,l.matrixWorld),a.setFromMatrixPosition(b),
g.setXYZ(k,a.x,a.y,a.z),b.multiplyMatrices(c,l.parent.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(k+1,a.x,a.y,a.z),k+=2)}f.getAttribute("position").needsUpdate=!0;x.prototype.updateMatrixWorld.call(this,d)}}();pc.prototype=Object.create(ra.prototype);pc.prototype.constructor=pc;pc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};pc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};qc.prototype=
Object.create(x.prototype);qc.prototype.constructor=qc;qc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};qc.prototype.update=function(){var a=.5*this.light.width,b=.5*this.light.height,c=this.line.geometry.attributes.position,d=c.array;d[0]=a;d[1]=-b;d[2]=0;d[3]=a;d[4]=b;d[5]=0;d[6]=-a;d[7]=b;d[8]=0;d[9]=-a;d[10]=-b;d[11]=0;d[12]=a;d[13]=-b;d[14]=0;c.needsUpdate=!0;void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)};
rc.prototype=Object.create(x.prototype);rc.prototype.constructor=rc;rc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};rc.prototype.update=function(){var a=new p,b=new H,c=new H;return function(){var d=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=d.geometry.getAttribute("color");b.copy(this.light.color);c.copy(this.light.groundColor);for(var f=0,g=e.count;f<g;f++){var h=f<g/2?b:c;e.setXYZ(f,h.r,h.g,h.b)}e.needsUpdate=
!0}d.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate())}}();id.prototype=Object.create(X.prototype);id.prototype.constructor=id;Rd.prototype=Object.create(X.prototype);Rd.prototype.constructor=Rd;jd.prototype=Object.create(X.prototype);jd.prototype.constructor=jd;jd.prototype.update=function(){var a=new p,b=new p,c=new ma;return function(){this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);for(var d=this.object.matrixWorld,e=this.geometry.attributes.position,
f=this.object.geometry,g=f.vertices,f=f.faces,h=0,k=0,l=f.length;k<l;k++){var p=f[k],n=p.normal;a.copy(g[p.a]).add(g[p.b]).add(g[p.c]).divideScalar(3).applyMatrix4(d);b.copy(n).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0}}();sc.prototype=Object.create(x.prototype);sc.prototype.constructor=sc;sc.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();
this.targetLine.material.dispose()};sc.prototype.update=function(){var a=new p,b=new p,c=new p;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(c);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(c);
this.targetLine.scale.z=c.length()}}();kd.prototype=Object.create(X.prototype);kd.prototype.constructor=kd;kd.prototype.update=function(){function a(a,g,h,k){d.set(g,h,k).unproject(e);a=c[a];if(void 0!==a)for(g=b.getAttribute("position"),h=0,k=a.length;h<k;h++)g.setXYZ(a[h],d.x,d.y,d.z)}var b,c,d=new p,e=new Ta;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,
1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getAttribute("position").needsUpdate=!0}}();Gb.prototype=Object.create(X.prototype);Gb.prototype.constructor=Gb;Gb.prototype.update=function(){var a=new Xa;return function(b){void 0!==b&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");
void 0!==this.object&&a.setFromObject(this.object);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();Gb.prototype.setFromObject=function(a){this.object=a;this.update();return this};
ld.prototype=Object.create(X.prototype);ld.prototype.constructor=ld;ld.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),x.prototype.updateMatrixWorld.call(this,a))};md.prototype=Object.create(sa.prototype);md.prototype.constructor=md;md.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;1E-8>Math.abs(b)&&(b=1E-8);this.scale.set(.5*this.size,.5*this.size,b);this.lookAt(this.plane.normal);
x.prototype.updateMatrixWorld.call(this,a)};var Sd,Ce;Hb.prototype=Object.create(x.prototype);Hb.prototype.constructor=Hb;Hb.prototype.setDirection=function(){var a=new p,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();Hb.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();
this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Hb.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};nd.prototype=Object.create(X.prototype);nd.prototype.constructor=nd;C.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(C.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Object.assign(bb.prototype,{createPointsGeometry:function(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");
a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var b=new L,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new p(e.x,
e.y,e.z||0))}return b}});Object.assign(Sa.prototype,{fromPoints:function(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");this.setFromPoints(a)}});vf.prototype=Object.create(ca.prototype);wf.prototype=Object.create(ca.prototype);De.prototype=Object.create(ca.prototype);Object.assign(De.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},
reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});id.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};oc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(kc.prototype,{extractUrlBase:function(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");
return He.extractUrlBase(a)}});Object.assign(od.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");
return this.getSize(a)}});Object.assign(Xa.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");
return this.intersectsSphere(a)},size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Nb.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};Object.assign(Q,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");
return Q.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return Q.ceilPowerOfTwo(a)}});Object.assign(ma.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},
multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(a){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(O.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");
return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new p);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");
return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},
rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},
rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(a){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,f){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");
return this.makePerspective(a,b,d,c,e,f)}});Ea.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};ha.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(sb.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");
return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(jb.prototype,{extractAllPoints:function(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},
extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new ib(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new xb(this,a)}});Object.assign(D.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");
return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});Object.assign(p.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},
getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,
a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");
return this.manhattanLength()}});Object.assign(aa.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});L.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(x.prototype,
{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});Object.defineProperties(x.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");
return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(Dc.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");
return this.levels}}});Object.defineProperty(Ec.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Object.defineProperty(C.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");
this.arcLengthDivisions=a}});ba.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(da.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},
shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");
this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");
this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(M.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");
return this.array.length}}});Object.assign(E.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");
this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(E.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(Qd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(P.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},
wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new H}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=1===a}}});Object.defineProperties(Ma.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");
return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Fa.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(ce.prototype,
{getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");
return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");
return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(ce.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(Ue.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(a){a=1!==a;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});Object.defineProperties(kb.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=
a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=
a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");
return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},
set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Object.assign(be.prototype,{getStandingMatrix:function(){console.warn("THREE.WebVRManager: .getStandingMatrix() has been removed.")}});Object.defineProperties(be.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}});lc.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");
var b=this;(new qe).load(a,function(a){b.setBuffer(a)});return this};ue.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};fd.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};l.WebGLRenderTargetCube=Jb;l.WebGLRenderTarget=kb;l.WebGLRenderer=ce;l.ShaderLib=tb;l.UniformsLib=K;l.UniformsUtils=Ga;l.ShaderChunk=R;l.FogExp2=Pb;l.Fog=Qb;
l.Scene=vd;l.LensFlare=de;l.Sprite=Cc;l.LOD=Dc;l.SkinnedMesh=xd;l.Skeleton=Ec;l.Bone=wd;l.Mesh=ra;l.LineSegments=X;l.LineLoop=yd;l.Line=sa;l.Points=Rb;l.Group=Fc;l.VideoTexture=ee;l.DataTexture=lb;l.CompressedTexture=Sb;l.CubeTexture=db;l.CanvasTexture=tc;l.DepthTexture=Gc;l.Texture=U;l.CompressedTextureLoader=gf;l.DataTextureLoader=ie;l.CubeTextureLoader=je;l.TextureLoader=Ad;l.ObjectLoader=jf;l.MaterialLoader=Pd;l.BufferGeometryLoader=le;l.DefaultLoadingManager=xa;l.LoadingManager=he;l.JSONLoader=
me;l.ImageLoader=ad;l.ImageBitmapLoader=ne;l.FontLoader=kf;l.FileLoader=Na;l.Loader=kc;l.LoaderUtils=He;l.Cache=Ib;l.AudioLoader=qe;l.SpotLightShadow=Cd;l.SpotLight=Dd;l.PointLight=Ed;l.RectAreaLight=Id;l.HemisphereLight=Bd;l.DirectionalLightShadow=Fd;l.DirectionalLight=Gd;l.AmbientLight=Hd;l.LightShadow=Fb;l.Light=da;l.StereoCamera=lf;l.PerspectiveCamera=ba;l.OrthographicCamera=Lb;l.CubeCamera=fd;l.ArrayCamera=ud;l.Camera=Ta;l.AudioListener=re;l.PositionalAudio=te;l.AudioContext=se;l.AudioAnalyser=
ue;l.Audio=lc;l.VectorKeyframeTrack=jc;l.StringKeyframeTrack=Jd;l.QuaternionKeyframeTrack=dd;l.NumberKeyframeTrack=ic;l.ColorKeyframeTrack=Md;l.BooleanKeyframeTrack=Kd;l.PropertyMixer=ve;l.PropertyBinding=qa;l.KeyframeTrack=T;l.AnimationUtils=ga;l.AnimationObjectGroup=nf;l.AnimationMixer=we;l.AnimationClip=Ca;l.Uniform=Qd;l.InstancedBufferGeometry=xe;l.BufferGeometry=E;l.Geometry=L;l.InterleavedBufferAttribute=ye;l.InstancedInterleavedBuffer=ze;l.InterleavedBuffer=mc;l.InstancedBufferAttribute=Ae;
l.Face3=Ya;l.Object3D=x;l.Raycaster=pf;l.Layers=Wd;l.EventDispatcher=za;l.Clock=rf;l.QuaternionLinearInterpolant=Ld;l.LinearInterpolant=ed;l.DiscreteInterpolant=Od;l.CubicInterpolant=Nd;l.Interpolant=pa;l.Triangle=Za;l.Math=Q;l.Spherical=sf;l.Cylindrical=tf;l.Plane=Ea;l.Frustum=rd;l.Sphere=Ia;l.Ray=sb;l.Matrix4=O;l.Matrix3=ma;l.Box3=Xa;l.Box2=od;l.Line3=Nb;l.Euler=gb;l.Vector4=aa;l.Vector3=p;l.Vector2=D;l.Quaternion=ha;l.Color=H;l.ImmediateRenderObject=gd;l.VertexNormalsHelper=hd;l.SpotLightHelper=
nc;l.SkeletonHelper=oc;l.PointLightHelper=pc;l.RectAreaLightHelper=qc;l.HemisphereLightHelper=rc;l.GridHelper=id;l.PolarGridHelper=Rd;l.FaceNormalsHelper=jd;l.DirectionalLightHelper=sc;l.CameraHelper=kd;l.BoxHelper=Gb;l.Box3Helper=ld;l.PlaneHelper=md;l.ArrowHelper=Hb;l.AxesHelper=nd;l.Shape=jb;l.Path=Sa;l.ShapePath=oe;l.Font=pe;l.CurvePath=bb;l.Curve=C;l.ShapeUtils=$a;l.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new Fc,d=0,e=b.length;d<e;d++)c.add(new ra(a,b[d]));return c},detach:function(a,
b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){a.applyMatrix((new O).getInverse(c.matrixWorld));b.remove(a);c.add(a)}};l.WebGLUtils=af;l.WireframeGeometry=Tb;l.ParametricGeometry=Hc;l.ParametricBufferGeometry=Ub;l.TetrahedronGeometry=Jc;l.TetrahedronBufferGeometry=Vb;l.OctahedronGeometry=Kc;l.OctahedronBufferGeometry=ub;l.IcosahedronGeometry=Lc;l.IcosahedronBufferGeometry=Wb;l.DodecahedronGeometry=Mc;l.DodecahedronBufferGeometry=Xb;l.PolyhedronGeometry=Ic;l.PolyhedronBufferGeometry=
ja;l.TubeGeometry=Nc;l.TubeBufferGeometry=Yb;l.TorusKnotGeometry=Oc;l.TorusKnotBufferGeometry=Zb;l.TorusGeometry=Pc;l.TorusBufferGeometry=$b;l.TextGeometry=Uc;l.TextBufferGeometry=ac;l.SphereGeometry=Vc;l.SphereBufferGeometry=wb;l.RingGeometry=Wc;l.RingBufferGeometry=bc;l.PlaneGeometry=Ac;l.PlaneBufferGeometry=rb;l.LatheGeometry=Xc;l.LatheBufferGeometry=cc;l.ShapeGeometry=xb;l.ShapeBufferGeometry=yb;l.ExtrudeGeometry=ib;l.ExtrudeBufferGeometry=La;l.EdgesGeometry=dc;l.ConeGeometry=Yc;l.ConeBufferGeometry=
Zc;l.CylinderGeometry=zb;l.CylinderBufferGeometry=ab;l.CircleGeometry=$c;l.CircleBufferGeometry=ec;l.BoxGeometry=Mb;l.BoxBufferGeometry=qb;l.ShadowMaterial=fc;l.SpriteMaterial=hb;l.RawShaderMaterial=gc;l.ShaderMaterial=Fa;l.PointsMaterial=Ka;l.MeshPhysicalMaterial=Ab;l.MeshStandardMaterial=Ua;l.MeshPhongMaterial=Ma;l.MeshToonMaterial=Bb;l.MeshNormalMaterial=Cb;l.MeshLambertMaterial=Db;l.MeshDepthMaterial=eb;l.MeshDistanceMaterial=fb;l.MeshBasicMaterial=Aa;l.LineDashedMaterial=Eb;l.LineBasicMaterial=
W;l.Material=P;l.Float64BufferAttribute=zc;l.Float32BufferAttribute=B;l.Uint32BufferAttribute=pb;l.Int32BufferAttribute=yc;l.Uint16BufferAttribute=ob;l.Int16BufferAttribute=xc;l.Uint8ClampedBufferAttribute=wc;l.Uint8BufferAttribute=vc;l.Int8BufferAttribute=uc;l.BufferAttribute=M;l.ArcCurve=hc;l.CatmullRomCurve3=ca;l.CubicBezierCurve=Oa;l.CubicBezierCurve3=Va;l.EllipseCurve=Ba;l.LineCurve=ya;l.LineCurve3=Pa;l.QuadraticBezierCurve=Qa;l.QuadraticBezierCurve3=Wa;l.SplineCurve=Ra;l.REVISION="89";l.MOUSE=
{LEFT:0,MIDDLE:1,RIGHT:2};l.CullFaceNone=0;l.CullFaceBack=1;l.CullFaceFront=2;l.CullFaceFrontBack=3;l.FrontFaceDirectionCW=0;l.FrontFaceDirectionCCW=1;l.BasicShadowMap=0;l.PCFShadowMap=1;l.PCFSoftShadowMap=2;l.FrontSide=0;l.BackSide=1;l.DoubleSide=2;l.FlatShading=1;l.SmoothShading=2;l.NoColors=0;l.FaceColors=1;l.VertexColors=2;l.NoBlending=0;l.NormalBlending=1;l.AdditiveBlending=2;l.SubtractiveBlending=3;l.MultiplyBlending=4;l.CustomBlending=5;l.AddEquation=100;l.SubtractEquation=101;l.ReverseSubtractEquation=
102;l.MinEquation=103;l.MaxEquation=104;l.ZeroFactor=200;l.OneFactor=201;l.SrcColorFactor=202;l.OneMinusSrcColorFactor=203;l.SrcAlphaFactor=204;l.OneMinusSrcAlphaFactor=205;l.DstAlphaFactor=206;l.OneMinusDstAlphaFactor=207;l.DstColorFactor=208;l.OneMinusDstColorFactor=209;l.SrcAlphaSaturateFactor=210;l.NeverDepth=0;l.AlwaysDepth=1;l.LessDepth=2;l.LessEqualDepth=3;l.EqualDepth=4;l.GreaterEqualDepth=5;l.GreaterDepth=6;l.NotEqualDepth=7;l.MultiplyOperation=0;l.MixOperation=1;l.AddOperation=2;l.NoToneMapping=
0;l.LinearToneMapping=1;l.ReinhardToneMapping=2;l.Uncharted2ToneMapping=3;l.CineonToneMapping=4;l.UVMapping=300;l.CubeReflectionMapping=301;l.CubeRefractionMapping=302;l.EquirectangularReflectionMapping=303;l.EquirectangularRefractionMapping=304;l.SphericalReflectionMapping=305;l.CubeUVReflectionMapping=306;l.CubeUVRefractionMapping=307;l.RepeatWrapping=1E3;l.ClampToEdgeWrapping=1001;l.MirroredRepeatWrapping=1002;l.NearestFilter=1003;l.NearestMipMapNearestFilter=1004;l.NearestMipMapLinearFilter=1005;
l.LinearFilter=1006;l.LinearMipMapNearestFilter=1007;l.LinearMipMapLinearFilter=1008;l.UnsignedByteType=1009;l.ByteType=1010;l.ShortType=1011;l.UnsignedShortType=1012;l.IntType=1013;l.UnsignedIntType=1014;l.FloatType=1015;l.HalfFloatType=1016;l.UnsignedShort4444Type=1017;l.UnsignedShort5551Type=1018;l.UnsignedShort565Type=1019;l.UnsignedInt248Type=1020;l.AlphaFormat=1021;l.RGBFormat=1022;l.RGBAFormat=1023;l.LuminanceFormat=1024;l.LuminanceAlphaFormat=1025;l.RGBEFormat=1023;l.DepthFormat=1026;l.DepthStencilFormat=
1027;l.RGB_S3TC_DXT1_Format=2001;l.RGBA_S3TC_DXT1_Format=2002;l.RGBA_S3TC_DXT3_Format=2003;l.RGBA_S3TC_DXT5_Format=2004;l.RGB_PVRTC_4BPPV1_Format=2100;l.RGB_PVRTC_2BPPV1_Format=2101;l.RGBA_PVRTC_4BPPV1_Format=2102;l.RGBA_PVRTC_2BPPV1_Format=2103;l.RGB_ETC1_Format=2151;l.LoopOnce=2200;l.LoopRepeat=2201;l.LoopPingPong=2202;l.InterpolateDiscrete=2300;l.InterpolateLinear=2301;l.InterpolateSmooth=2302;l.ZeroCurvatureEnding=2400;l.ZeroSlopeEnding=2401;l.WrapAroundEnding=2402;l.TrianglesDrawMode=0;l.TriangleStripDrawMode=
1;l.TriangleFanDrawMode=2;l.LinearEncoding=3E3;l.sRGBEncoding=3001;l.GammaEncoding=3007;l.RGBEEncoding=3002;l.LogLuvEncoding=3003;l.RGBM7Encoding=3004;l.RGBM16Encoding=3005;l.RGBDEncoding=3006;l.BasicDepthPacking=3200;l.RGBADepthPacking=3201;l.CubeGeometry=Mb;l.Face4=function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Ya(a,b,c,e,f,g)};l.LineStrip=0;l.LinePieces=1;l.MeshFaceMaterial=function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");
return a};l.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};l.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Rb(a,b)};l.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Cc(a)};l.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");
return new Rb(a,b)};l.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Ka(a)};l.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Ka(a)};l.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Ka(a)};l.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");
return new p(a,b,c)};l.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new M(a,b)).setDynamic(!0)};l.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new uc(a,b)};l.Uint8Attribute=function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new vc(a,
b)};l.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new wc(a,b)};l.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new xc(a,b)};l.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new ob(a,b)};l.Int32Attribute=
function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new yc(a,b)};l.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new pb(a,b)};l.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new B(a,b)};l.Float64Attribute=function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");
return new zc(a,b)};l.ClosedSplineCurve3=vf;l.SplineCurve3=wf;l.Spline=De;l.AxisHelper=function(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new nd(a)};l.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Gb(a,b)};l.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new X(new dc(a.geometry),new W({color:void 0!==
b?b:16777215}))};l.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new X(new Tb(a.geometry),new W({color:void 0!==b?b:16777215}))};l.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Na(a)};l.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new ie(a)};l.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};l.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new Ad;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},
loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new je;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
l.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};l.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");
this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};Object.defineProperty(l,"__esModule",{value:!0})});
﻿//	MEIRO
//	General functions
//
//	Options:
//	 └─ options{}
//	
//	Interval arithmetic:
//	 ├─ random(min,max)
//	 │   └─ random.seed
//	 ├─ equal(a, b)
//	 ├─ delta(min,max)
//	 │   └─ deltaAbs(min,max)
//	 ├─ distSqr(from,to)
//	 ├─ middle(min,max)
//	 └─ inInterval(pos,min,max)
//	     ├─ inArea(pos,min,max)
//	     └─ areaInArea(min,max,min,max)
//
//	THREE.WebGLRenderer - modified prototype
//	 └─ fullWindow()
//
//	MEIRO.CornerButton(corner,onclick,text,icon) - creation of a button
//	 ├─ show()
//	 ├─ hide()
//	 ├─ setIcon(icon)
//	 ├─ setText(text)
//	 └─ setTextIcon(text,icon)
//
//	MEIRO.AnimationLoop(loop)
//	 ├─ TIMEOUT = 2000
//	 ├─ update()
//	 ├─ activate()
//	 └─ reanimate() -- standalone function
//
//	MEIRO.Statistics()
//	 ├─ show()
//	 ├─ hide()
//	 └─ update()
//
//	MEIRO.Model(room)
//	 ├─ onEnter()
//	 ├─ onExit()
//	 ├─ onInfo(element)
//	 └─ bindRoom(room)
//
//	MEIRO
//	 ├─ demoMode()
//	 └─ 
//
//	2017.08 - P. Boytchev

if (window.self == window.top)
{
	console.log('\n\n(\\/)\n( ..)\t\tU speaks JS\nc(”)(”)\t\tI can haz halp\n\n ');
}


if (typeof MEIRO == 'undefined') MEIRO = {};

MEIRO.VERSION = '0.21',
MEIRO.BACKGROUND_UI = 'whitesmoke'; // sort of light grey
MEIRO.BACKGROUND_COLOR = 'black'; // sort of light grey
MEIRO.WIDENESS = 0.2; // width of walls
MEIRO.THICKNESS = 0.2; // thickness of floor
MEIRO.RESOLUTION = 1; // 1=native, 2=twice smaller, n=n times smaller
MEIRO.STANDALONE_MODELS = true; // true=each model is a scene rendered after screen AO; false=model inside global scene
MEIRO.SESSION_KEY = {
	ROOM_OCCUPANCY: 'room-occupancy',
	
}
MEIRO.SHADER ={};

MEIRO.RAILING = {
	HEIGHT: 0.3,
	WIDTH: 0.05,
}

MEIRO.DEFAULT = MEIRO.DEFAULT || {};


buttonBlueprint = null;

//----------------------------------------------------------
// Collect options extracted from document's URL.
//		id		player id (eg. faculty number) - used as random.seed
//		pos		player position 'XxYxZ', Y is level, no default
//		size	dungeon size 'XxYxZ', default '20x3x15'
//		stairs	approximate number of stairs between two levels, default 5
//		back	encoded return address
//		lowpoly
//		notextures
//		debugtextures
//		noao
//		sao
//		modeloverlay
//		zoom	zoom factor (from 1/zoom to zoom)
//----------------------------------------------------------
MEIRO.parseOptions = function(intoObject)
{
	var match,
		pl = /\+/g, // Regex for replacing addition symbol with a space
		search = /([^&=]+)=?([^&]*)/g,
		decode = function (s) {
			return decodeURIComponent(s.replace(pl, " "));
		},
		query = window.location.search.substring(1);
	while (match = search.exec(query))
		intoObject[decode(match[1])] = decode(match[2]);
		
	return query;
}


MEIRO.Options = function()
{
	function paramInt(param,min,def,max)
	{
		var value = parseInt(param)||def;
		if (param=='0') value=0;
		return Math.max(Math.min(value,max),min);
	}
	function paramFloat(param,min,def,max)
	{
		var value = parseFloat(param)||def;
		if (param=='0') value=0;
		return Math.max(Math.min(value,max),min);
	}
	function paramFloatUnclamped(param,def)
	{
		var value = parseFloat(param)||def;
		if (param=='0') value=0;
		return value;
	}
	
	this.urlOptions = MEIRO.DEFAULT||{};
	this.urlString = MEIRO.parseOptions(this.urlOptions);
	
	// process size - dungeon size
	var s = (this.urlOptions.size||'').split('x');
	this.size = {
		x: paramInt(s[0],4,15,100),
		y: paramInt(s[1],1,3,30),
		z: paramInt(s[2],4,20,100)
	}
	
	// process stairs - desired number of stairs between two levels
	this.stairs = paramInt(this.urlOptions.stairs,0,5,200);

	// process pos - player's position
	if (this.urlOptions.pos)
	{
		var s = (this.urlOptions.pos||'').split('x');
		this.player = {
			x: paramFloat(s[0],0,0,this.size.x),
			y: paramFloat(s[1],0,0,2*this.size.y),
			z: paramFloat(s[2],0,0,this.size.z),
			rot: paramFloatUnclamped(s[3],0)
		};
	}

	// process split - room splitting
	var s = (this.urlOptions.split||'').split('x');
	this.split = {
		minRoom: paramInt(s[0],1,3,30),
		maxRoom: paramInt(s[1],1,8,100),
		extraDoors: paramFloat(s[2],0,0.1,1),
	}
	
	// process zoom factor
	this.zoom = paramFloat(this.urlOptions.zoom,1,1,10);

	// process id, if 0 pick a random id
	this.id = parseFloat(this.urlOptions.id)||random(0,100000);
	
	// textures
	switch (this.urlOptions.texture)
	{
		case 'no':
		case 'none':
		case 'false':
			this.noTextures = true;
			this.textures = false;
			this.debugTextures = false;
			break;
		case 'debug':
		case 'grid':
			this.noTextures = false;
			this.textures = true;
			this.debugTextures = true;
			break;
		case 'yes':
		case 'true':
		case 'default':
		default:
			this.noTextures = false;
			this.textures = true;
			this.debugTextures = false;
			break;
	}
	
	// ambient occlusion
	switch (this.urlOptions.ao)
	{
		case 'no':
		case 'none':
		case 'false':
			this.noAO = true;
			this.FSSAO = false;
			this.SAO = false;
			this.SSAO = false;
			this.NNAO = false;
			break;
		case 'sao':
			this.noAO = false;
			this.FSSAO = false;
			this.SAO = true;
			this.SSAO = false;
			this.NNAO = false;
			break;
		case 'ssao':
			this.noAO = false;
			this.FSSAO = false;
			this.SAO = false;
			this.SSAO = true;
			this.NNAO = false;
			break;
		case 'nnao':
			this.noAO = false;
			this.FSSAO = false;
			this.SAO = false;
			this.SSAO = false;
			this.NNAO = true;
			break;
		case 'yes':
		case 'true':
		case 'default':
		case 'fssao':
		default:
			this.noAO = false;
			this.FSSAO = true;
			this.SAO = false;
			this.SSAO = false;
			this.NNAO = false;
			break;
	}

	// auto positioning
	if ('autopos' in this.urlOptions)
		this.autoPos = this.urlOptions.autopos=='true';
	else
		this.autoPos = true;

	this.modelOverlay = ['yes','true'].indexOf(this.urlOptions.modeloverlay)>-1;
	//console.log(this.modelOverlay,this.urlOptions.modeloverlay);

	// polygon count
	this.lowpoly = ('lowpoly' in this.urlOptions);
	this.highpoly = !this.lowpoly;
	
	// process back URL (if any)
	this.backURL = this.urlOptions.back?decodeURIComponent(this.urlOptions.back):'';

	// models
	this.models = this.urlOptions.model || this.urlOptions.models || '';
	
	console.dir(this,{depth:null});
};


// generate vital URL parameters
MEIRO.Options.prototype.vitals = function()
{
	// if the navigation was first-person, use its position for player
	if (controls instanceof MEIRO.FirstPersonControls)
	{
		options.player = {};
		options.player.x = camera.position.x.toFixed(2);
		options.player.y = (camera.position.y-MEIRO.VIEW_HEIGHT).toFixed(2);
		options.player.z = camera.position.z.toFixed(2);
		
		var angle = controls.rot.x % (2*Math.PI);
		if (angle<0) angle += 2*Math.PI;
		options.player.rot = angle.toFixed(2);
	}
	
	var vitals = 'id='+this.id;
	vitals += '&size='+this.size.x+'x'+this.size.y+'x'+this.size.z;
	vitals += '&stairs='+this.stairs;
	if (this.player)
		vitals += '&pos='+this.player.x+'x'+this.player.y+'x'+this.player.z+'x'+this.player.rot;
	vitals += '&split='+this.split.minRoom+'x'+this.split.maxRoom+'x'+this.split.extraDoors;
	
	if (this.noTextures)
		vitals += '&texture=false';
	else if (this.debugTextures)
		vitals += '&texture=grid';
	else
		vitals += '&texture=true';

	if (this.noAO)
		vitals += '&ao=false';
	else if (this.SAO)
		vitals += '&ao=sao';
	else if (this.SSAO)
		vitals += '&ao=ssao';
	else if (this.NNAO)
		vitals += '&ao=nnao';
	else 
		vitals += '&ao=fssao';
		
	if (this.lowpoly)
		vitals += '&lowpoly';
		
	vitals += '&autopos=false';
		
	if (this.modelOverlay)
		vitals += '&modeloverlay=yes';
	else
		vitals += '&modeloverlay=no';
		
	if (this.models)
		vitals += '&models='+this.models;

	return vitals;
}


//----------------------------------------------------------
// Seedable integer random generator. Returns integer number
// from MIN to MAX, inclusive. The algorithm is adapted from
// indiegamr.com/generate-repeatable-random-numbers-in-js/
//
//		n = random(min,max);
//		random.seed = n;
//
// If MIN>MAX return MIN.
//----------------------------------------------------------
function random(min, max)
{
	if (min>max) return min;
	
	random.seed = (random.seed * 9301 + 49297) % 233280;
	var rnd = random.seed / 233280;
	
	return Math.round(min - 0.5 + rnd * (max - min + 1));;
}

random.seed = (new Date()).getMilliseconds(); // Initial random seed



//----------------------------------------------------------
// Check whether two numbers are equal or almost equal
//
//		tf = equal(a,b);
//----------------------------------------------------------
var EPS = 0.01;
function equal(a, b) {
	return Math.abs(a-b)<EPS;
}


function delta(min,max)
{
	return {x:max.x-min.x, z:max.z-min.z};
}


function area(min,max)
{
	return (max.x-min.x)*(max.z-min.z);
}


function deltaAbs(min,max)
{
	return {x:Math.abs(max.x-min.x), z:Math.abs(max.z-min.z)};
}


function distSqr(from,to)
{
	return (from.x-to.x)*(from.x-to.x)+(from.z-to.z)*(from.z-to.z);
}


function middle(min,max)
{
	return {x:(max.x+min.x)/2, z:(max.z+min.z)/2};
}


function inInterval(pos,min,max)
{
	return (min-EPS<pos && pos<max+EPS);
}


function inArea(pos,min,max)
{
	return inInterval(pos.x,min.x,max.x) && inInterval(pos.z,min.z,max.z);
}


function inAreaZone(pos,min,max,zone)
{
	return inInterval(pos.x,min.x-zone,max.x+zone) && inInterval(pos.z,min.z-zone,max.z+zone);
}


function areaInArea(posMin,posMax,min,max)
{
	return inArea(posMin,min,max) && inArea(posMax,min,max);
}

function minCrossAreas(min1,max1,min2,max2)
{
	return {x:Math.max(min1.x,min2.x),z:Math.max(min1.z,min2.z)};
}

function maxCrossAreas(min1,max1,min2,max2)
{
	return {x:Math.min(max1.x,max2.x),z:Math.min(max1.z,max2.z)};
}

function areaCrossArea(min1,max1,zone1,min2,max2)
{
	var min = {x:Math.max(min1.x-zone1,min2.x),z:Math.max(min1.z-zone1,min2.z)};
	var max = {x:Math.min(max1.x+zone1,max2.x),z:Math.min(max1.z+zone1,max2.z)};
	var size = delta(min,max);
	
	return (size.x>-EPS && size.z>-EPS);
}

// calculate level from Y coordinate of the player
function levelFromPos(y)
{
	//	(0)--(Eps)--------(1-Eps)--(1)
	//
	
	var level = y/MEIRO.STAIRS.HEIGHT;
	if ((level%1)>1-EPS)
	{	// upper level
		return Math.ceil(level);
	}
	else
	{	// lower level
		return Math.floor(level);
	}
}


//----------------------------------------------------------
// Initializes the Three.js renderer. Sets the canvas to
// fullwindow (not fullscreen!) mode. Sets renderer,
// perspective camera, scene.
//----------------------------------------------------------
THREE.WebGLRenderer.prototype.fullWindow = function () {
	this.setClearColor(MEIRO.BACKGROUND_COLOR);
	this.setSize(window.innerWidth/MEIRO.RESOLUTION, window.innerHeight/MEIRO.RESOLUTION);
	this.setPixelRatio( window.devicePixelRatio );
	this.domElement.style = 'width:100%; height:100%; position:fixed; top:0; left:0; z-index:-1;';
	document.body.appendChild(this.domElement);

	// the automatic resizer
	window.addEventListener('resize', onWindowResize, false);
}

// Handler of window resize events (e.g. a mobile device is
// flipped from portrait to landscape or vice versa)
function onWindowResize() {
	renderer.setSize(window.innerWidth/MEIRO.RESOLUTION, window.innerHeight/MEIRO.RESOLUTION);
	renderer.domElement.style = 'width:100%; height:100%; position:fixed; top:0; left:0; z-index:-1;';
	
	camera.aspect = window.innerWidth / window.innerHeight;
	camera.fov = 80/camera.aspect;
	camera.updateProjectionMatrix();

	if (ao.ScreenAO)
	{
		ao.ScreenAO.onWindowResize();
	}
	reanimate();
}

//----------------------------------------------------------
// Corner buttons - located at window corner, have an icon
// and a diagonal text. Equivalent to HTML code:
//		<div class="cornerButton" corner="..." onclick="...">
//			<div class="cornerIcon"></div>
//			<div class="cornerText">...</div>
//		</div>
//----------------------------------------------------------
MEIRO.CornerButton = function (corner, onclick, text, icon) {
	// create the button; triangular shape
	this.button = document.createElement('div');
	this.button.className = 'cornerButton';
	this.button.setAttribute('corner', corner);
	this.button.onclick = onclick;

	// create the icon
	this.icon = document.createElement('img');
	this.icon.className = 'cornerIcon';
	this.icon.src = icon;

	// create the sloped text
	this.text = document.createElement('div');
	this.text.className = 'cornerText';
	this.text.style.backgroundColor = MEIRO.BACKGROUND_UI;
	this.text.innerHTML = text;

	// add button subelements to the button
	this.button.appendChild(this.icon);
	this.button.appendChild(this.text);

	// add the button to DOM
	document.body.appendChild(this.button);
}

// Method for showing a corner button
MEIRO.CornerButton.prototype.show = function () {
	this.button.style.display = 'block';
}

// Method for hiding a corner button
MEIRO.CornerButton.prototype.hide = function () {
	this.button.style.display = 'none';
}

// Method for changing the corner button's icon
MEIRO.CornerButton.prototype.setIcon = function (icon) {
	this.icon.src = icon;
}

// Method for changing the corner button's text
MEIRO.CornerButton.prototype.setText = function (text) {
	this.text.innerHTML = text;
}

// Method for changing the corner button's text and icon
MEIRO.CornerButton.prototype.setTextIcon = function (text,icon) {
	this.setIcon(icon);
	this.setText(text);
}


//----------------------------------------------------------
// The animaiton looper reduces power comsumption by skipping
// some of the rendering loops. Namely, after some time of
// inactivity the rendering loop is stopped. It is resumed
// if a new activity happens. Activity means firing any
// mouse, touch or key event.
//----------------------------------------------------------

MEIRO.AnimationLoop = function (loop,stats) {
	this.loop = loop;
	this.time = 0;
	this.request = 0;
	this.activate();
	if (stats) this.stats = new MEIRO.Statistics();
}

// 2 seconds timeout before canceling rendering loop
MEIRO.AnimationLoop.TIMEOUT = 2000; // in ms (1s = 1000ms)
//MEIRO.AnimationLoop.TIMEOUT = 10; // in ms (1s = 1000ms)

MEIRO.AnimationLoop.prototype.update = function () {
	this.request = 0;
	var time = (performance || Date).now();
	if (time - this.time <= MEIRO.AnimationLoop.TIMEOUT) { // requesting another frame if the last
		// user activity was less than some ago
		this.request = requestAnimationFrame(this.loop);
		if (controls.room && controls.room.onAnimate)
			controls.room.onAnimate(time);
	} else { // otherwise do not request another frame
		if (this.stats) this.stats.hide();
	}
	if (this.stats) this.stats.update();
}

MEIRO.AnimationLoop.prototype.activate = function () {
	this.time = (performance || Date).now();
	if (!this.request) {
		this.request = requestAnimationFrame(this.loop);
	}
}

//----------------------------------------------------------
// Optional functionality. Adds statistics bar at the top of
// the window.
//----------------------------------------------------------
MEIRO.Statistics = function () {
	this.element = document.createElement('div');
	this.element.className = 'statistics';
	this.element.style.backgroundColor = MEIRO.BACKGROUND_UI;
	document.body.appendChild(this.element);

	this.time = (performance || Date).now();
	this.frames = 0;
	this.visible = true;
	this.fps = 0;
}

MEIRO.Statistics.prototype.update = function () {
	this.frames++;
	var time = (performance || Date).now();
	var dTime = time - this.time;
	if (dTime >= 500) {
		this.show();
		this.fps = (this.frames / dTime * 1000);
		var txt = 'FPS ' + this.fps.toFixed(0);
		if (performance && performance.memory)
			txt += ' &middot; ' + (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(0) + ' MB';
		this.element.innerHTML = txt;
		this.frames = 0;
		this.time = time;
	}
}

MEIRO.Statistics.prototype.show = function () {
	if (this.visible)
		return;
	this.element.style.display = 'block';
	this.visible = true;
}

MEIRO.Statistics.prototype.hide = function () {
	if (!this.visible)
		return;
	this.element.style.display = 'none';
	this.visible = !true;
}


// general Model class
MEIRO.Model = function(room,model)
{
	this.image = new THREE.Scene();

	if (model)
	{	// get class name
		// http://stackoverflow.com/questions/332422/how-do-i-get-the-name-of-an-objects-type-in-javascript
		var funcNameRegex = /function\s([^(]{1,})\(/;
		var results = (funcNameRegex).exec(model.toString());
		this.modelName = (results && results.length > 1) ? results[1].trim() : "";
	}
	
	this.MIN_DIST = MEIRO.Models[this.modelName].DIST.MIN;
	this.MAX_DIST = MEIRO.Models[this.modelName].DIST.MAX;
	this.HEIGHT = MEIRO.Models[this.modelName].DIST.HEIGHT;
	this.SHIFT_X = MEIRO.Models[this.modelName].DIST.SHIFT_X||0;
	this.SHIFT_Z = MEIRO.Models[this.modelName].DIST.SHIFT_Z||0;
	this.MIN_ROT_Y = MEIRO.Models[this.modelName].ROT_Y.MIN;
	this.MAX_ROT_Y = MEIRO.Models[this.modelName].ROT_Y.MAX;
	this.POS_DIST = MEIRO.Models[this.modelName].POS.DIST;
	this.POS_ROT_X = MEIRO.Models[this.modelName].POS.ROT_X;
	this.POS_ROT_Y = MEIRO.Models[this.modelName].POS.ROT_Y;

	if (room) this.bindRoom(room);
	//this.image.visible = false;
}


// onEnter event handle - entering the room shows the model
MEIRO.Model.prototype.onEnter = function()
{
	console.log('Enter model',this.modelName);
	//this.image.visible = true;
	
	// show all buttons
	for (var r in this)
		if (this[r] instanceof MEIRO.CornerButton)
		{
			this[r].show();
		}
}


// onExit event handle - exiting the room hides the model
MEIRO.Model.prototype.onExit = function()
{
	console.log('Exit model',this.modelName);
	//this.image.visible = false;
	
	// hide all buttons
	for (var r in this)
		if (this[r] instanceof MEIRO.CornerButton)
			this[r].hide();
}


MEIRO.Model.prototype.onInfo = function(element)
{
	var s = '';
	s += '<h1>Инфо</h1>';
	s += '<p>Намираш се на етаж №'+this.room.level.levelIndex+', стая №'+this.room.index+'</p>';
	s += '<p>Кликни тук, за да се върнеш обратно.</p>';
	
	element.innerHTML = s;
}


MEIRO.Model.prototype.bindRoom = function(room)
{
	room.model = this;
	this.room = room;
	
	// set event handlers on room entry/exit and on model animation
	//room.onEnter = function(){this.model.onEnter();}
	//room.onExit = function(){this.model.onExit()}
	room.onInfo = function(element){this.model.onInfo(element);}
	room.onAnimate = function(time){
		this.model.animateDefaultLight();
		this.model.onAnimate(time);
	}

	// place the model in the center of the room
	this.mid = middle(room.min,room.max);
	size = delta(room.min,room.max);
	size = Math.min(size.x,size.z);
	//this.scale = Math.min(1/10 * (size-MEIRO.WIDENESS-EPS)/(2*this.MAX_DIST), 1/10);
	this.scale = (size-MEIRO.WIDENESS-EPS)/(2*this.MAX_DIST);
	
	//var mesh = new THREE.Mesh( MEIRO.PRIMITIVE.GEOMETRY.ISOSPHERE, MEIRO.PRIMITIVE.STYLE.WIREFRAME_GRID);
	//mesh.scale.set(this.MAX_DIST,this.MAX_DIST,this.MAX_DIST);
	//this.image.add(mesh);
	//var mesh = new THREE.Mesh( MEIRO.PRIMITIVE.GEOMETRY.ISOSPHERE, MEIRO.PRIMITIVE.STYLE.WIREFRAME_GRID);
	//mesh.scale.set(this.MIN_DIST,this.MIN_DIST,this.MIN_DIST);
	//this.image.add(mesh);
	
	this.image.position.set(this.mid.x+this.SHIFT_X*this.scale,room.level.levelIndex*MEIRO.STAIRS.HEIGHT+MEIRO.VIEW_HEIGHT+this.HEIGHT*this.scale,this.mid.z+this.SHIFT_Z*this.scale);
	this.image.scale.set(this.scale,this.scale,this.scale);
	this.addDefaultLight();
}


MEIRO.Model.prototype.addDefaultLight = function()
{
	// add default light
	this.defaultTarget = new THREE.Object3D();
	this.defaultLight = new THREE.DirectionalLight('white',3/3);
	this.defaultLight.position.set(1,0,0);
	this.defaultLight.target = this.target;
	this.image.add(this.defaultTarget, this.defaultLight);
}


MEIRO.Model.prototype.animateDefaultLight = function()
{
	if (controls.freeWalk)
		this.defaultLight.position.set(-Math.cos(controls.rot.x),-Math.sin(controls.rot.y),-Math.sin(controls.rot.x));
	else
		this.defaultLight.position.set(Math.cos(controls.rot.x),Math.sin(controls.rot.y),Math.sin(controls.rot.x));
	this.defaultLight.target = this.defaultTarget;
}

MEIRO.Models = {};

// suggest estimated dungeon size with given number of floors, stairs and empty rooms
MEIRO.estimateSize = function(rooms,floors,stairs,size)
{
	// if:
	//		dungeon size=(X,Y,Z)  (Y-number of levels, assuming level height is 1)
	//		size = room size
	// then:
	// 		rooms = Y*Ceil(X/size)*Ceil(Z/size)-2*(Y-1)*stairs

	// remove rooms ocupied by stairs
	rooms = rooms + 2*(floors-1)*stairs;
	// now we have: Y*Ceil(X/size)*Ceil(Z/size) = rooms+2*(Y-1)*stairs
	
	// adjust for the number of floors
	rooms = rooms / floors;
	// now we have: Ceil(X/size)*Ceil(Z/size) = (rooms+2*(Y-1)*stairs)/Y
	
	// assume ratio X/Z=golden=1.618 (approx)
	// if Ceil(X/size)=cx and Ceil(Z/size)=cz
	// we have cx*cz = 1.618*cz*cz
	var k = 1.518+0.2*Math.random();
	var cz = Math.sqrt(rooms/1.618); 
	var z = Math.floor(cz*size);
	var x = Math.floor(cz*size*1.618);
	
	//console.log('calc size=',x+'x'+floors+'x'+z);
	//console.log('requested rooms',rooms);
	//console.log('provided rooms',floors*Math.ceil(x/size)*Math.ceil(z/size)-2*(floors-1)*stairs);
	return x+'x'+floors+'x'+z;
}


MEIRO.getListOfModels = function(onCompleted)
{
	var options = {};
	MEIRO.parseOptions(options);
	var models = (options.models||options.model||'').split(',');
	for (var m in models)
		if (models[m])
			addScript('lib/models/'+models[m]+'.js');
			
	var waitTime = 50;
	var maxAttempts = 3000/waitTime;
	var interval = setInterval(function(){
		//console.log('Pending scripts',addScript.pendingScripts);
		maxAttempts--;
		if (!addScript.pendingScripts || maxAttempts<0)
		{
			if (maxAttempts<0) console.error('Not all model scripts loaded. Pending scripts',addScript.pendingScripts);
			clearInterval(interval);
			onCompleted();
		}
	},waitTime);
}


MEIRO.demoMode = function()
{
	MEIRO.getListOfModels(MEIRO._demoMode);
}

MEIRO._demoMode = function()
{
	var modelsNames = Object.keys(MEIRO.Models);
	
	if (modelsNames.length<2)
	{
		MEIRO.DEFAULT = {
				size: '6x1x6',
				stairs: '0',
				split: '6x6x0',
				texture: 'false',
				ao: 'no',
				modeloverlay: 'yes',
				pos: '1x0x1x0.2'
		};
		MEIRO.BACKGROUND_COLOR = 'white';
	}
	else
		MEIRO.DEFAULT = {
				size: MEIRO.estimateSize(modelsNames.length,Math.round(modelsNames.length/10),0,6),
				stairs: '5',
				split: '2x6x0.2',
				texture: 'true',
				ao: 'fssao',
				modeloverlay: 'yes',
				pos: '1x0x1x0.2'
		};
	
	//console.log('default size',MEIRO.DEFAULT.size);

	options = new MEIRO.Options();
	MEIRO.initDungeonRoom();
	MEIRO.initPrimitives();
	
	// initialize the rendering canvas
	renderer = new THREE.WebGLRenderer({antialias:true, preserveDrawingBuffer:true});
	renderer.fullWindow();

	// setup scene and perspective camera
	scene = new THREE.Scene();
	scene.fog=new THREE.FogExp2( 'black', options.noAO?0.10:0.07 );
	
	var aspect = window.innerWidth / window.innerHeight;
	camera = new THREE.PerspectiveCamera(80/aspect, aspect, 0.02, 20);

	// managing the animation loop (& save battery & show statistics)
	animationLoop = new MEIRO.AnimationLoop(MEIRO.defaultLoop,true); 

	// create the dungeon
	dungeon = new MEIRO.Dungeon( {x:options.maxX,y:options.maxY,z:options.maxZ},options.stairs );
	{
		console.time('Image');
		dungeon.image = new THREE.Object3D();
		if (modelsNames.length>1 || !options.noAO)
		{
			dungeon.imageFloor();
			dungeon.imageWalls();
			dungeon.imageStairs();
			scene.add(dungeon.image);
		}
		console.timeEnd('Image');
	}
	
	// button for help info
	var buttonInfo = new MEIRO.CornerButton('bottomRight', MEIRO.showInfo, 'ИНФО', 'images/help.info.min.png');
	
	// put the view point in the dungeon
	controls = new MEIRO.FirstPersonControls(dungeon,(modelsNames.length>1)/*button*/);
	if (controls.room.model)
		controls.startOrbitWalk();
	else
		controls.startFreeWalk();
		
	ao = new MEIRO.AO();
	
	// buttons for blueprint map if there is more than one room
	if (dungeon.levels[0].rooms.length>1)
	{
		buttonBlueprint = new MEIRO.CornerButton('topRight', function(){MEIRO.goBlueprint('model.html');}, 'КАРТА', 'images/blueprint.map.min.png');
		//buttonBlueprint.icon.style.fontFamily = 'Webdings';	
	}
	
	// allocates models in empty rooms
	var roomOccupancy = {};
	var rooms = dungeon.roomsBySize(true);
	for (var m=0; m<modelsNames.length; m++)
	{
		var modelName = modelsNames[m];
		var model = MEIRO.Models[modelName];
		var room = rooms[m].room;
		if (!roomOccupancy[rooms[m].levelNo]) roomOccupancy[rooms[m].levelNo]={};
		roomOccupancy[rooms[m].levelNo][rooms[m].roomNo]=modelName;
		new model(room,model);
	}
	
	// add models marks on the floors
	//dungeon.imageModelsMarks();

	//console.log(MEIRO.SESSION_KEY.ROOM_OCCUPANCY,JSON.stringify(roomOccupancy));
	sessionStorage.setItem(MEIRO.SESSION_KEY.ROOM_OCCUPANCY,JSON.stringify(roomOccupancy));
	
	controls.startWalk(controls.inTheRoom && controls.room.model && options.autoPos,options.autoPos);
}



MEIRO.goBlueprint = function(backURL)
{
	window.location.href = 'blueprint.html?'+options.vitals()+'&back='+encodeURIComponent(backURL||'play.html');
}


MEIRO.showInfo = function()
{
	if (controls.room.onInfo) controls.room.onInfo(document.getElementById('infoPanel'));
	
	window.addEventListener( 'keydown', MEIRO.hideInfo, false );
	document.body.style.backgroundColor = 'DimGray';
	
	var elems = document.getElementsByTagName('canvas');
	for (var i=0; i<elems.length; i++)
	{
		elems[i].className += ' blured';
		elems[i].style.pointerEvents = 'none';
	}
	
	var elems = document.getElementsByClassName('cornerButton');
	for (var i=0; i<elems.length; i++)
	{
		elems[i].className += ' blured';
		elems[i].style.pointerEvents = 'none';
	}
	
					
	document.getElementById('infoPanel').style.display = 'block';
}


MEIRO.hideInfo = function()
{
	window.removeEventListener( 'keydown', MEIRO.hideInfo );
	document.body.style.backgroundColor = 'DimGray';
	
	var elems = document.getElementsByTagName('canvas');
	for (var i=0; i<elems.length; i++)
	{
		elems[i].classList.remove('blured');
		elems[i].style.pointerEvents = 'auto';
	}
	
	var elems = document.getElementsByClassName('cornerButton');
	for (var i=0; i<elems.length; i++)
	{
		elems[i].classList.remove('blured');
		elems[i].style.pointerEvents = 'auto';
	}
	
	document.getElementById('infoPanel').style.display = 'none';
}


MEIRO.defaultLoop = function()
{
	//TWEEN.update();
	controls.update();
	animationLoop.update();
	
	ao.render(scene, camera);
}

			
function reanimate() {
	animationLoop.activate();
}



function addScript( src )
{
	console.log('Loading',src);
	addScript.pendingScripts++;
	//console.log('Pending scripts',addScript.pendingScripts);
	var s = document.createElement( 'script' );
	s.setAttribute( 'src', src );
	s.onload = function(){
		addScript.pendingScripts--;
		//console.log('Pending scripts',addScript.pendingScripts);
	};
	document.head.appendChild( s );
}
addScript.pendingScripts = 0;


function rpm(time,rotPerMin)
{
	var unit = 2*Math.PI/60/1000; // one revolution per minute
	return unit*time*rotPerMin;
}
//	MEIRO
//	Key/mouse/touch navigation
//
//	MEIRO.Interaction()
//	 ├─ keyLeft()
//	 ├─ keyRight()
//	 ├─ keyUp()
//	 ├─ keyDown()
//	 ├─ keyPageUp()
//	 ├─ keyPageDown()
//	 ├─ keyAny()
//	 ├─ mouse()
//	 ├─ mouseX()
//	 ├─ mouseY()
//	 ├─ mouseRelative()
//	 ├─ mouseFirst()
//	 ├─ mouseSecond()
//	 ├─ touchCenter()
//	 ├─ touchOne()
//	 └─ touchTwo()
//
//	MEIRO.OrbitControls()
//	 └─ update()
//
//	MEIRO.FirstPersonControls(dungeon,addButton)
//	 └─ update()
//
//	2017.04 - P. Boytchev

MEIRO.VIEW_HEIGHT = 0.5; // height above the ground
MEIRO.DEBUG_EVENTS = !true;

// Manages keyboard, mouse and touch
MEIRO.HumanInteraction = function()
{
	var that = this;

	this.key = {
		MOUSEFIRST: 0,
		MOUSEMIDDLE: 1,
		MOUSESECOND: 2,
		TOUCHONE: -1,
		TOUCHTWO: -2,
		
		LEFT: 37,
		UP: 38,
		RIGHT: 39,
		DOWN: 40,
		PAGEUP: 33,
		PAGEDOWN: 34,
		SPACE: 32,
	}
	
	this.keyMap = {
		100: this.key.LEFT, // NumPad-4
		102: this.key.RIGHT, // NumPad-6
		104: this.key.UP, // NumPad-8
		 98: this.key.DOWN, // NumPad-2
		105: this.key.PAGEUP, // NumPad-9
		 99: this.key.PAGEDOWN, // NumPad-3
		 65: this.key.LEFT, // A
		 68: this.key.RIGHT, // D
		 87: this.key.UP, // W
		 83: this.key.DOWN, // S
		 81: this.key.PAGEUP, // Q
		 69: this.key.PAGEDOWN, // E
	}

	// array of pressed/released keys and mouse buttons
	this.keys = [];
	this.keyHandlers = [];
	
	this.mouseDelta = new THREE.Vector2(0,0);
	this.touchDelta = 0;
	
	this.mousePos = new THREE.Vector2(0,0);
	this.touchCen = new THREE.Vector2(0,0);
	var touchDist = 0;
	this.touchTime = 0;
	
	this.signalMouseTouchDown = false;
	this.signalMouseTouchUp = false;

	// hide the right-click context menu
	function onContextMenu(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onContextMenu');//,event);
		if (reanimate) reanimate();
		event.preventDefault();
	}
	
	function onKeyDown(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onKeyDown');//,event);
		if (reanimate) reanimate(event);
		//event.preventDefault();
		
		//console.log(event.keyCode);
		that.anyKey++;
		var key = event.keyCode;
		key = that.keyMap[key] || key;
		that.keys[key] = true;
	}
	
	function onKeyUp(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onKeyUp');//,event);
		if (reanimate) reanimate(event);
		//event.preventDefault();

		that.anyKey--;
		var key = event.keyCode;
		key = that.keyMap[key] || key;
		that.keys[key] = false;
		
		if (that.keyHandlers[key])
			that.keyHandlers[key](event);
	}
	
	function onMouseDown(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onMouseDown');//,event);
		if (reanimate) reanimate(event);
		event.preventDefault();
		
		that.keys[event.button] = true;
		
		that.mousePos.set(event.clientX,event.clientY);
		that.signalMouseTouchDown = event.button==that.key.MOUSEFIRST;
		that.signalMouseTouchUp = false;
	}
	
	function onMouseUp(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onMouseUp');//,event);
		if (reanimate) reanimate(event);
		event.preventDefault();
		
		if (that.keys[that.key.MOUSEFIRST] && that.keys[that.key.MOUSESECOND])
			that.touchTime = animationLoop.time;
			
		that.keys[event.button] = false;
		
		that.mousePos.set(event.clientX,event.clientY);
		that.mouseDelta.set(0,0);
		that.signalMouseTouchDown = false;
		that.signalMouseTouchUp = event.button==that.key.MOUSEFIRST;
	}
	
	function onMouseMove(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onMouseMove');//,event);
		if (reanimate) reanimate(event);
		event.preventDefault();

		that.mouseDelta.x += event.clientX-that.mousePos.x;
		that.mouseDelta.y += event.clientY-that.mousePos.y;
		
		that.mousePos.set(event.clientX,event.clientY);
		that.signalMouseTouchMove = true;
	}
	
	function onTouchStart(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onTouchStart');//,event);
		if (reanimate) reanimate(event);
		event.preventDefault();
		
		that.keys[that.key.TOUCHONE] = event.touches.length==1;
		that.keys[that.key.TOUCHTWO] = event.touches.length==2;
		
		that.mousePos.set(event.touches[0].clientX,event.touches[0].clientY);

		if (event.touches.length==2)
		{
			var dX = event.touches[1].clientX-event.touches[0].clientX;
			var dY = event.touches[1].clientY-event.touches[0].clientY;
			touchDist = Math.sqrt(dX*dX+dY*dY);
			that.touchDelta = 0;
			that.touchCen.set( (event.touches[1].clientX+event.touches[0].clientX)/2, (event.touches[1].clientY+event.touches[0].clientY)/2);
			that.touchTime = animationLoop.time;
		}
		that.signalMouseTouchDown = event.touches.length==1;
		that.signalMouseTouchUp = false;
	}
	
	function onTouchEnd(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onTouchEnd');//,event);
		if (reanimate) reanimate(event);
		event.preventDefault();
		
		that.keys[that.key.TOUCHONE] = event.touches.length==1;
		that.keys[that.key.TOUCHTWO] = event.touches.length==2;
		that.signalMouseTouchDown = false;
		that.signalMouseTouchUp = true;
	}
	
	function onTouchMove(event)
	{
		if (MEIRO.DEBUG_EVENTS) console.log('onTouchMove');//,event);
		if (reanimate) reanimate(event);		
		event.preventDefault();

		that.keys[that.key.TOUCHONE] = (event.touches.length==1) && (animationLoop.time>that.touchTime+100);
		that.keys[that.key.TOUCHTWO] = event.touches.length==2;

		if (that.keys[that.key.TOUCHONE])
		{
			that.mouseDelta.x += event.touches[0].clientX-that.mousePos.x;
			that.mouseDelta.y += event.touches[0].clientY-that.mousePos.y;
		}
		
		that.mousePos.set(event.touches[0].clientX,event.touches[0].clientY);
		
		if (that.keys[that.key.TOUCHTWO])
		{
			var dX = event.touches[1].clientX-event.touches[0].clientX;
			var dY = event.touches[1].clientY-event.touches[0].clientY;
			var newDist = Math.sqrt(dX*dX+dY*dY);
			that.touchDelta += touchDist-newDist;
			that.touchCen.set( (event.touches[1].clientX+event.touches[0].clientX)/2, (event.touches[1].clientY+event.touches[0].clientY)/2);
			touchDist = newDist;
			that.touchTime = animationLoop.time;
			that.mouseDelta.set(0,0);
		}
		that.signalMouseTouchMove = event.touches.length==1;
	}
	
	var canvas = renderer.domElement;
	canvas.addEventListener( 'contextmenu', onContextMenu, false );
	canvas.addEventListener( 'mousedown', onMouseDown, false );
	canvas.addEventListener( 'mouseup', onMouseUp, false );
	canvas.addEventListener( 'mousemove', onMouseMove, false );
	canvas.addEventListener( 'touchstart', onTouchStart, false );
	canvas.addEventListener( 'touchend', onTouchEnd, false );
	canvas.addEventListener( 'touchmove', onTouchMove, false );
	window.addEventListener( 'keydown', onKeyDown, false );
	window.addEventListener( 'keyup', onKeyUp, false );
}

MEIRO.HumanInteraction.prototype.keyLeft = function()
{
	return this.keys[this.key.LEFT] && !this.keys[this.key.RIGHT];
}

MEIRO.HumanInteraction.prototype.keyRight = function()
{
	return !this.keys[this.key.LEFT] && this.keys[this.key.RIGHT];
}

MEIRO.HumanInteraction.prototype.keyUp = function()
{
	return !this.keys[this.key.DOWN] && this.keys[this.key.UP];
}

MEIRO.HumanInteraction.prototype.keyDown = function()
{
	return this.keys[this.key.DOWN] && !this.keys[this.key.UP];
}

MEIRO.HumanInteraction.prototype.keyPageUp = function()
{
	return this.keys[this.key.PAGEUP] && !this.keys[this.key.PAGEDOWN];
}

MEIRO.HumanInteraction.prototype.keyPageDown = function()
{
	return !this.keys[this.key.PAGEUP] && this.keys[this.key.PAGEDOWN];
}

MEIRO.HumanInteraction.prototype.keyAny = function()
{
	return this.keys[this.key.PAGEUP] ||
			this.keys[this.key.PAGEDOWN] ||
			this.keys[this.key.DOWN] || 
			this.keys[this.key.UP] ||
			this.keys[this.key.LEFT] ||
			this.keys[this.key.RIGHT];
}

MEIRO.HumanInteraction.prototype.mouseX = function()
{
	var x = this.mouseDelta.x;
	this.mouseDelta.x = 0;
	return x;
}

MEIRO.HumanInteraction.prototype.mouseY = function()
{
	var y = this.mouseDelta.y;
	this.mouseDelta.y = 0;
	return y;
}

MEIRO.HumanInteraction.prototype.mouse = function()
{
	return new THREE.Vector2(this.mouseX(),this.mouseY());
}

MEIRO.HumanInteraction.prototype.mouseRelative = function()
{
	var size = renderer.getSize();
	return new THREE.Vector2(this.mousePos.x/size.width*2-1,1-2*this.mousePos.y/size.height);
}

MEIRO.HumanInteraction.prototype.touch = function()
{
	var t = this.touchDelta;
	this.touchDelta = 0;
	return t;
}

MEIRO.HumanInteraction.prototype.touchCenter = function()
{
	var size = renderer.getSize();
	return new THREE.Vector2(this.touchCen.x/size.width*2-1,1-2*this.touchCen.y/size.height);
}

MEIRO.HumanInteraction.prototype.mouseFirst = function()
{
	return this.keys[this.key.MOUSEFIRST] && (animationLoop.time>this.touchTime+100);
}

MEIRO.HumanInteraction.prototype.mouseSecond = function()
{
	return this.keys[this.key.MOUSESECOND] && (animationLoop.time>this.touchTime+100);
}

MEIRO.HumanInteraction.prototype.touchOne = function()
{
	return this.keys[this.key.TOUCHONE];
}

MEIRO.HumanInteraction.prototype.touchTwo = function()
{
	return this.keys[this.key.TOUCHTWO];
}



// Class for spherical orbiting navigation
MEIRO.OrbitControls = function()
{
	var that = this;
	this.human = new MEIRO.HumanInteraction();

	// orbiting distance
	this.dist = THREE.Math.clamp(1.75*Math.max(options.size.x,options.size.z)||30,10,150);
	this.distDelta = 0;
	this.distTarget = this.dist;
	this.distMin = THREE.Math.clamp(this.dist/options.zoom,10,150);
	this.distMax = THREE.Math.clamp(this.dist*options.zoom,10,150);
	
	// orbiting position (angles)
	this.rot = new THREE.Vector2(0,0);
	this.rotDelta = new THREE.Vector2(0,0);//0.05,0.1);
	this.rotTarget = new THREE.Vector2(0,0.5);

	this.startUp = true;
	
	if (options.player)
	{
		this.rot.x = Math.PI+options.player.rot+0.2;
		this.rotTarget.x = Math.PI+options.player.rot;
	}
	
	camera.target = new THREE.Vector3(0,0,0);
	
	this.update();
}

MEIRO.OrbitControls.prototype.update = function()
{
	var fps = THREE.Math.clamp(animationLoop.stats.fps,20,60);

	// rotate left-right with keys
	if (this.human.keyLeft()) {this.rotDelta.x = -5/fps; this.startUp = false;}
	if (this.human.keyRight()) {this.rotDelta.x = +5/fps; this.startUp = false;}

	// rotate up-down with keys
	if (this.human.keyUp()) {this.rotDelta.y = -3/fps; this.startUp = false;}
	if (this.human.keyDown()) {this.rotDelta.y = +3/fps; this.startUp = false;}

	// zoom in-out with keys
	if (this.human.keyPageUp()) {this.distDelta = -6/fps; this.startUp = false;}
	if (this.human.keyPageDown()) {this.distDelta = +6/fps; this.startUp = false;}

	var mouseMove = this.human.mouse();
	var touchDist = this.human.touch();

	// rotate left-right-up-down with mouse
	if (this.human.mouseFirst())
	{
		this.rotDelta.add(mouseMove.divideScalar(15*fps));
		this.startUp = false;
	}
	
	// zoom in-out with mouse
	if (this.human.mouseSecond())
	{
		this.distDelta = mouseMove.y/(1.75*fps);
		this.startUp = false;
	}	
	
	// rotate left-right-up-down with one finger
	if (this.human.touchOne())
	{
		this.rotDelta.add(mouseMove.divideScalar(6*fps));
		this.startUp = false;
	}	

	// zoom in-out with two fingers
	if (this.human.touchTwo())
	{
		this.distDelta = touchDist/(1*fps);
		this.startUp = false;
	}	
	
	if (this.startUp)
	{
		this.rot.lerp( this.rotTarget,0.1 );
	}
	else
	{
		this.rotTarget.copy( this.rot );
		this.rotTarget.add( this.rotDelta );
		this.rotTarget.y = THREE.Math.clamp(this.rotTarget.y,-Math.PI/2+EPS,Math.PI/2-EPS);
		this.rot.lerp( this.rotTarget,0.5 );
	}
	
	this.rotDelta.divideScalar(1.15);

	this.distTarget *= Math.pow(1.3,this.distDelta);
	this.distTarget = THREE.Math.clamp(this.distTarget,this.distMin,this.distMax);
	this.dist = THREE.Math.lerp(this.dist,this.distTarget,0.5);
	this.distDelta /= 1.15;
	
	var x = this.dist*Math.cos(this.rot.x)*Math.cos(this.rot.y);
	var y = this.dist*Math.sin(this.rot.y);
	var z = this.dist*Math.sin(this.rot.x)*Math.cos(this.rot.y);

	camera.position.set(x,y,z);
	camera.position.add(camera.target);
	camera.lookAt(camera.target);	
}


// Class for first-person navigation
MEIRO.FirstPersonControls = function(dungeon,addButton)
{
	var that = this;
	this.human = new MEIRO.HumanInteraction();
	this.freeWalk = true;
	this.dragObject = undefined;
	
	this.TARGET_SMOOTH = 1;
	
	// person looking direction (angles)
	this.rot = new THREE.Vector2(0,0);
	this.rotDelta = new THREE.Vector2(0,0);
	this.rotTarget = new THREE.Vector2(0,0);

	this.userCamera = false;
	this.userUp = null;
	this.userTarget = null;
	this.userPosition = null;
	this.userLERP = null;
	
	// speed of moving forward/backward
	this.speed = 0;
	
	this.dungeon = dungeon;
	
	if (options.player)
	{
		camera.position.set(options.player.x,options.player.y+MEIRO.VIEW_HEIGHT,options.player.z);
		this.rot.x = options.player.rot;
		this.rotTarget.x = options.player.rot;
		this.level = dungeon.levels[levelFromPos(options.player.y)];
	}
	else
	{
		camera.position.set(0.5,MEIRO.VIEW_HEIGHT,0.5);
		this.rot.x = Math.PI/4;
		this.rotTarget.x = Math.PI/4;
		this.level = dungeon.levels[0];
	}
	camera.target = new THREE.Vector3(0,0,0);

	this.room = this.level.findRoom(camera.position);
	this.room.show();
	if (this.room.onEnter) this.room.onEnter();
	

	this.tilt = 0;
	this.h = 0; // h=[0..1] when on stairs
	
	if (options.player)
	{
		if (Math.abs(options.player.y-Math.round(options.player.y))<EPS)
		{	// position is at room floor
			this.inTheRoom = true;
			this.stairs = null;
		}
		else
		{	// position is on stairs
			this.inTheRoom = false;
			this.stairs = this.level.upperLevel.findStairs(camera.position);
			var slope = this.stairs.slope;
			var t = camera.position[slope.axis];
			this.h = (t-slope.min)/(slope.max-slope.min);
			this.h = THREE.Math.clamp(that.h,0,1);
		}
	}
	else
	{	// no player, assume position is at room floor
		this.inTheRoom = true;
		this.stairs = null;
	}
	
	console.dir(this.room);
	var that = this;
	
	// button for motion type
	if (addButton)
	{
		this.buttonMotion = new MEIRO.CornerButton('bottomLeft', function(){that.startWalk(true,false);}, '', '');
		this.human.keyHandlers[this.human.key.SPACE] = function(){that.startWalk(true,false);};
	}
	
//	this.spot1 = new THREE.Mesh(new THREE.SphereGeometry(0.02,32),new THREE.MeshNormalMaterial());
//	this.spot2 = new THREE.Mesh(new THREE.SphereGeometry(0.01,32),new THREE.MeshNormalMaterial());
//	scene.add(this.spot1);
//	scene.add(this.spot2);
	this.update();
}


MEIRO.FirstPersonControls.prototype.startWalk = function(toggle,initialize)
{
	if (toggle)
	{
		this.freeWalk=!this.freeWalk;
		this.rot.y = -this.rot.y;
		this.rotTarget.y = this.rot.y;
		this.rot.x += Math.PI;
		this.rotTarget.x = this.rot.x;
	}

	if (this.freeWalk)
		this.startFreeWalk();
	else
		this.startOrbitWalk(initialize);
}


MEIRO.FirstPersonControls.prototype.update = function()
{
//	console.log('r.y =',this.rot.y);
	if (this.freeWalk)
		this.updateFreeWalk();
	else
		this.updateOrbitWalk();
}


MEIRO.FirstPersonControls.prototype.startFreeWalk = function()
{
	if (this.buttonMotion)
		this.buttonMotion.setTextIcon('МОДЕЛ', 'images/motion.orbit.png');
	if (buttonBlueprint) buttonBlueprint.show();
	this.freeWalk = true;
	this.dragObject = undefined;
	
	var model = this.room.model;
	if (model)
	{
		model.onExit();
		if (this.buttonMotion)
			this.buttonMotion.show();
	}
	else
	{
		if (this.buttonMotion)
			this.buttonMotion.hide();
	}

//	this.rot.y = 0;
//	console.log('    =',this.rot.y);
	reanimate();
}


MEIRO.FirstPersonControls.prototype.startOrbitWalk = function(initialize)
{
	if (this.buttonMotion)
	{
		this.buttonMotion.setTextIcon('ЛАБИРИНТ', 'images/motion.free.png');
		this.buttonMotion.show();
	}
	if (buttonBlueprint) buttonBlueprint.hide();
	this.freeWalk = false;
	this.orbitTarget = new THREE.Vector3(this.room.min.x/2+this.room.max.x/2,camera.position.y,this.room.min.z/2+this.room.max.z/2);
	this.dist = this.orbitTarget.distanceTo(camera.position);
	this.distTarget = this.dist;
	this.distDelta = 0;
	
	var toCenter = new THREE.Vector2(this.room.min.x/2+this.room.max.x/2-camera.position.x,this.room.min.z/2+this.room.max.z/2-camera.position.z);
	//this.rot.x = (toCenter.angle()%(Math.PI*2)+Math.PI*2)%(Math.PI*2)+Math.PI;
	//this.rot.y = 0;

	var model = this.room.model;
	if (initialize)
	{
		this.rot.x = model.POS_ROT_X;
		this.rot.y = model.POS_ROT_Y;
		this.rotTarget.x = model.POS_ROT_X;
		this.rotTarget.y = model.POS_ROT_Y;
		this.dist = model.POS_DIST*model.scale;
		this.distTarget = model.POS_DIST*model.scale;
	}

	if (model)
	{
		this.rotTarget.y = model.POS_ROT_Y;
		model.onEnter();
		this.startUp = true;
	}
	
	options.autoPos = false;
	reanimate();
}


MEIRO.FirstPersonControls.prototype.updateOrbitWalk = function()
{
	if (!this.room) return;
	
	// test for interactive elements - only if there is model with onObject method
	if (this.dragObject)
	{	// already dragging
		if (this.human.signalMouseTouchMove)
		{	// currently dragging
			if (this.room.model.onDragMove) this.room.model.onDragMove();
			this.human.signalMouseTouchMove = false;
			//console.log('dragging');
		}
		if (this.human.signalMouseTouchUp)
		{	// stop dragging
			this.human.signalMouseTouchUp = false;
			//console.log('end dragging');
			this.dragObject = undefined;
		}
	}
	else
	if (this.room.model && this.room.model.onObject)
	{
		if (this.human.signalMouseTouchDown)
		{	// start dragging
			this.dragObject = this.room.model.onObject();
			this.human.signalMouseTouchDown = false;
			//if (this.dragObject) console.log('start dragging of',this.dragObject);
		}
	}
	if (this.dragObject) return; // if dragging, do not rotate the scene
	
	var mid = middle(this.room.min,this.room.max);
	var size = delta(this.room.min,this.room.max);
	
	var fps = THREE.Math.clamp(animationLoop.stats.fps,20,60);

	// rotate left-right with keys
	if (this.human.keyLeft()) {this.rotDelta.x = +3/fps; this.startUp = false;}
	if (this.human.keyRight()) {this.rotDelta.x = -3/fps; this.startUp = false;}

	// rotate up-down with keys
	if (this.human.keyPageUp()) {this.rotDelta.y = +2/fps; this.startUp = false;}
	if (this.human.keyPageDown()) {this.rotDelta.y = -2/fps; this.startUp = false;}

	// zoom in-out with keys
	if (this.human.keyUp()) {this.distDelta = -5/fps; this.startUp = false;}
	if (this.human.keyDown()) {this.distDelta = +5/fps; this.startUp = false;}

	var mouseMove = this.human.mouse();
	var touchDist = this.human.touch();

	// rotate left-right-up-down with mouse
	if (this.human.mouseFirst())
	{
		this.rotDelta.add(mouseMove.divideScalar(15*fps));
		this.startUp = false;
	}
	
	// zoom in-out with mouse
	if (this.human.mouseSecond())
	{
		this.distDelta = mouseMove.y/(1.75*fps);
		this.startUp = false;
	}	
	
	// rotate left-right-up-down with one finger
	if (this.human.touchOne())
	{
		this.rotDelta.add(mouseMove.divideScalar(6*fps));
		this.startUp = false;
	}	

	// zoom in-out with two fingers
	if (this.human.touchTwo())
	{
		this.distDelta = touchDist/(1*fps);
		this.startUp = false;
	}	
	
	if (this.startUp)
	{
		this.rot.lerp( this.rotTarget,0.1 );
	}
	else
	{
		this.rotTarget.copy( this.rot );
		this.rotTarget.add( this.rotDelta );
		this.rotTarget.y = THREE.Math.clamp(this.rotTarget.y,-Math.PI/2+EPS,Math.PI/2-EPS);
		this.rot.lerp( this.rotTarget,0.5 );
	}
	
	this.rotDelta.divideScalar(1.15);
	if (this.room.model)
		this.rot.y = THREE.Math.clamp(this.rot.y,this.room.model.MIN_ROT_Y,this.room.model.MAX_ROT_Y);
	else
		this.rot.y = THREE.Math.clamp(this.rot.y,-0.5,0.5);

	this.distTarget *= Math.pow(1.3,this.distDelta);

	if (this.room.model)
		this.distTarget = THREE.Math.clamp(this.distTarget,this.room.model.MIN_DIST*this.room.model.scale,this.room.model.MAX_DIST*this.room.model.scale);
	else
		this.distTarget = THREE.Math.clamp(this.distTarget,0.5,Math.min(size.x,size.z)/2-MEIRO.THICKNESS);
		
	this.dist = THREE.Math.lerp(this.dist,this.distTarget,0.5);
	this.distDelta /= 1.15;

	var x = this.dist*Math.cos(this.rot.x)*Math.cos(this.rot.y);
	var y = this.dist*Math.sin(this.rot.y);
	var z = this.dist*Math.sin(this.rot.x)*Math.cos(this.rot.y);

	if (this.userCamera)
	{
		camera.target.lerpVectors(this.orbitTarget,this.userTarget,this.userLERP);
		camera.up.lerpVectors(THREE.Object3D.DefaultUp,this.userUp,this.userLERP);
		var newPos = new THREE.Vector3(x,y,z).add(this.orbitTarget);
		camera.position.lerpVectors(newPos,this.userPosition,this.userLERP);
	}
	else
	{
		camera.target.lerp(this.orbitTarget,this.TARGET_SMOOTH);
		camera.up.set(0,1,0);
		var newPos = new THREE.Vector3(x,y,z).add(this.orbitTarget);
		camera.position.lerp(newPos,this.TARGET_SMOOTH);
	}
	

/*	
	var roomY = this.room.level.levelIndex*MEIRO.STAIRS.HEIGHT;
	var T = MEIRO.THICKNESS/2+EPS;
	camera.position.x = THREE.Math.clamp(
		camera.position.x,
		this.room.min.x+T,
		this.room.max.x-T);
	camera.position.y = THREE.Math.clamp(
		camera.position.y,
		roomY+T,
		roomY+MEIRO.STAIRS.HEIGHT-T);
	camera.position.z = THREE.Math.clamp(
		camera.position.z,
		this.room.min.z+T,
		this.room.max.z-T);
*/
	camera.lookAt(camera.target);		
	
	this.TARGET_SMOOTH = 0.1;
}



MEIRO.FirstPersonControls.prototype.updateFreeWalk = function()
{
	var fps = THREE.Math.clamp(animationLoop.stats.fps,20,60);

	if (this.human.keyAny())
		if (reanimate) reanimate();

	// rotate left-right with keys
	if (this.human.keyLeft()) this.rotDelta.x = -0.2/fps+1.1*this.rotDelta.x;
	if (this.human.keyRight()) this.rotDelta.x = +0.2/fps+1.1*this.rotDelta.x;

	// rotate up-down with keys
	if (this.human.keyPageUp()) this.rotDelta.y = +1/fps;
	if (this.human.keyPageDown()) this.rotDelta.y = -1/fps;

	// go forward/backward with keys
	if (this.human.keyUp()) this.speed = 1.25/fps;
	if (this.human.keyDown()) this.speed = -1.25/fps;

	var mousePos = this.human.mouseRelative();
	mousePos.x = Math.sign(mousePos.x)*Math.pow(Math.abs(mousePos.x),1.5);
	mousePos.y = Math.sign(mousePos.y)*Math.pow(Math.abs(mousePos.y),1.5);
	var touchPos = this.human.touchCenter();
	
	// rotate view left-right-up-down with mouse
	if (this.human.mouseSecond() && !this.human.mouseFirst())
	{
		if (reanimate) reanimate();
		this.rotDelta.copy(mousePos.divideScalar(0.3*fps));
	}
	
	// rotate view and move left-right-up-down with mouse
	if (this.human.mouseFirst() && !this.human.mouseSecond())
	{
		if (reanimate) reanimate();
		this.speed = 1.25/fps;
		this.rotDelta.copy(mousePos.divideScalar(0.3*fps));
	}
	
	// rotate view and move back left-right-up-down with mouse
	if (this.human.mouseFirst() && this.human.mouseSecond())
	{
		if (reanimate) reanimate();
		this.speed = -1.25/fps;
		this.rotDelta.copy(mousePos.divideScalar(0.3*fps));
	}
	
	// rotate view and move left-right-up-down with one finger
	if (this.human.touchOne())
	{
		if (reanimate) reanimate();
		this.speed = 1.1/fps;
		this.rotDelta.copy(mousePos.divideScalar(0.3*fps));
	}
		// rotate view left-right-up-down with two fingers
	if (this.human.touchTwo())
	{
		if (reanimate) reanimate();
		this.rotDelta.copy(touchPos.divideScalar(0.25*fps));
	}
	
	
	this.speed *= 0.95;
		
	this.rotTarget.copy( this.rot );
	this.rotTarget.add( this.rotDelta );
	this.rotTarget.y = THREE.Math.clamp(this.rotTarget.y,-0.2,1);
	this.rotTarget.y = THREE.Math.lerp(this.rotTarget.y,0,0.05);
	
	this.rot.lerp( this.rotTarget,0.5 );
	this.rotDelta.divideScalar(1.15);
	
	var direction = new THREE.Vector3(
		Math.cos(this.rot.x)*Math.cos(this.rot.y),
		Math.sin(this.rot.y),
		Math.sin(this.rot.x)*Math.cos(this.rot.y)
	);
	
	if (this.inTheRoom)
		camera.position.y = THREE.Math.lerp(camera.position.y,this.room.level.levelIndex*MEIRO.STAIRS.HEIGHT+MEIRO.VIEW_HEIGHT,0.9);
	
	camera.position.copy(this.walk(direction));

	var newTarget = new THREE.Vector3();
	newTarget.copy(camera.target);
	newTarget.addVectors(camera.position,direction);
	this.tilt = this.tilt*0.9+10*this.rotDelta.x*this.speed; // increase 10 to increase tilting
	camera.up.set(Math.cos(this.rot.x)/2,1,Math.sin(this.rot.x+this.tilt)/2);
	
	// when on stairs move the target up or down
	if (!this.inTheRoom)
	{
		var dotProduct = Math.cos(this.rot.x)*this.stairs.vec.x + Math.sin(this.rot.x)*this.stairs.vec.z;
		//console.log('dot',dotProduct,this.stairs.vec.x*this.stairs.vec.x+this.stairs.vec.z*this.stairs.vec.z);
		newTarget.y -= dotProduct*( Math.cos(Math.PI*(2*this.h-1))/2+0.5 )/1.5;
	}
	
	//camera.target.y += 0.1*Math.sin(animationLoop.time/50)*this.speed;
	camera.target.lerp(newTarget,this.TARGET_SMOOTH);
	camera.lookAt(camera.target);
//	this.spot2.position.set(camera.position.x+0.05*direction.x,camera.position.y-0.4,camera.position.z+0.05*direction.z);
//	this.spot1.position.set(camera.position.x,camera.position.y-0.4,camera.position.z);
//	camera.lookAt(this.spot1.position);
}


MEIRO.FirstPersonControls.prototype.viewAngle = function()
{
	return (controls.freeWalk?-1:1)*Math.PI/2-this.rot.x;
}


	
// performs one step walk in a given direction and
// return the new position; the original position is
// camera.pos, the direction is a parameter, the speed
// is this.speed
MEIRO.FirstPersonControls.prototype.walk = function(direction)
{
	// no movement at all, exit
	if (this.speed==0) return camera.position;

	var dir = new THREE.Vector3();
	var pos = new THREE.Vector3();
	var that = this;

	//console.log('----',this.inTheRoom,'room',that.room.index,'level',that.room.level.levelIndex,that.level.levelIndex);
	
	function inSafeZone(x,z)
	{
		var OK;
		
		dir.set(x,0,z);
		pos.copy(camera.position);
		pos.addScaledVector(dir,that.speed);
		
		if (that.inTheRoom)
		{	// the player is in the room, check the safe zone of the room
			// OK: 0=outside room, 1=inside room, 2=inside door, 3=inside stairs
			OK = that.room.inSafeZone(pos);
			//console.log('	room.inSafeZone=',OK);
			if (OK==2) // inside door
			{
				if (!inArea(pos,that.room.min,that.room.max)) // ouside room
				{	// go to another room
					//console.log('Exit room',that.room.index,'level',that.room.level.levelIndex);
					if (that.room.onExit) that.room.onExit();
					that.room = that.level.findRoom(pos);
					//console.log('Enter room',that.room.index,'level',that.room.level.levelIndex);
					if (that.room.onEnter) that.room.onEnter();
					that.room.show();
					if (that.room.model)
					{
						if (that.buttonMotion) that.buttonMotion.show();
						//if (buttonBlueprint) buttonBlueprint.show();
					}
					else
					{
						if (that.buttonMotion) that.buttonMotion.hide();
						//if (buttonBlueprint) buttonBlueprint.hide();
					}
				}
			}
			if (OK==3) // inside stairs
			{	// go down/up the stairs
				that.inTheRoom = false;
				that.stairs = that.room.inStairs;
				console.log('Exit room',that.room.index,'level',that.room.level.levelIndex);
				if (that.room.onExit) that.room.onExit();
				//console.log('Enter stairs',that.stairs.index);
				if (that.buttonMotion) that.buttonMotion.hide();
				//if (buttonBlueprint) buttonBlueprint.hide();
			}
			if (OK==0)
			{				
				//console.log('>>>>> CURRENT POS',pos);
				//console.log('>>>>> CURRENT ROOM?',that.room);
				//console.log('>>>>> NEW ROOM?',that.level.findRoom(pos).index);
			}
		}
		else
		{	// the player is on the stairs, check the safe zone of the stairs only
			if (that.stairs.dir%2)
			{
				pos.z = THREE.Math.lerp(pos.z,that.stairs.mid.z,0.05);
			}
			else
			{
				pos.x = THREE.Math.lerp(pos.x,that.stairs.mid.x,0.05);
			}
			OK = that.stairs.inSafeZone(pos);
			if (OK==2)
			{
				// attempt to exit the stairs -- allowed only if stepping outside stairs total zone
				
				// 1. find the room (upper or lower level)
				if (pos.y/2>that.stairs.level.levelIndex-0.5)
				{ // upper level
					that.level = that.stairs.level;
					//console.log('-->upper level of stairs');
				}
				else
				{ // lower level
					that.level = that.stairs.level.lowerLevel;
					//console.log('-->lower level of stairs');
				}
				that.room = that.level.findRoom(pos);
				that.inTheRoom = true;
				if (that.room.model)
					that.buttonMotion.show();

				//console.log('Exit stairs',that.stairs.index);
				// find which level and which room in that level
				//console.log('Enter room',that.room.index,'level',that.room.level.levelIndex);
				if (that.room.onEnter) that.room.onEnter();
				that.room.show();
			}
			else
			{
				var slope = that.stairs.slope;
				var t = pos[slope.axis];
				that.h = (t-slope.min)/(slope.max-slope.min);
				that.h = THREE.Math.clamp(that.h,0,1);
				
				var curve = new THREE.CubicBezierCurve(
					new THREE.Vector2( 0, 0 ),
					new THREE.Vector2( 1, 0 ),
					new THREE.Vector2( MEIRO.STAIRS.LENGTH-1, MEIRO.STAIRS.HEIGHT ),
					new THREE.Vector2( MEIRO.STAIRS.LENGTH, MEIRO.STAIRS.HEIGHT )
				);
				pos.y = (that.stairs.level.levelIndex-1)*2+curve.getPoint(that.h).y+MEIRO.VIEW_HEIGHT;
			}
		}
		return OK;
	}
	
	// first try the true (X,Z) direction, then (X,0) and (0,Z)
	if (inSafeZone(direction.x,direction.z)) return pos;
	if (inSafeZone(direction.x,0)) return pos;
	if (inSafeZone(0,direction.z)) return pos;

	// if we can go back, then we are not locked;
	// if we are locked, then move the position within the closest point in the room
	if (inSafeZone(-direction.x,-direction.z)==0)
	{
		return {x: Math.min(Math.max(pos.x,that.room.min.x),that.room.max.x),
				y: pos.y,
				z: Math.min(Math.max(pos.z,that.room.min.z),that.room.max.z)};
	}
	
	// give up
	return camera.position;
}

﻿//	MEIRO
//	Generation of dungeon's structure - levels of rooms with
//	walls, doors and stairs.
//		
//
//	MEIRO.Dungeon()
//	 ├─ id			- dungeon ID
//	 ├─ min			= {x,y,z}
//	 ├─ max			= {x,y,z}
//	 ├─ levels[]	- DungeonLevel
//	 └─ roomsBySize(onlyEmpty)
//
//	MEIRO.DungeonLevel(dungeon)
//	 ├─ dungeon		- parent dungeon
//	 ├─ levelIndex	- current level index
//	 ├─ floors[]	= {min,max}
//	 ├─ rooms[]		= {min,max,level,image}
//	 ├─ walls[]		= {min,max,axis} axis='x' if along X axis
//	 ├─ doors[]		= {min,mid,max,axis}
//	 ├─ stairs[]	= {min,mid,max,dir,midUp,midDown,vec} 
//	 ├─ generateRooms(min,max)
//	 │   ├─ generateWall(min,axis,length,dir)
//	 │   ├─ generateStairs()
//	 │   ├─ generateSafeZones()
//	 │   ├─ mergeDoors()
//	 │   ├─ mergeWalls()
//	 │   └─ mergeFloors()
//	 ├─ findRoom(pos)
//	 ├─ findRoomIndex(pos)
//	 ├─ findFloorIndex(pos)
//	 ├─ findStairs(pos)
//	 ├─ findWallIndex(pos)
//	 ├─ findCornerWall(pos,firstWall)
//	 └─ findInsideWall(pos)
//
//	MEIRO.Room(min,max,level)
//	 ├─ doors[]
//	 └─ inSafeZone(pos)		return 0=outside, 1=inside room, 2=inside door, 3=inside stairs
//
//	MEIRO.Stairs(min,max,mid,dir,midUp,midDown,vec,level)
//	 └─ inSafeZone(pos)		return 0=forbidden, 1=inside stairs; 2=outside stairs
//
//	2017.04 - P. Boytchev

MEIRO.STAIRS = {
	LENGTH: 3, // do not change
	HEIGHT: 2,
};

// save zone around objects which is forbidden for walking
MEIRO.SAFE_ZONE = {
	WALL:0.2 // forbidden zone around walls
};


	
// Dungeon constructor - size.x and size.z are horizontal
// sizes, size.y is nu,ber of levels
MEIRO.Dungeon = function()
{
	console.time('Dungeon');
	
	this.min = {x:0,y:0,z:0};
	this.max = options.size;
	this.id = options.id;
	
	// construct levels
	this.levels = []; // all levels
	for (var i=0; i<options.size.y; i++)
		this.levels.push( new MEIRO.DungeonLevel(this) );

	// add some internal cross-data (must be done after the
	// complete dungeon is built
	for (var i=0; i<options.size.y; i++)
	{
		this.levels[i].roomDoors();
		this.levels[i].generateSafeZones();
	}
	
	console.dir(this);
	
	console.timeEnd('Dungeon');
	//console.table(this.roomsBySize(true));
	
	//console.log('Empty rooms:',this.roomsBySize(true).length);
}



// Dungeon level constructor
MEIRO.DungeonLevel = function(dungeon)
{
	this.dungeon = dungeon;
	this.levelIndex = dungeon.levels.length;
	this.floors = []; // {min{x,z},max{x,z}}
	this.rooms = []; // {min{x,z},max{x,z}}
	this.walls = []; // {min{x,z},max{x,z},axis=x,z}
	this.doors = []; // {min{x,z},max{x,z},axis=x,z}
	this.stairs = []; // {min{x,y},max{x,y},dir=0,1,2,3}

	this.lowerLevel = this.levelIndex ? dungeon.levels[this.levelIndex-1] : undefined;
	this.upperLevel = undefined;
	if (this.lowerLevel)
		this.lowerLevel.upperLevel = this;

	
	// add floor
	this.floors.push( {min:{x:0,z:0}, max:{x:this.dungeon.max.x,z:this.dungeon.max.z}} );
	
	// add bounding (external) walls
	this.walls.push( {min:{x:0,z:0}, max:{x:this.dungeon.max.x, z:0}, axis:'x'} );
	this.walls.push( {min:{x:0,z:this.dungeon.max.z}, max:{x:this.dungeon.max.x, z:this.dungeon.max.z}, axis:'x'} );
	this.walls.push( {min:{x:0,z:0}, max:{x:0, z:this.dungeon.max.z}, axis:'z'} );
	this.walls.push( {min:{x:this.dungeon.max.x,z:0}, max:{x:this.dungeon.max.x, z:this.dungeon.max.z}, axis:'z'} );
	
	// bind random generator to the dungeon's id
	random.seed = dungeon.id+this.levelIndex/2;
	this.generateRooms(dungeon.min,dungeon.max);

	// if this is not the bottom level, then cut holes and
	// put stairs to the lower level
	if (this.lowerLevel)
	{
		random.seed = dungeon.id+this.levelIndex/3;
		this.generateStairs();
	}

	this.mergeWalls();
	this.mergeFloors();
}


// Stairs constructor
MEIRO.Stairs = function(min,max,mid,dir,midUp,midDown,vec,level)
{
	this.min = min;
	this.max = max;
	this.mid = mid;
	this.dir = dir;
	this.midUp = midUp;
	this.midDown = midDown;
	this.vec = vec;
	this.level = level; // upper level
	this.index = level.stairs.length;

	var d={};
	var u={};
	
	d.x = midDown.x+0.5*vec.x;
	d.z = midDown.z+0.5*vec.z;
	u.x = midUp.x-0.5*vec.x;
	u.z = midUp.z-0.5*vec.z;
	
	var axis = (dir%2)?'x':'z';
	this.slope = {axis:axis, min:d[axis], max:u[axis]};
	//console.log('stairs');
	//console.log('	down',midDown);
	//console.log('	up',midUp);
	//console.log('	slope',this.slope);
}


// Room constructor(dungeon,level,roomIdx,min,max)
MEIRO.Room = function(min,max,level)
{
	this.level = level; // DungeonLevel
	this.min = min;
	this.max = max;
	this.image = undefined;
	this.doors = [];
	this.index = level.rooms.length;
}


// checks whether position is in the safe zone of a room
// returns: 0=outside, 1=inside room, 2=inside door, 3=inside stairs
MEIRO.Room.prototype.inSafeZone = function(pos)
{
	// is it in the original safe zone of the room?
	if (inArea(pos,this.safeZone.room.min,this.safeZone.room.max))
	{
		// check in-room stairs
		for (var i in this.safeZone.stairs)
		{
			if (inArea(pos,this.safeZone.stairs[i].min,this.safeZone.stairs[i].max)) // unsafe zone
			{
				if (inArea(pos,this.safeZone.stairs[i].safeZone.min,this.safeZone.stairs[i].safeZone.max))
				{
					this.inStairs = this.safeZone.stairs[i].stairs;
					//console.log('	room-inside stairs',i);
					return 3;
				}
				else
				{
					//console.log('	room-hit stairs unsafe zone');
					return 0;
				}	
			}
		}
		//console.log('	room-inside');
		return 1;
	}

//console.log('pos',camera.position.x.toFixed(2),camera.position.z.toFixed(2));
//console.log('	room    x',this.min.x.toFixed(2),this.max.x.toFixed(2),
//			'z',this.min.z.toFixed(2),this.max.z.toFixed(2));
//console.log('	room sz x',this.safeZone.room.min.x.toFixed(2),this.safeZone.room.max.x.toFixed(2),
//			'z',this.safeZone.room.min.z.toFixed(2),this.safeZone.room.max.z.toFixed(2));

	// it is ouside the safe zone of a room, so it is at the room peripheral zone
	// possible cases: in stairs safezone, in door safezone, otherwise - it is hitting the wall
	
	// is it in the safe zone of stairs?
	for (var i in this.safeZone.stairs)
	{
		if (inArea(pos,this.safeZone.stairs[i].safeZone.min,this.safeZone.stairs[i].safeZone.max))
		{
			this.inStairs = this.safeZone.stairs[i].stairs;
			//console.log('	outside room-inside stairs',i,'index',this.inStairs.index);
			return 3;
		}
	}
	
	// is it in the safe zone of a door?
	for (var i in this.safeZone.doors)
	{
//console.log('	door['+i+'] x',this.safeZone.doors[i].min.x.toFixed(2),this.safeZone.doors[i].max.x.toFixed(2),
//			'z',this.safeZone.doors[i].min.z.toFixed(2),this.safeZone.doors[i].max.z.toFixed(2));
		if (inArea(pos,this.safeZone.doors[i].min,this.safeZone.doors[i].max))
		{
			// check  stairs
			for (var i in this.safeZone.stairs)
			{
				if (inArea(pos,this.safeZone.stairs[i].min,this.safeZone.stairs[i].max)) // unsafe zone
				{
					if (inArea(pos,this.safeZone.stairs[i].safeZone.min,this.safeZone.stairs[i].safeZone.max))
					{
						this.inStairs = this.safeZone.stairs[i].stairs;
						//console.log('	room-inside stairs',i);
						return 3;
					}
					else
					{
						//console.log('	room-hit stairs unsafe zone');
						return 0;
					}	
				}
			}

//			console.log('B1');
			//console.log('	room-inside door',i);
			return 2;
		}
	}
	
	// not in the safe zone
	//console.log('	room-outside any safe zone');
	return 0;
}


// checks whether position is in the safe zone of stairs
// returns: 0=forbidden, 1=inside stairs; 2=outside stairs
MEIRO.Stairs.prototype.inSafeZone = function(pos)
{
	// is it in the safe zone of the stairs?
	if (inArea(pos,this.safeZone.min,this.safeZone.max))
	{
		//console.log('	stairs-inside');
		return 1;
	}
	
	// is it in the unsafe zone of the stairs?
	if (inArea(pos,this.unsafeZone.min,this.unsafeZone.max))
	{
		//console.log('	stairs-forbidden');
		return 0;
	}

	// it is outside the stairs
	//console.log('	stairs-outside');
	return 2;
}


// generate safe zone where the player can walk
MEIRO.DungeonLevel.prototype.generateSafeZones = function (min,max)
{
	// Step 1 - generate safe zones for rooms (rooms, doors, stairs entrances/exists)
	for (var r in this.rooms)
	{
		var room = this.rooms[r];
		room.safeZone = {};
		
		// safe zone of the room itself (contains unsafe stairs)
		//		╔══════════════  ══╗
		//		  ┌──────────────┐ ║
		//		║ | safe         | ║
		//		║ |         zone |  
		//		║ └──────────────┘ ║
		//		╚═══════  ═════════╝
		room.safeZone.room = {
			min:{x:room.min.x+MEIRO.SAFE_ZONE.WALL, z:room.min.z+MEIRO.SAFE_ZONE.WALL},
			max:{x:room.max.x-MEIRO.SAFE_ZONE.WALL, z:room.max.z-MEIRO.SAFE_ZONE.WALL}
		};
		//debugArea(this.dungeon,this.levelIndex,room.safeZone.room.min,room.safeZone.room.max,'red',0.22);
		
		// safe zones for doors
		//             ┌────┐
		//		══════╗|safe|╔══════  
		//		══════╝|zone|╚══════  
		//             └────┘
		room.safeZone.doors = [];
		for (var i in room.doors)
		{
			var door = room.doors[i];
			var doorMin = {x:door.min.x, z:door.min.z};
			var doorMax = {x:door.max.x, z:door.max.z};

			/*
			// check wether there are upstairs near the door
			// if there are - the door has no safe zone
			var found = false;
			if (this.upperLevel)
			{
				for (s in this.upperLevel.stairs)
					if (distSqr(door.mid,this.upperLevel.stairs[s].midDown)<0.5)
					{
						found = true;
						break;
					}
			}
			if (found) continue;
			*/
			
			var coord1 = (door.axis=='x')?'x':'z';
			var coord2 = (door.axis=='x')?'z':'x';
			
			//doorMin[coord1] += MEIRO.SAFE_ZONE.WALL/2;
			//doorMax[coord1] -= MEIRO.SAFE_ZONE.WALL/2;
			doorMin[coord2] -= MEIRO.SAFE_ZONE.WALL;
			doorMax[coord2] += MEIRO.SAFE_ZONE.WALL;

			// if there is wall to the left, then shrink the safe zone
			var found = false;
			for (var w in this.walls)
			{
				var wall = this.walls[w];
				if (inArea(door.min,wall.min,wall.max))
				{
					found = true;
					break;
				}
			}
			if (found) doorMin[coord1] += MEIRO.SAFE_ZONE.WALL;
			
			// if there is wall to the right, then shrink the safe zone
			var found = false;
			for (var w in this.walls)
			{
				var wall = this.walls[w];
				if (inArea(door.max,wall.min,wall.max))
				{
					found = true;
					break;
				}
			}
			if (found) doorMax[coord1] -= MEIRO.SAFE_ZONE.WALL;
			
			room.safeZone.doors.push( {min:doorMin, max:doorMax} );
			//debugArea(this.dungeon,this.levelIndex,doorMin,doorMax,'orange',0.22);
		} // for (var i in room.doors)

		
		// unsafe(!) zones for stairs to the lower level
		room.safeZone.stairs = [];
		//              × = midUp   vec->
		// stairs ┌───────────────────┐       
		//    top | ╔═══════╤═══════╗═|═════╗ 
		//        ├──┐              ║ |      stairs
		// safe zone |  ×           ║ |      bottom
		//        ├──┘              ║ |      
		// we're  | ╚═══════╧═══════╝═|═════╝
		// here   └───────────────────┘
		//       0.5   unsafe zone   1.5
		//
		for (var i in this.stairs)
		{
			var stairs = this.stairs[i];
			
			// skip the stairs if the upper side is outside this room
			if (!inAreaZone(stairs.midUp,room.min,room.max,MEIRO.STAIRS.LENGTH))
				continue;

			var p1 = {
				x: stairs.midUp.x+(1.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z,
				z: stairs.midUp.z+(1.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x,
			}
			var p2 = {
				x: stairs.midUp.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z,
				z: stairs.midUp.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x
			}

			var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
			var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
			var safeZone = {min:stairsMin, max:stairsMax, stairs:stairs};
			room.safeZone.stairs.push( safeZone );
			//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'blue',0.24);
			
			// add a safe zone inside the unsafe zone of the stairs
			var p1 = {
				x: stairs.midUp.x-(0.5-MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
				z: stairs.midUp.z-(0.5-MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x,
			}
			var p2 = {
				x: stairs.midUp.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
				z: stairs.midUp.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x
			}

			var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
			var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
			safeZone.safeZone = {min:stairsMin, max:stairsMax};
			//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'yellow',0.3);
		}

		// unsafe(!) zones for stairs to the upper level
		//        × = midDown  ┌────────────┐ stairs
		//        ╔═══════╤════|══╗═══════╗ | bottom
		//                     |  ║   ┌─────|      
		//    top              |  ║   × safe|zone
		//                     |  ║   └─────|      
		//        ╚═══════╧════|══╝═══════╝ | we're
		//                     └────────────┘ here
		//                  0.7 unsafe zone 0.5
		var upperLevel = this.upperLevel;
		if (upperLevel)
		for (var i in upperLevel.stairs)
		{
			var stairs = upperLevel.stairs[i];
			
			// skip the stairs if the upper side is outside this room
			if (!inAreaZone(stairs.midDown,room.min,room.max,MEIRO.STAIRS.LENGTH))
				continue;
			var p1 = {
				x: stairs.midDown.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z,
				z: stairs.midDown.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x,
			}
			var p2 = {
				x: stairs.midDown.x-(0.7+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z,
				z: stairs.midDown.z-(0.7+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x
			}
			
			var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
			var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
			var safeZone = {min:stairsMin, max:stairsMax, stairs:stairs};
			room.safeZone.stairs.push( safeZone );
			//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'blue',0.24);
			
			// add a safe zone inside the unsafe zone of the stairs
			var p1 = {
				x: stairs.midDown.x+(0.5-MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
				z: stairs.midDown.z+(0.5-MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x,
			}
			var p2 = {
				x: stairs.midDown.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
				z: stairs.midDown.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x
			}

			var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
			var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
			safeZone.safeZone = {min:stairsMin, max:stairsMax};
			//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'yellow',0.3);
		}
		
		//console.log(this.levelIndex,room.index,room.safeZone);
	} //for (var r in this.rooms)
	
	// Step 2 - generate safe zones for stairs 
	//            × = midUp       × = midDown
	//        ╔═══════╤═══════╗═══════╗
	//      ┌─────────────────║─────────┐      
	//  top |     ×   safe zone   ×     | bottom
	//      └─────────────────║─────────┘      
	//        ╚═══════╧═══════╝═══════╝
	//				    vec ->
	//
	//        ╔═══════╤═══════╗═══════╗ unsafe zone
	//        └───────────────║───────┘      
	//  top       ×               ×       bottom
	//        ┌───────────────║───────┐      
	//        ╚═══════╧═══════╝═══════╝ unsafe zone

	for (var i in this.stairs)
	{
		var stairs = this.stairs[i];
		var p1 = {
			x: stairs.midUp.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
			z: stairs.midUp.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x,
		}
		var p2 = {
			x: stairs.midDown.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.z,
			z: stairs.midDown.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5-MEIRO.SAFE_ZONE.WALL/2-MEIRO.RAILING.WIDTH)*stairs.vec.x
		}
		
		var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
		var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
		stairs.safeZone = {min:stairsMin, max:stairsMax};
		//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'pink',0.3);
		//debugArea(this.dungeon,this.levelIndex-1,stairsMin,stairsMax,'pink',0.3);
		
		var p1 = {
			x: stairs.midUp.x-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x-(0.5)*stairs.vec.z,
			z: stairs.midUp.z-(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z+(0.5)*stairs.vec.x,
		}
		var p2 = {
			x: stairs.midDown.x+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.x+(0.5)*stairs.vec.z,
			z: stairs.midDown.z+(0.5+MEIRO.SAFE_ZONE.WALL/2)*stairs.vec.z-(0.5)*stairs.vec.x
		}
		
		var stairsMin = {x:Math.min(p1.x,p2.x),z:Math.min(p1.z,p2.z)};
		var stairsMax = {x:Math.max(p1.x,p2.x),z:Math.max(p1.z,p2.z)};
		stairs.unsafeZone = {min:stairsMin, max:stairsMax};
		//debugArea(this.dungeon,this.levelIndex,stairsMin,stairsMax,'blue',0.24);
		//debugArea(this.dungeon,this.levelIndex-1,stairsMin,stairsMax,'blue',0.24);
		
	} //for (var s in this.stairs)
}

// split the dungeon level into rooms
MEIRO.DungeonLevel.prototype.generateRooms = function (min,max)
{
	// room dimensions
	var size = delta(min,max),
		maxRoomSize = Math.max(size.x,size.z);

	//               maxWall                 	
	//     ╔══════╤═════╦════════════╤══════╗max
	//     ║ min      split             min ║
	//     ║ Room      Pos             Room ║
	//  min╚══════╧═════╩════════════╧══════╝
	//               minWall

	// split the room along the longest axis
	if (maxRoomSize > options.split.maxRoom)
	{
		if (size.x>size.z)
		{	// split along X
			var splitPos = random(min.x+options.split.minRoom,max.x-options.split.minRoom);

			// splitting wall
			var minWall = {x:splitPos,z:min.z};
			var maxWall = {x:splitPos,z:max.z};
			this.generateWall( minWall, 'z', size.z, {x:0,z:1});	
		}
		else
		{	// split along Z
			var splitPos = random(min.z+options.split.minRoom,max.z-options.split.minRoom);
			
			// splitting wall
			var maxWall = {x:max.x,z:splitPos};
			var minWall = {x:min.x,z:splitPos};
			this.generateWall( minWall, 'x', size.x, {x:1,z:0});
		}
		
		// split the room in two smaller rooms
		this.generateRooms(min,maxWall);
		this.generateRooms(minWall,max);
		return;
	}
	
	// no splitting is done, then this is a room
	this.rooms.push( new MEIRO.Room(min,max,this) );
}


// generate wall with doors (dir=direction vector)
MEIRO.DungeonLevel.prototype.generateWall = function (min,axis,length,dir)
{
	// an array for door positions
	var doors = [-1,length];
	
	// pick a few random positions of the doors
	for (var i=0; i<Math.round(1+length*options.split.extraDoors); i++)
		doors.push(random(0,length-1));
		
	// sort them from beginning to the end
	doors = doors.sort(function(a,b){return a-b;});

	//       doors[i]
	//       min max
	//        |   |                  wall
	//      ══╗   ╔══════════╗   ╔══ max
	// wall ══╝   ╚══════════╝   ╚══
	//  min                  |   |
	//                      min max
	//                    doors[i+1]

	// scan the doors and create walls between each two doors
	var x = min.x;
	var z = min.z;
	for (var i=0; i<doors.length-1; i++)
	{
		var len = doors[i+1]-doors[i];
		if (len>1+EPS) // long enough
		{
			this.walls.push( {
				min:{x:x,z:z},
				max:{x:x+dir.x*(len-1),z:z+dir.z*(len-1)},
				axis:axis} );
		}
		x = x+dir.x*(len);
		z = z+dir.z*(len);
	}
	
	// register doors at the dungeon level
	for (var i=1; i<doors.length-1; i++)
	{
		var doorMin = {x:min.x+dir.x*doors[i],z:min.z+dir.z*doors[i]};
		var doorMax = {x:min.x+dir.x*(doors[i]+1),z:min.z+dir.z*(doors[i]+1)};
		this.doors.push( {
			min:doorMin,
			max:doorMax,
			mid:middle(doorMin,doorMax),
			axis:axis} );
	}
}


// generate stairs between this level and the lower level
MEIRO.DungeonLevel.prototype.generateStairs = function ()
{
	var count = options.stairs;
	var attempts = 10*count;

nextAttempt:
	for (; attempts; attempts--)
	{
		// pick a random room
		var room = this.rooms[random(0,this.rooms.length-1)];
		
		//          0
		//        ┌─┴─┐
		//     1 ─┤   ├─ 3
		//        └─┬─┘
		//          2
		// pick a random position and orientation
		var midUp = {x:random(this.dungeon.min.x,this.dungeon.max.x-1)+0.5,
				    z:random(this.dungeon.min.z,this.dungeon.max.z-1)+0.5};
		var dir = random(0,3);

		var vec = {x:0, z:0}; // points towards the downside of the stairs
		switch (dir)
		{
			case 0: vec.z--; break;
			case 2: vec.z++; break;
			case 1: vec.x--; break;
			case 3: vec.x++; break;
		}
		var midDown = {x:midUp.x+vec.x*(MEIRO.STAIRS.LENGTH-1),z:midUp.z+vec.z*(MEIRO.STAIRS.LENGTH-1)};
		var max = {x:Math.max(midUp.x,midDown.x)+0.5, z:Math.max(midUp.z,midDown.z)+0.5};
		var min = {x:Math.min(midUp.x,midDown.x)-0.5, z:Math.min(midUp.z,midDown.z)-0.5};
		var mid = middle(min,max);

		// example for stairs with dir==3
		//
		//	           vec ──>
		//
		//       min         max    
		//        ┌───┬───┬───┐
		//    top > ||||||||| > bottom
		//        └───┴───┴───┘
		//          |   |   |
		//      midUp  mid  midDown

		
		// stairs exit must be well inside the level
		var entry = {x:midUp.x-vec.x, z:midUp.z-vec.z};
		if (!inArea(entry,this.dungeon.min,this.dungeon.max))
			continue nextAttempt;
		var exit = {x:midDown.x+vec.x, z:midDown.z+vec.z};
		if (!inArea(exit,this.dungeon.min,this.dungeon.max))
			continue nextAttempt;

		// stairs of this level must not be close to each other
		for (var j in this.stairs)
		{
			var otherStairs = this.stairs[j];
			if (distSqr(midUp,otherStairs.midUp)<4)
				continue nextAttempt; 
			if (distSqr(midDown,otherStairs.midDown)<4)
				continue nextAttempt; 
			if (distSqr(mid,otherStairs.mid)<4)
				continue nextAttempt; 
			if (distSqr(mid,otherStairs.midUp)<2)
				continue nextAttempt; 
			if (distSqr(midUp,otherStairs.mid)<2)
				continue nextAttempt; 
		}

		// stairs of this level must not be close to stairs
		// of the lower level
		for (var j in this.lowerLevel.stairs)
		{
			var otherStairs = this.lowerLevel.stairs[j];
			if (distSqr(midDown,otherStairs.midUp)<4)
				continue nextAttempt; 
			if (distSqr(midDown,otherStairs.mid)<2)
				continue nextAttempt; 
		}
		
		// stairs must not be close to doors
		for (var j in this.doors)
		{
			var abs = deltaAbs(midUp,this.doors[j].mid);
			if (abs.x+abs.z<1+EPS) continue nextAttempt; 
			var abs = deltaAbs(mid,this.doors[j].mid);
			if (abs.x+abs.z<1+EPS) continue nextAttempt; 
		}

		// stairs of this level must not be close to doors
		// from the lower level
		if (this.lowerLevel)
			for (var j in this.lowerLevel.doors)
			{
				var abs = deltaAbs(midDown,this.lowerLevel.doors[j].mid);
				if (abs.x+abs.z<1+EPS) continue nextAttempt; 
				var abs = deltaAbs(mid,this.lowerLevel.doors[j].mid);
				if (abs.x+abs.z<1+EPS) continue nextAttempt; 
			}

		// add a record for these stairs
		this.stairs.push( new MEIRO.Stairs(min,max,mid,dir,midUp,midDown,vec,this) );
		
		var that = this;
		function cutHoleInFloor(min,max)
		{
			// cut a hole in the floors
			var floorIndex = that.findFloorIndex(middle(min,max));
			if (floorIndex<0) return;

			var floor = that.floors[floorIndex];
			that.floors.splice(floorIndex,1);
			
			//                         floor
			//      ╔═════╤════════════╗ max
			//      ║ (4) │         (3)║
			//      ║     │   max      ║
			//      ║     ├──┬─────────╢
			//      ╟─────┴──┤         ║
			//      ║  min   │         ║
			//      ║        │         ║
			//      ║  (1)   │   (2)   ║
			//  min ╚════════╧═════════╝
			//  floor

			function addFloor(min,max)
			{
				var size = delta(min,max);
				if (size.x<EPS || size.z<EPS) return; // do not add this floor, too small
				that.floors.push( {min:min, max:max} );
			}
			addFloor( floor.min, {x:max.x,z:min.z} ); // (1)
			addFloor( {x:max.x,z:floor.min.z}, {x:floor.max.x,z:max.z} ); // (2)
			addFloor( {x:min.x,z:max.z}, floor.max ); // (3)
			addFloor( {x:floor.min.x,z:min.z}, {x:min.x,z:floor.max.z} ); // (4)
		}

		// cut holes in the floor - the first one is at 
		// the stairs, the second one is next to it, etc
		for (var j=0; j<MEIRO.STAIRS.LENGTH/2-EPS; j++)
			cutHoleInFloor({x:midUp.x-0.5+j*vec.x,z:midUp.z-0.5+j*vec.z},{x:midUp.x+0.5+j*vec.x,z:midUp.z+0.5+j*vec.z});
		
		// cut holes in the walls
		function cutHoleInWall(level,pos)
		{
			// cut a hole in a wall
			var wallIndex = level.findWallIndex(pos);
			if (wallIndex<0) return;

			var wall = level.walls[wallIndex];
			level.walls.splice(wallIndex,1);
			
			//             pos
			//              |               wall
			//      ══════╗   ╔════════════ max
			// wall ══════╝   ╚════════════
			//  min
			
			function addWall(min,max)
			{
				var size = delta(min,max);
				if (Math.max(size.x,size.z)<EPS) return; // do not add this wall, too small
				level.walls.push( {min:min, max:max, axis:wall.axis} );
			}
			if (wall.axis=='x')
			{
				addWall( wall.min, {x:pos.x-0.5,z:pos.z} );
				addWall( {x:pos.x+0.5,z:pos.z}, wall.max );
				level.doors.push( {
					min:{x:pos.x-0.5,z:pos.z},
					max:{x:pos.x+0.5,z:pos.z},
					mid:pos,
					axis:wall.axis} );
			}
			else
			{
				addWall( wall.min, {x:pos.x,z:pos.z-0.5} );
				addWall( {x:pos.x,z:pos.z+0.5}, wall.max );
				level.doors.push( {
					min:{x:pos.x,z:pos.z-0.5},
					max:{x:pos.x,z:pos.z+0.5},
					mid:pos,
					axis:wall.axis} );
			}
			
		}
	
		// cut holes in walls for this level
		for (var j=0; j<MEIRO.STAIRS.LENGTH/2-EPS; j++)
		{
			x = midUp.x+j*vec.x;
			z = midUp.z+j*vec.z;
			cutHoleInWall( this,{x:x-vec.x/2, z:z-vec.z/2} );
		}
		// cut holes in walls for lower level
		for (var j=0; j<MEIRO.STAIRS.LENGTH; j++)
		{
			x = midDown.x-j*vec.x;
			z = midDown.z-j*vec.z;
			cutHoleInWall( this.lowerLevel,{x:x+vec.x/2, z:z+vec.z/2} );
		}
		
		count--;
		if (count==0) return;
	}
}


// merge aligned doors
MEIRO.DungeonLevel.prototype.mergeDoors = function ()
{
	for (var i=this.walls.length-2; i>=0; i--)
	{
		var wallA = this.walls[i];
		var axis = wallA.axis;
		for (var j=this.walls.length-1; j>i; j--)
		{
			var wallB = this.walls[j];
			if (wallB.axis!=axis) continue;
			if (distSqr(wallA.max,wallB.min)>EPS &&
				distSqr(wallA.min,wallB.max)>EPS ) continue; 
			// merge both walls
			wallA.min.x = Math.min(wallA.min.x,wallB.min.x);
			wallA.min.z = Math.min(wallA.min.z,wallB.min.z);
			wallA.max.x = Math.max(wallA.max.x,wallB.max.x);
			wallA.max.z = Math.max(wallA.max.z,wallB.max.z);
			this.walls.splice(j,1);
		}
	}
}


// merge aligned walls
MEIRO.DungeonLevel.prototype.mergeWalls = function ()
{
	for (var i=this.walls.length-2; i>=0; i--)
	{
		var wallA = this.walls[i];
		var axis = wallA.axis;
		for (var j=this.walls.length-1; j>i; j--)
		{
			var wallB = this.walls[j];
			if (wallB.axis!=axis) continue;
			if (distSqr(wallA.max,wallB.min)>EPS &&
				distSqr(wallA.min,wallB.max)>EPS ) continue; 
			// merge both walls
			wallA.min.x = Math.min(wallA.min.x,wallB.min.x);
			wallA.min.z = Math.min(wallA.min.z,wallB.min.z);
			wallA.max.x = Math.max(wallA.max.x,wallB.max.x);
			wallA.max.z = Math.max(wallA.max.z,wallB.max.z);
			this.walls.splice(j,1);
		}
	}
}


// merge aligned floors
MEIRO.DungeonLevel.prototype.mergeFloors = function ()
{
	tryAgain:
	
	for (var i=0; i<this.floors.length-1; i++)
	{
		var floorA = this.floors[i];
		var areaA = area(floorA.min,floorA.max);
		
		for (var j=i+1; j<this.floors.length; j++)
		{
			var floorB = this.floors[j];
			var areaB = area(floorB.min,floorB.max);

			// floor C is the smallest spanning area over A and B
			var floorC = {
				min:{ x:Math.min(floorA.min.x,floorB.min.x),
					  z:Math.min(floorA.min.z,floorB.min.z) },
				max:{ x:Math.max(floorA.max.x,floorB.max.x),
					  z:Math.max(floorA.max.z,floorB.max.z) },
			};
			var areaC = area(floorC.min,floorC.max);
			if (equal(areaA+areaB,areaC))
			{
				this.floors.splice(j,1);
				this.floors[i] = floorC;
				continue tryAgain;
			}
		}
	}
}


// find the room where a point is
MEIRO.DungeonLevel.prototype.findRoom = function(pos)
{
	for (var i in this.rooms)
	{
		var room = this.rooms[i];
		if (inArea(pos,room.min,room.max))
			return room;
	}
	return undefined;
}

// find the room where a point is
MEIRO.DungeonLevel.prototype.findRoomIndex = function(pos)
{
	for (var i in this.rooms)
	{
		var room = this.rooms[i];
		if (inArea(pos,room.min,room.max))
			return i;
	}
	return undefined;
}


// find the stairs where a point is
MEIRO.DungeonLevel.prototype.findStairs = function(pos)
{
	for (var i in this.stairs)
	{
		var stairs = this.stairs[i];
		if (inArea(pos,stairs.min,stairs.max))
			return stairs;
	}
	return undefined;
}


// find the floor where a point is
MEIRO.DungeonLevel.prototype.findFloorIndex = function(pos)
{
	for (var i in this.floors)
	{
		var floor = this.floors[i];
		if (inArea(pos,floor.min,floor.max))
			return i;
	}
	return -1;
}


// find the wall where a point is
MEIRO.DungeonLevel.prototype.findWallIndex = function(pos)
{
	for (var i in this.walls)
	{
		var wall = this.walls[i];
		if (inArea(pos,wall.min,wall.max))
			return i;
	}
	return -1;
}


// find the corner wall where a point is
MEIRO.DungeonLevel.prototype.findCornerWall = function(pos,firstWall)
{
	for (var i in this.walls) 
	{
		var wall = this.walls[i];
		if (wall.axis!=firstWall.axis)
			if (inArea(pos,wall.min,wall.max))
				return wall;
	}
	return undefined;
}


// find the wall where a point is strictly inside
// i.e. not near its edges
MEIRO.DungeonLevel.prototype.findInsideWall = function(pos)
{
	for (var i in this.walls)
	{
		var wall = this.walls[i];
		if (inArea(pos,wall.min,wall.max))
		{
			if (distSqr(pos,wall.min)<0.5) continue;
			if (distSqr(pos,wall.max)<0.5) continue;
			return wall;
		}
	}
	return undefined;
}


// add an array of door for each room
MEIRO.DungeonLevel.prototype.roomDoors = function()
{
	for (var i =0; i<this.doors.length; i++)
	{
		var door = this.doors[i];
		var axisX = (door.axis=='x');
		
		var pos = {x:door.mid.x, y:this.levelIndex, z:door.mid.z};
		//if (this.levelIndex==0) debugPos(this.dungeon,pos.x,2*pos.y,pos.z);
		
		// check one side of the door
		if (axisX) pos.z += 0.5; else pos.x += 0.5;
		var room = this.findRoom(pos);
		room.doors.push(door);
		
		// check the other side of the door
		if (axisX) pos.z -= 1; else pos.x -= 1;
		var room = this.findRoom(pos);
		room.doors.push(door);
	}
}


// get a list of all rooms grouped by minimal room size
MEIRO.Dungeon.prototype.roomsBySize = function(onlyEmpty)
{
	var result = [];
	for (var l in this.levels)
	for (var r in this.levels[l].rooms)
	{
		var level = this.levels[l];
		var room = level.rooms[r];
		var size = delta(room.min,room.max);
		var stairs = false;
		// get stairs to lower levels
		for (var s in level.stairs)
			if ( inArea(level.stairs[s].mid,room.min,room.max) ||
				 inArea(level.stairs[s].midUp,room.min,room.max) )
			{
				stairs = true;
				break;
			}
		// get stairs to upper levels
		if (!stairs && level.upperLevel)
		for (var s in level.upperLevel.stairs)
			if ( inArea(level.upperLevel.stairs[s].mid,room.min,room.max) ||
				 inArea(level.upperLevel.stairs[s].midDown,room.min,room.max) )
			{
				stairs = true;
				break;
			}
			
		if (onlyEmpty && stairs) continue;	
		result.push( {size:Math.min(size.x,size.z), room:room, levelNo:parseInt(l), roomNo:parseInt(r), stairs:stairs} );
	}
	result.sort(function(a,b) {
		if (b.size!=a.size) return b.size-a.size;
		var an = Math.sin(a.levelNo)+Math.sin(a.roomNo);
		var bn = Math.sin(b.levelNo)+Math.sin(b.roomNo);
		return bn-an;
	});
	return result;
}



// debug stairs		
function debugPos(dungeon,x,y,z)
{
	var style = new THREE.MeshNormalMaterial({
			transparent : !true,
			opacity : 0.5,
		});
	var geom = new THREE.SphereGeometry(0.2);
	var mesh = new THREE.Mesh(geom,style);
	mesh.position.set( x-0*dungeon.max.x/2, y+0.2, z-0*dungeon.max.z/2 );
	scene.add( mesh );
}
function debugArea(dungeon,y,min,max,color,height)
{
	var style = new THREE.MeshBasicMaterial({
			color: color,
			transparent : true,
			opacity : 0.5,
		});
	var geom = new THREE.BoxGeometry(max.x-min.x,height,max.z-min.z);
	var mesh = new THREE.Mesh(geom,style);
	var mid = middle(min,max);
	mesh.position.set( mid.x-0*dungeon.max.x/2, 2*y, mid.z-0*dungeon.max.z/2 );
	scene.add( mesh );
}
﻿//	MEIRO
//	Generation of image of a dungeon room + some area around it
//
//	Extends MEIRO class
//	 ├─ proceduralWallTexture(size)
//	 ├─ uvMap(uv,ax,bx,ay,by)
//	 └─ 
//
//	Extends MEIRO.Dungeon class
//	 ├─ showRoom(level,room)
//	 │   ├─ imageFloor()
//	 │   ├─ imageWalls()
//	 │   ├─ imageStairs()
//	 │   └─ imageModelsMarks()
//	 └─ 
//
//	Extends MEIRO.Room class
//	 ├─ generateImage()
//	 ├─ show()
//	 ├─ hide()
//	 └─ ...
//
//	2017.03 - P. Boytchev


MEIRO.TEXTURE_SIZE = 1024; 
MEIRO.MODELMARK = {HEIGHT: 0.01};

// map u & v ranges from (0,1) to (min,max)
MEIRO.uvMap = function(uv,uMin,uMax,vMin,vMax)
{
	uv.x = uMin + uv.x*(uMax-uMin);
	uv.y = vMin + uv.y*(vMax-vMin);
}


MEIRO.initDungeonRoom = function()
{
	MEIRO.GEOMETRY = {
			FLOOR:	new THREE.BoxGeometry(1,MEIRO.THICKNESS,1),
			WALL:	new THREE.BoxGeometry(1,MEIRO.STAIRS.HEIGHT,1),
			PILLAR:	new THREE.CylinderGeometry(MEIRO.WIDENESS/2,MEIRO.WIDENESS/2,MEIRO.STAIRS.HEIGHT,options.lowpoly?4:12,1,true,0,Math.PI),
			PILLAR4:new THREE.CylinderGeometry(MEIRO.WIDENESS/2,MEIRO.WIDENESS/2,MEIRO.STAIRS.HEIGHT,options.lowpoly?2:6,1,true,0,Math.PI/2),
	//		GLASS:	new THREE.BoxGeometry(0.8*MEIRO.PILLAR.DISTANCE,0.6*MEIRO.PILLAR.HEIGHT,0.6*MEIRO.PILLAR.RADIUS),
			SLOPE:	function()
					{
						//return new THREE.Geometry();
						var V = MEIRO.THICKNESS;
						var W = MEIRO.RAILING.WIDTH;
						var L = MEIRO.STAIRS.LENGTH;
						var H = MEIRO.STAIRS.HEIGHT;
						var T = MEIRO.THICKNESS;
						
						// spline profile of the slope						
						var shape = new THREE.Shape();
							shape.moveTo(0,T/2-V+EPS);
							shape.lineTo(1+MEIRO.WIDENESS/2,T/2-V);
							shape.lineTo(1+MEIRO.WIDENESS/2,T/2-V+0.2+T/2);
							
							shape.bezierCurveTo( // lower curve
								1+MEIRO.WIDENESS/2, T/2-V+0.5+T/2+0.5,
								L-1+0.3, H+T/2-V,
								L, H+T/2-V);

							shape.lineTo(L,H+T/2);
							shape.bezierCurveTo(L-1,H+T/2, 1,T/2, 0,T/2); // upper curve

						var extrudeSettings = {
							amount: 1,
							bevelEnabled: false,
							curveSegments: options.lowpoly?8:60,
						};

						var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
						/*
						for (var i=0; i<geometry.faces.length; i++)
							if ((geometry.faces[i].normal.x)>EPS)
								geometry.faces[i].color = new THREE.Color(Math.random(0.9,1),Math.random(0.9,1),Math.random(0.9,1));
						*/
						for (var i=0; i<geometry.faces.length; i++)
							if (Math.abs(geometry.faces[i].normal.x)>EPS)
						for (var j=0; j<3; j++)
						{
							var vertex;
							if (j==0) vertex = geometry.faces[i].a;
							if (j==1) vertex = geometry.faces[i].b;
							if (j==2) vertex = geometry.faces[i].c;
							vertex = geometry.vertices[vertex];
							var uv = geometry.faceVertexUvs[0][i][j];
							if (geometry.faces[i].normal.x>0)
							{
								uv.x = vertex.z;
								uv.y = vertex.y;
							}
							else
							{
								uv.x = vertex.x;
								uv.y = vertex.z+0.5;
							}
						}

						geometry.rotateY(-Math.PI/2);
						geometry.translate(0.5,-H,0.5-L);
						return geometry;
					}(),
			RAILING1: function()
					{
						var geometry = new THREE.BoxGeometry(1+0*MEIRO.RAILING.WIDTH,MEIRO.RAILING.HEIGHT,MEIRO.RAILING.WIDTH);
						for (var i=0; i<12; i++)
						for (var j=0; j<3; j++)
						{
							var uv = geometry.faceVertexUvs[0][i][j];
							if (i>=4 && i<8) // top/bottom faces
								MEIRO.uvMap(uv,0,1,0,MEIRO.RAILING.WIDTH);
							else
							if (i>=8 && i<12) // front/back faces
								MEIRO.uvMap(uv,0,1,MEIRO.THICKNESS/2,MEIRO.THICKNESS/2+2*MEIRO.RAILING.HEIGHT/MEIRO.STAIRS.HEIGHT);
							else // thin vertical sides
								MEIRO.uvMap(uv,0,MEIRO.RAILING.WIDTH,MEIRO.THICKNESS/2,MEIRO.THICKNESS/2+2*MEIRO.RAILING.HEIGHT/MEIRO.STAIRS.HEIGHT);
						}
						return geometry;
					}(),
			RAILING: function()
					{
						//return new THREE.Geometry();
						var V = MEIRO.RAILING.HEIGHT;
						var W = MEIRO.RAILING.WIDTH;
						var L = MEIRO.STAIRS.LENGTH;
						var H = MEIRO.STAIRS.HEIGHT;
						var T = MEIRO.THICKNESS;
						
						// spline profile of the railing
						var shape = new THREE.Shape();
							shape.moveTo(0,0+T/2);
							shape.bezierCurveTo(1,0+T/2, L-1,H+T/2, L,H+T/2);
							shape.lineTo(L,H+V+T/2);
							shape.lineTo(L-2,H+V+T/2);
							shape.lineTo(L-2,H-T/2);
							shape.lineTo(L-2,H-T/2);
							shape.bezierCurveTo(L-1,H-T/2-0.1, 1,V+T/2, 0,V+T/2);

						var extrudeSettings = {
							amount: W,
							bevelEnabled: false,
							curveSegments: options.lowpoly?8:60,
						};

						var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );
						/*
						for (var i=0; i<geometry.faces.length; i++)
							if (Math.abs(geometry.faces[i].normal.x)>EPS)
								geometry.faces[i].color = new THREE.Color(Math.random(0.9,1),Math.random(0.9,1),Math.random(0.9,1));
						*/	
						for (var i=0; i<geometry.faces.length; i++)
							if (Math.abs(geometry.faces[i].normal.x)>EPS)
						for (var j=0; j<3; j++)
						{
							var vertex;
							if (j==0) vertex = geometry.faces[i].a;
							if (j==1) vertex = geometry.faces[i].b;
							if (j==2) vertex = geometry.faces[i].c;
							vertex = geometry.vertices[vertex];
							var uv = geometry.faceVertexUvs[0][i][j];
							uv.x = vertex.z;
							uv.y = vertex.y;
						}
						geometry.rotateY(-Math.PI/2);
						geometry.translate(W/2,-H,0.5-L);
						return geometry;
					}(),
			MODELMARK: function()
					{
						var geometry = new THREE.BoxGeometry(2,MEIRO.MODELMARK.HEIGHT,2);
						for (var i=0; i<12; i++)
						for (var j=0; j<3; j++)
						{
							var uv = geometry.faceVertexUvs[0][i][j];
							if (i>=4 && i<8) // top/bottom faces
								MEIRO.uvMap(uv,0,2,0,2);
								/*
							else
							if (i>=8 && i<12) // front/back faces
								MEIRO.uvMap(uv,0,1,MEIRO.THICKNESS/2,MEIRO.THICKNESS/2+2*MEIRO.RAILING.HEIGHT/MEIRO.STAIRS.HEIGHT);
							else // thin vertical sides
								MEIRO.uvMap(uv,0,MEIRO.RAILING.WIDTH,MEIRO.THICKNESS/2,MEIRO.THICKNESS/2+2*MEIRO.RAILING.HEIGHT/MEIRO.STAIRS.HEIGHT);
								*/
						}
						return geometry;
					}(),
		};

	MEIRO.STYLE = {
			FLOOR: new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			WALL:  new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			PILLAR: new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			PILLAR4: new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			RAILING:  new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			SLOPE: new THREE.MeshBasicMaterial({
					color: 'white',
			}),
			MODELMARK: new THREE.MeshBasicMaterial({
					color: options.noAO?0xFAFAFA:'white',
			}),
		};
		
	// define textures
	if (options.textures)
	{
		MEIRO.generateNoiseCanvas();
		MEIRO.STYLE.FLOOR.map = MEIRO.proceduralFloorTexture(MEIRO.TEXTURE_SIZE);
		MEIRO.STYLE.WALL.map = MEIRO.proceduralWallTexture(MEIRO.TEXTURE_SIZE);
		MEIRO.STYLE.SLOPE.map = MEIRO.STYLE.WALL.map;
		MEIRO.STYLE.RAILING.map = MEIRO.STYLE.WALL.map;
		MEIRO.STYLE.PILLAR.map = MEIRO.proceduralPillarTexture(MEIRO.TEXTURE_SIZE);
		MEIRO.STYLE.PILLAR4.map = MEIRO.proceduralPillar4Texture(MEIRO.TEXTURE_SIZE);
		MEIRO.STYLE.MODELMARK.map = MEIRO.STYLE.FLOOR.map;
	}
}

	
// Show the image of a room (param: level number and room number)
MEIRO.Dungeon.prototype.showRoom = function(level,room)
{
//	this.levels[level].rooms[room].show();
}

	
// Makes a room shown (generate image if needed)
MEIRO.Room.prototype.show = function()
{
}
	
// Makes a room hidden
MEIRO.Room.prototype.hide = function()
{
}


// image of all floors, with holes for downstairs
MEIRO.Dungeon.prototype.imageFloor = function()
{	
	// collect all floor plates into one geometry
	var allFloors = new THREE.Geometry();
	
	// scan all floor plates and find the intersection with the room
	for (var l in this.levels)
	for (var i in this.levels[l].floors)
	{
		var floor = this.levels[l].floors[i];
		var size = delta(floor.min,floor.max);
		var mid = middle(floor.min,floor.max);
		
		// create the floor plate
		var geom = MEIRO.GEOMETRY.FLOOR.clone(true);
		geom.scale(size.x,1,size.z);
		geom.translate(mid.x,l*MEIRO.STAIRS.HEIGHT,mid.z);

		for (var f=0; f<geom.faces.length; f++)
		for (var j=0; j<3; j++)
		{
			var uv = geom.faceVertexUvs[0][f][j];
			MEIRO.uvMap(uv,floor.min.x,floor.max.x,-floor.max.z,-floor.min.z);
		}
		
		// merge it with the other floor plates
		allFloors.merge( geom );
		
		// if this is the bottom floor, then add it as a top floor
		if (l+i==0)
		{
			geom.translate(0,this.max.y*MEIRO.STAIRS.HEIGHT,0);
			allFloors.merge( geom );
		}
		
		geom.dispose();
	}

	allFloors.mergeVertices();
	var bufferGeom = (new THREE.BufferGeometry()).fromGeometry(allFloors);
	this.image.add(new THREE.Mesh( bufferGeom, MEIRO.STYLE.FLOOR));
}


// image of model marks
MEIRO.Dungeon.prototype.imageModelsMarks = function()
{	
	// collect all models marks into one geometry
	var allMarks = new THREE.Geometry();
	
	// scan all levels
	for (var l in this.levels)
	for (var i in this.levels[l].rooms)
	{
		var room = this.levels[l].rooms[i];
		if (!room.model) continue;

		var size = delta(room.min,room.max);
		var mid = middle(room.min,room.max);
		
		// create the mark
		var geom = MEIRO.GEOMETRY.MODELMARK.clone(true);
		geom.translate(mid.x,l*MEIRO.STAIRS.HEIGHT+MEIRO.THICKNESS/2+MEIRO.MODELMARK.HEIGHT/2,mid.z);
		
		// merge it with the other floor plates
		allMarks.merge( geom );
		geom.dispose();
	}

	allMarks.mergeVertices();
	var bufferGeom = (new THREE.BufferGeometry()).fromGeometry(allMarks);
	this.image.add(new THREE.Mesh( bufferGeom, MEIRO.STYLE.MODELMARK));
}


// image of walls, with holes for doors
MEIRO.Dungeon.prototype.imageWalls = function()
{
	// collect all walls into one geometry
	var allWalls = new THREE.Geometry();
	var allPillars = new THREE.Geometry();
	var allPillars4 = new THREE.Geometry();
	
	// draw all wall segments; skip those which are too short
	for (var l in this.levels)
	for (var i in this.levels[l].walls)
	{
		var wall = this.levels[l].walls[i];
		var size = delta(wall.min,wall.max);

		// create the wall
		var geom = MEIRO.GEOMETRY.WALL.clone(true);

		// fix texture UV coordinates (front and back faces of the x-wall are symmetrical)
		for (var i=0; i<12; i++)
		for (var j=0; j<3; j++)
		{
			var uv = geom.faceVertexUvs[0][i][j];
			MEIRO.uvMap(uv,wall.min[wall.axis],wall.max[wall.axis],0,MEIRO.STAIRS.HEIGHT);
		}

		// adjust the plate size and position
		var mid = middle(wall.min,wall.max);
		geom.scale( wall.axis=='x'?size.x:MEIRO.WIDENESS,1,wall.axis=='z'?size.z:MEIRO.WIDENESS);
		geom.translate( mid.x, l*MEIRO.STAIRS.HEIGHT+MEIRO.STAIRS.HEIGHT/2, mid.z );

		// merge it with the other walls
		allWalls.merge( geom );
		geom.dispose();
		
		// if the wall is long from edge to edge, it does not need pillars
		// the 4 outer-most walls of each level are such type of walls
		if (size.x>this.max.x-EPS || size.z>this.max.z-EPS)
			continue;

		function halfPillar(pos,angle)
		{
			//console.log('HP [',pos.x,pos.z,']');
			var geom = MEIRO.GEOMETRY.PILLAR.clone(true);
			if (wall.axis=='x') geom.rotateY(Math.PI/2*(angle+1));
			if (wall.axis=='z') geom.rotateY(Math.PI/2*angle);
			geom.translate( pos.x, l*MEIRO.STAIRS.HEIGHT+MEIRO.STAIRS.HEIGHT/2, pos.z );
			allPillars.merge( geom );
			geom.dispose();
		}
		
		function quarterPillar(pos,wallA,wallB)
		{
			//console.log('QP [',pos.x,pos.z,']');
			var geom = MEIRO.GEOMETRY.PILLAR4.clone(true);
			// find orientation of quarter pillar
			//  o=pos *=mid
			//
			//	 o═══     ═══o    ║ *       * ║
			//	 ║ *       * ║    o═══     ═══o
			//    (A)     (B)      (C)     (D)
			var mid = middle(middle(wallA.min,wallA.max),middle(wallB.min,wallB.max));
			if (mid.x>pos.x+EPS && mid.z>pos.z+EPS)
				geom.rotateY(Math.PI); //C
			else if (mid.x<pos.x-EPS && mid.z>pos.z+EPS)
				geom.rotateY(Math.PI/2); //D
			else if (mid.x>pos.x+EPS && mid.z<pos.z-EPS)
					geom.rotateY(-Math.PI/2); //B
			else {} // A - no need for rotation
			geom.translate( pos.x, l*MEIRO.STAIRS.HEIGHT+MEIRO.STAIRS.HEIGHT/2, pos.z );
			allPillars4.merge( geom );
			geom.dispose();
		}
		
		// create the door pillar at the "max" end of the wall
		// only is the pillar is not *inside* another wall
		if (!this.levels[l].findInsideWall(wall.max))
		{
			var otherWall = this.levels[l].findCornerWall(wall.max,wall);
			if (otherWall)
			{
				if (wall.axis=='x') quarterPillar(wall.max,wall,otherWall);
			}
			else
				halfPillar(wall.max,-1);
		}
		
		// create the door pillar at the "min" end of the wall
		// only is the pillar is not *inside* another wall
		if (!this.levels[l].findInsideWall(wall.min))
		{
			var otherWall = this.levels[l].findCornerWall(wall.min,wall);
			if (otherWall)
			{
				if (wall.axis=='x') quarterPillar(wall.min,wall,otherWall);
			}
			else
				halfPillar(wall.min,1);
		}
	}
	
	// optimize the vertices
	allWalls.mergeVertices();
	var buffer = (new THREE.BufferGeometry()).fromGeometry(allWalls);
	this.image.add(new THREE.Mesh(buffer,MEIRO.STYLE.WALL));
	allWalls.dispose;
	
	allPillars.mergeVertices();
	var buffer = (new THREE.BufferGeometry()).fromGeometry(allPillars);
	this.image.add(new THREE.Mesh(buffer,MEIRO.STYLE.PILLAR));
	allPillars.dispose();
	
	allPillars4.mergeVertices();
	var buffer = (new THREE.BufferGeometry()).fromGeometry(allPillars4);
	this.image.add(new THREE.Mesh(buffer,MEIRO.STYLE.PILLAR4));
	allPillars4.dispose();
}



// image of stairs
MEIRO.Dungeon.prototype.imageStairs = function()
{
	var allRailings = new THREE.Geometry();
	var allSlopes = new THREE.Geometry();
	
	for (var l in this.levels)
	for (var i in this.levels[l].stairs)
	{
		var stairs = this.levels[l].stairs[i];
		// 1. main slope
		var mesh = new THREE.Mesh(MEIRO.GEOMETRY.SLOPE, MEIRO.STYLE.SLOPE);
		mesh.position.set( stairs.midUp.x, l*MEIRO.STAIRS.HEIGHT, stairs.midUp.z );
		mesh.rotation.y = (stairs.dir * Math.PI/2);
		allSlopes.mergeMesh( mesh );

		// 2. left and right curved railings along the slope
		var mesh = new THREE.Mesh( MEIRO.GEOMETRY.RAILING, MEIRO.STYLE.RAILING );
		var dist = (0.5-MEIRO.RAILING.WIDTH/2);
		mesh.position.set( stairs.midUp.x-dist*stairs.vec.z, l*MEIRO.STAIRS.HEIGHT, stairs.midUp.z-dist*stairs.vec.x );
		mesh.rotation.y = stairs.dir * Math.PI/2;
		allRailings.mergeMesh( mesh );
		mesh.position.set( stairs.midUp.x+dist*stairs.vec.z, l*MEIRO.STAIRS.HEIGHT, stairs.midUp.z+dist*stairs.vec.x );
		allRailings.mergeMesh( mesh );

		// 3. short frontal straight railing at stairs top
		var mesh = new THREE.Mesh( MEIRO.GEOMETRY.RAILING1, MEIRO.STYLE.RAILING );
		var dist = (2-0.5+MEIRO.RAILING.WIDTH/2);
		mesh.position.set( stairs.midUp.x+dist*stairs.vec.x, l*MEIRO.STAIRS.HEIGHT+MEIRO.RAILING.HEIGHT/2+MEIRO.THICKNESS/2, stairs.midUp.z+dist*stairs.vec.z );
		mesh.rotation.y = stairs.dir * Math.PI/2;
		allRailings.mergeMesh( mesh );
	}
	
	//allRailings.mergeVertices(); - no need, minimal effect, less than 1% merged
	var buffer = (new THREE.BufferGeometry()).fromGeometry(allRailings);
	this.image.add( new THREE.Mesh(buffer,MEIRO.STYLE.RAILING) );
	allRailings.dispose();

	//allSlopes.mergeVertices(); - no need, no effect, 0% merged
	var buffer = (new THREE.BufferGeometry()).fromGeometry(allSlopes);
	this.image.add( new THREE.Mesh(buffer,MEIRO.STYLE.SLOPE) );
	allSlopes.dispose();
}


MEIRO.NOISE_CANVAS = undefined;

// Create noise canvas used as a template for textures
MEIRO.generateNoiseCanvas = function()
{
	if (options.noTextures) return;
	var size = MEIRO.TEXTURE_SIZE;
	
	MEIRO.NOISE_CANVAS = document.createElement('canvas');
	MEIRO.NOISE_CANVAS.width = size;
	MEIRO.NOISE_CANVAS.height = size;
	
	var ctx = MEIRO.NOISE_CANVAS.getContext('2d');
	
	// white background
	ctx.fillStyle = 'white';
	ctx.fillRect(0,0,size,size);
	
	// some noise
	ctx.fillStyle = 'rgba(0,0,0,0.1)';
	for (var i=0; i<Math.pow(size,1.5); i++)
	{
		var x = Math.random()*size;
		var y = Math.random()*size;
		ctx.fillRect(x,y,1,1);
	}
	
	// add grid - for debug purposes only
	if (options.debugTextures)
	{
		// draw a black frame
		ctx.fillStyle = 'rgba(0,0,0,0.1)';
		ctx.fillRect(0,0,size,size);
		ctx.fillStyle = 'white';
		ctx.fillRect(size/256,size/256,size-size/128,size-size/128);

		// split into 10x10 blocks by gray lines
		ctx.strokeStyle = 'rgba(0,0,0,0.1)';
		ctx.lineWidth = size/512;
		ctx.beginPath();
		for (var i=1; i<10; i++)
		{
		  ctx.moveTo(0,i/10*size);
		  ctx.lineTo(size,i/10*size);
		  ctx.moveTo(i/10*size,0);
		  ctx.lineTo(i/10*size,size);
		}
		ctx.stroke();
		
		// add thicker lines for midsegments
		ctx.strokeStyle = 'rgba(0,0,0,0.1)';
		ctx.lineWidth = 3*size/512;
		ctx.beginPath();
		{
		  ctx.moveTo(0,size/2);
		  ctx.lineTo(size,size/2);
		  ctx.moveTo(size/2,0);
		  ctx.lineTo(size/2,size);
		}
		ctx.stroke();
		
		// add coordinates
		/*
		ctx.fillStyle = 'black';
		ctx.font = Math.round(0.4*size/10)+'px sans-serif';
		ctx.textAlign = 'center';
		ctx.fillText('0,0',0.55*size/10,0.7*size/10);
		ctx.fillText('9,0',9.45*size/10,0.7*size/10);
		ctx.fillText('0,9',0.55*size/10,9.7*size/10);
		ctx.fillText('9,9',9.45*size/10,9.7*size/10);
		*/
	}
}


// create a Canvas 2D context
MEIRO.proceduralCreateContext = function(bitmap,sizex,sizey)
{
	var ctx = bitmap.getContext('2d');
	bitmap.width = sizex;
	bitmap.height = sizey;

	ctx.drawImage(MEIRO.NOISE_CANVAS,0,0);
	return ctx;
}


MEIRO.textureFromCanvas = function(canvas)
{
	var texture = new THREE.Texture(canvas);
	texture.anisotropy = 256; // looks good at oblique angles
	texture.needsUpdate = true;
	texture.wrapS = THREE.RepeatWrapping;
	texture.wrapT = THREE.MirroredRepeatWrapping;
	return texture;
}


MEIRO.pseudoAO = function(ctx,size)
{
	if (options.noAO)
	{	// add tiny gray gradientat the edge
		ctx.fillStyle = 'rgba(0,0,0,0.006)';
		for (var i=0; i<50; i++)
		{
			var p = -0.04*(Math.pow(i/49,3));
			ctx.fillRect(0,(0.9+p)*size,size,size);
		}
	}
}


// Generates procedurally texture for the floor - just noise
MEIRO.proceduralFloorTexture = function(size/*in pixels*/)
{	
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	canvas.width = size;
	canvas.height = size;
	
	ctx.drawImage(MEIRO.NOISE_CANVAS,0,0);

	return MEIRO.textureFromCanvas(canvas);
}


// Generates procedurally texture for the wall - noise + 2 stripes
MEIRO.proceduralWallTexture = function(size/*in pixels*/)
{	
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	canvas.width = size;
	canvas.height = size;
	
	ctx.drawImage(MEIRO.NOISE_CANVAS,0,0);
	
	ctx.strokeStyle = 'mediumblue';
	
	// thick line
	ctx.lineWidth = 0.1*size;
	ctx.moveTo(0,0.75*size);
	ctx.lineTo(size,0.75*size);
	ctx.stroke();

	// thin line
	ctx.lineWidth = 0.025*size;
	ctx.moveTo(0,0.65*size);
	ctx.lineTo(size,0.65*size);
	ctx.stroke();

	MEIRO.pseudoAO(ctx,size);
	
	return MEIRO.textureFromCanvas(canvas);
}


// Generates procedurally texture for the half door pillar
MEIRO.proceduralPillarTexture = function(size/*in pixels*/)
{	
	var sizex = size/4;
	
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	canvas.width = sizex;
	canvas.height = size;
	
	ctx.drawImage(MEIRO.NOISE_CANVAS,0,0);
	
	ctx.strokeStyle = 'mediumblue';

	// thick line
	ctx.lineWidth = 0.1*size;
	ctx.moveTo(0,0.75*size);
	ctx.lineTo(sizex,0.75*size);
	ctx.stroke();

	// thin line
	ctx.lineWidth = 0.025*size;
	ctx.moveTo(0,0.65*size);
	ctx.lineTo(0.2*sizex,0.65*size);
	ctx.quadraticCurveTo(0.4*sizex,0.65*size,0.4*sizex,0.65*size-0.2*sizex);
	ctx.lineTo(0.4*sizex,0);

	ctx.moveTo(sizex,0.65*size);
	ctx.lineTo(sizex-0.2*sizex,0.65*size);
	ctx.quadraticCurveTo(sizex-0.4*sizex,0.65*size,sizex-0.4*sizex,0.65*size-0.2*sizex);
	ctx.lineTo(sizex-0.4*sizex,0);
	ctx.stroke();

	MEIRO.pseudoAO(ctx,size);
	
	var texture = MEIRO.textureFromCanvas(canvas);
	texture.repeat.set( 1, 2 );

	return texture;
}


// Generates procedurally texture for cubes
MEIRO.proceduralCubeTexture = function(size/*in pixels*/)
{	
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	canvas.width = size/4;
	canvas.height = size/4;
	
	ctx.fillStyle = 'white';
	ctx.fillRect(0,0,size/4,size/4);
	ctx.strokeStyle = 'rgba(0,0,0,0.5)';
	ctx.lineWidth = 1;
	ctx.strokeRect(1,1,size/4-2,size/4-2);
	
	return MEIRO.textureFromCanvas(canvas);
}


// Generates procedurally texture for the quarter door pillar
MEIRO.proceduralPillar4Texture = function(size/*in pixels*/)
{	
	var sizex = size/8;
	
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	canvas.width = sizex;
	canvas.height = size;
	
	ctx.drawImage(MEIRO.NOISE_CANVAS,0,0);
	
	ctx.strokeStyle = 'mediumblue';

	// thick line
	ctx.lineWidth = 0.1*size;
	ctx.moveTo(0,0.75*size);
	ctx.lineTo(sizex,0.75*size);
	ctx.stroke();

	// thin line
	ctx.lineWidth = 0.025*size;
	ctx.moveTo(0,0.65*size);
	ctx.lineTo(0.1*sizex,0.65*size);
	ctx.quadraticCurveTo(0.3*sizex,0.65*size,0.3*sizex,0.65*size-0.2*sizex);
	ctx.lineTo(0.3*sizex,0);

	ctx.moveTo(sizex,0.65*size);
	ctx.lineTo(sizex-0.1*sizex,0.65*size);
	ctx.quadraticCurveTo(sizex-0.3*sizex,0.65*size,sizex-0.3*sizex,0.65*size-0.2*sizex);
	ctx.lineTo(sizex-0.3*sizex,0);
	ctx.stroke();

	MEIRO.pseudoAO(ctx,size);
	
	var texture = MEIRO.textureFromCanvas(canvas);
	texture.repeat.set( 1, 2 );

	return texture;
}


// cobverted with http://gero3.github.io/facetype.js/

MEIRO.FONT_JSON = {
	"glyphs": {
		"0": {
			"ha": 763,
			"x_min": 81,
			"x_max": 682,
			"o": "m 682 366 q 601 93 682 203 q 373 -17 520 -17 q 157 83 232 -17 q 81 339 81 184 q 162 612 81 502 q 390 722 243 722 q 606 621 531 722 q 682 366 682 521 m 567 338 q 516 553 567 472 q 376 632 465 633 q 243 555 290 632 q 196 366 196 479 q 247 152 196 233 q 387 73 298 71 q 516 143 466 73 q 567 338 567 214 z "
		},
		"1": {
			"ha": 486,
			"x_min": 47,
			"x_max": 350,
			"o": "m 350 0 l 234 0 q 241 297 241 143 q 234 560 241 475 l 79 483 l 47 542 l 292 722 l 350 722 q 343 297 343 503 q 350 0 343 152 z "
		},
		"2": {
			"ha": 642,
			"x_min": 68,
			"x_max": 574,
			"o": "m 574 96 l 560 0 l 68 0 l 81 92 q 328 293 257 212 q 399 480 399 374 q 208 623 399 623 q 78 612 126 623 l 92 708 q 223 722 142 722 q 446 661 374 722 q 519 512 519 600 q 424 281 519 382 q 193 93 330 181 l 193 87 q 574 96 385 87 z "
		},
		"3": {
			"ha": 675,
			"x_min": 41,
			"x_max": 593,
			"o": "m 593 102 q 456 -145 593 -35 q 60 -269 319 -256 l 41 -185 q 361 -103 246 -172 q 477 79 477 -35 q 391 227 477 184 q 140 270 304 270 l 153 351 q 368 391 284 351 q 452 500 452 431 q 399 594 452 566 q 235 622 347 622 q 90 608 152 622 l 98 703 q 294 722 160 722 q 484 669 417 722 q 551 544 551 616 q 394 342 551 395 l 394 336 q 537 257 480 319 q 593 102 593 195 z "
		},
		"4": {
			"ha": 741,
			"x_min": 47,
			"x_max": 680,
			"o": "m 680 211 l 665 104 l 548 104 q 556 -224 548 -22 l 440 -224 q 446 104 446 -49 l 62 104 l 47 190 q 231 456 47 208 q 414 715 415 705 l 556 715 q 548 203 548 562 q 680 211 610 203 m 452 619 l 447 619 q 301 408 447 601 q 155 205 155 216 l 155 199 q 445 204 275 199 q 452 619 446 414 z "
		},
		"5": {
			"ha": 682,
			"x_min": 81,
			"x_max": 601,
			"o": "m 601 118 q 465 -130 601 -22 q 100 -248 328 -239 l 81 -168 q 375 -87 269 -156 q 481 87 481 -18 q 395 247 481 201 q 86 293 309 293 q 124 715 124 602 l 538 715 l 534 608 q 208 627 396 627 q 189 384 189 497 q 499 320 398 384 q 601 118 601 257 z "
		},
		"6": {
			"ha": 766,
			"x_min": 81,
			"x_max": 685,
			"o": "m 685 274 q 605 61 685 151 q 381 -29 526 -29 q 169 66 257 -29 q 81 345 81 161 q 556 911 81 882 l 565 832 q 300 727 385 814 q 200 462 216 640 l 208 462 q 426 552 273 552 q 616 470 547 552 q 685 274 685 387 m 567 254 q 514 404 567 341 q 357 466 460 466 q 199 387 260 466 q 252 135 199 212 q 384 58 304 58 q 518 116 469 58 q 567 254 567 174 z "
		},
		"7": {
			"ha": 656,
			"x_min": 47,
			"x_max": 595,
			"o": "m 595 715 q 497 370 595 590 q 315 8 456 278 q 218 -224 218 -179 l 98 -210 q 201 12 98 -166 q 389 347 378 323 q 492 621 492 541 q 47 604 345 621 l 52 715 l 595 715 z "
		},
		"8": {
			"ha": 764,
			"x_min": 81,
			"x_max": 683,
			"o": "m 683 251 q 592 56 683 125 q 378 -14 502 -14 q 170 53 258 -14 q 81 241 81 120 q 132 387 81 320 q 275 493 182 454 l 275 500 q 135 713 135 587 q 210 871 135 815 q 387 926 284 926 q 561 873 488 926 q 635 728 635 821 q 595 608 635 665 q 486 522 556 550 l 486 514 q 683 251 683 404 m 570 233 q 360 463 570 360 q 240 381 287 437 q 193 258 193 324 q 249 123 193 170 q 385 76 306 76 q 515 118 460 76 q 570 233 570 160 m 527 713 q 485 814 527 779 q 383 849 442 849 q 285 818 327 849 q 243 734 243 787 q 404 548 243 625 q 527 713 527 603 z "
		},
		"9": {
			"ha": 762,
			"x_min": 81,
			"x_max": 680,
			"o": "m 680 334 q 189 -275 680 -245 l 169 -194 q 561 234 538 -169 l 554 234 q 338 137 486 137 q 150 220 218 137 q 81 418 81 303 q 160 631 81 541 q 380 722 238 722 q 592 624 505 722 q 680 334 680 526 m 562 318 q 505 552 562 473 q 368 630 447 630 q 244 574 289 630 q 199 439 199 517 q 253 288 199 353 q 404 224 307 224 q 562 318 507 224 z "
		},
		"\u0000": {
			"ha": 301,
			"x_min": 0,
			"x_max": 0,
			"o": ""
		},
		"\r": {
			"ha": 301,
			"x_min": 0,
			"x_max": 0,
			"o": ""
		},
		" ": {
			"ha": 301,
			"x_min": 0,
			"x_max": 0,
			"o": ""
		},
		"A": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 z "
		},
		"B": {
			"ha": 814,
			"x_min": 127,
			"x_max": 747,
			"o": "m 747 269 q 635 66 747 138 q 335 -4 526 -4 q 127 0 282 -4 q 137 464 137 210 q 127 883 137 703 l 209 883 q 304 885 233 883 q 409 887 376 887 q 691 692 691 887 q 557 490 691 541 l 557 484 q 747 269 747 450 m 632 258 q 336 425 632 425 q 241 420 282 425 q 248 97 241 239 q 339 91 274 91 q 571 134 503 91 q 632 258 632 172 m 577 659 q 388 799 577 799 q 234 789 293 799 q 239 513 239 740 q 313 511 273 511 q 508 542 447 511 q 577 659 577 576 z "
		},
		"C": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 z "
		},
		"D": {
			"ha": 892,
			"x_min": 127,
			"x_max": 825,
			"o": "m 825 473 q 702 136 825 281 q 363 -9 579 -9 q 127 0 292 -9 q 138 464 138 210 q 127 883 138 703 l 202 883 q 285 885 229 883 q 358 887 340 887 q 711 769 597 887 q 825 473 825 652 m 707 443 q 611 694 707 593 q 315 795 515 795 q 237 789 286 795 q 242 464 242 631 q 250 92 242 281 q 354 81 304 81 q 620 188 533 81 q 707 443 707 294 z "
		},
		"E": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 z "
		},
		"F": {
			"ha": 680,
			"x_min": 127,
			"x_max": 650,
			"o": "m 650 883 l 644 782 q 235 790 464 790 q 243 479 243 677 q 553 485 403 479 l 553 387 q 243 392 408 392 q 251 0 243 127 l 127 0 q 137 464 137 210 q 127 883 137 703 l 650 883 z "
		},
		"G": {
			"ha": 862,
			"x_min": 67,
			"x_max": 772,
			"o": "m 772 18 q 547 -18 661 -18 q 188 109 309 -18 q 67 423 67 236 q 199 754 67 612 q 564 895 330 895 q 723 876 648 895 l 706 763 q 526 790 594 790 q 274 691 361 790 q 187 444 187 591 q 287 185 187 296 q 570 74 387 74 q 669 84 603 74 q 658 248 658 155 q 648 402 658 327 l 772 402 q 766 213 766 313 q 772 18 766 170 z "
		},
		"H": {
			"ha": 905,
			"x_min": 127,
			"x_max": 778,
			"o": "m 778 0 l 649 0 q 656 420 656 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 127 883 137 690 l 256 883 q 248 506 248 689 l 657 506 q 649 883 657 653 l 778 883 q 768 464 768 694 q 778 0 768 211 z "
		},
		"I": {
			"ha": 384,
			"x_min": 127,
			"x_max": 256,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 z "
		},
		"J": {
			"ha": 577,
			"x_min": 15,
			"x_max": 465,
			"o": "m 465 883 q 457 654 460 780 q 455 378 455 529 q 437 198 455 269 q 379 78 418 127 q 279 5 340 29 q 133 -18 218 -18 q 15 -4 67 -18 l 25 95 q 125 73 73 73 q 228 89 184 73 q 297 141 271 106 q 335 228 323 176 q 346 363 346 279 q 336 883 346 671 l 465 883 z "
		},
		"K": {
			"ha": 822,
			"x_min": 127,
			"x_max": 807,
			"o": "m 807 0 l 659 0 q 581 118 659 7 q 418 330 492 246 q 269 443 317 443 l 248 443 q 255 0 248 284 l 127 0 q 138 464 138 210 q 127 883 138 703 l 255 883 q 248 517 248 703 l 264 517 q 450 690 301 517 q 599 883 599 863 l 740 883 q 595 715 740 863 q 380 517 450 568 l 380 510 q 640 241 458 480 q 807 0 807 20 z "
		},
		"L": {
			"ha": 680,
			"x_min": 127,
			"x_max": 665,
			"o": "m 665 100 l 661 0 l 127 0 q 136 464 136 168 q 127 883 136 719 l 254 883 q 245 464 245 746 q 238 92 245 232 q 665 100 441 92 z "
		},
		"M": {
			"ha": 1185,
			"x_min": 98,
			"x_max": 1073,
			"o": "m 1073 0 l 945 0 q 924 437 945 151 q 902 781 903 724 l 895 781 q 723 302 827 560 q 619 0 619 44 l 528 0 q 431 308 528 47 q 308 656 334 568 q 273 781 282 744 l 266 781 q 239 406 264 688 q 214 0 214 123 l 98 0 q 144 373 98 7 q 190 883 190 740 l 368 883 q 477 510 368 808 q 585 149 585 212 l 592 149 q 714 511 592 212 q 836 883 836 810 l 1010 883 q 1042 376 1010 740 q 1073 0 1073 12 z "
		},
		"N": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 z "
		},
		"O": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 z "
		},
		"P": {
			"ha": 768,
			"x_min": 127,
			"x_max": 723,
			"o": "m 723 664 q 606 433 723 509 q 290 356 488 356 q 247 357 265 356 q 258 0 247 210 l 127 0 q 138 464 138 193 q 127 883 138 697 l 224 883 q 314 885 240 883 q 439 887 387 887 q 646 828 569 887 q 723 664 723 768 m 610 625 q 372 799 610 799 q 241 789 313 799 q 245 444 245 678 q 304 443 269 443 q 610 625 610 443 z "
		},
		"Q": {
			"ha": 964,
			"x_min": 67,
			"x_max": 920,
			"o": "m 920 -294 l 793 -300 q 694 -68 750 -113 q 472 -26 642 -26 q 198 85 314 -26 q 67 419 67 211 q 205 781 67 644 q 492 901 327 901 q 766 789 650 901 q 897 455 897 664 q 829 184 897 300 q 664 24 768 81 l 664 17 q 829 -54 779 6 q 920 -294 882 -117 m 776 439 q 676 718 776 616 q 472 806 590 806 q 279 711 363 806 q 187 435 187 604 q 288 157 187 260 q 492 68 374 68 q 684 164 601 68 q 776 439 776 271 z "
		},
		"R": {
			"ha": 841,
			"x_min": 127,
			"x_max": 796,
			"o": "m 796 0 l 665 0 q 570 258 600 195 q 484 360 532 337 q 348 378 446 378 q 245 377 290 378 q 254 0 245 158 l 127 0 q 138 464 138 210 q 127 883 138 703 l 223 883 q 300 885 254 883 q 408 887 347 887 q 705 682 705 887 q 538 443 705 512 l 538 436 q 659 332 612 414 q 796 0 697 264 m 589 636 q 370 798 589 798 q 239 789 292 798 q 244 468 244 671 q 322 467 285 467 q 589 636 589 467 z "
		},
		"S": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 z "
		},
		"T": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 464 410 664 q 417 0 410 243 l 293 0 q 301 464 301 231 q 297 794 301 661 q 15 786 197 794 l 18 883 l 692 883 z "
		},
		"U": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 z "
		},
		"V": {
			"ha": 769,
			"x_min": 7,
			"x_max": 762,
			"o": "m 762 883 q 590 442 762 827 q 419 0 419 58 l 331 0 q 169 439 331 52 q 7 883 7 825 l 136 883 q 260 506 136 830 q 383 136 383 182 l 390 136 q 515 505 390 189 q 640 883 640 821 l 762 883 z "
		},
		"W": {
			"ha": 1231,
			"x_min": 7,
			"x_max": 1223,
			"o": "m 1223 883 q 1077 439 1223 833 q 930 0 930 45 l 842 0 q 736 346 842 60 q 604 745 620 656 l 595 745 q 479 338 582 650 q 382 0 382 46 l 294 0 q 151 464 294 69 q 7 883 7 858 l 136 883 q 239 532 136 855 q 342 136 342 208 l 349 136 q 454 529 349 212 q 558 883 558 846 l 677 883 q 785 507 677 839 q 894 136 894 175 l 901 136 q 1000 512 901 202 q 1099 883 1099 821 l 1223 883 z "
		},
		"X": {
			"ha": 775,
			"x_min": 7,
			"x_max": 768,
			"o": "m 768 0 l 621 0 q 519 195 621 26 q 373 416 420 359 l 366 416 q 239 201 325 361 q 150 0 150 32 l 7 0 q 151 234 7 20 q 327 478 292 446 l 327 485 q 176 693 290 526 q 59 883 59 865 l 205 883 q 286 726 205 863 q 401 551 366 591 l 408 551 q 517 728 442 593 q 593 883 593 863 l 736 883 q 612 700 736 864 q 448 498 492 543 l 448 492 q 631 234 500 434 q 768 0 768 27 z "
		},
		"Y": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 z "
		},
		"Z": {
			"ha": 720,
			"x_min": 67,
			"x_max": 653,
			"o": "m 653 113 l 649 0 l 67 0 l 73 81 q 322 468 159 201 q 498 789 498 756 l 498 796 q 77 779 349 796 l 80 883 l 633 883 l 628 799 q 390 416 551 690 q 222 102 222 131 l 222 95 q 653 113 363 95 z "
		},
		"À": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 500 960 l 418 960 q 321 1055 412 971 q 231 1146 231 1138 l 378 1146 q 439 1055 378 1139 q 500 960 500 971 z "
		},
		"Á": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 642 1146 q 552 1055 642 1138 q 455 960 462 971 l 374 960 q 435 1055 374 971 q 496 1146 496 1139 l 642 1146 z "
		},
		"Â": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 631 960 l 554 960 q 434 1067 547 969 q 314 960 321 969 l 237 960 q 301 1052 237 969 q 368 1146 365 1135 l 500 1146 q 567 1052 503 1135 q 631 960 631 969 z "
		},
		"Ã": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 703 1112 q 534 987 629 987 q 447 1003 499 987 q 361 1019 394 1019 q 245 962 302 1019 l 203 996 q 372 1122 277 1122 q 459 1105 407 1122 q 545 1089 512 1089 q 661 1146 604 1089 l 703 1112 z "
		},
		"Ä": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 383 1057 q 362 1003 383 1026 q 305 979 342 979 q 258 1000 275 979 q 241 1048 241 1020 q 261 1101 241 1078 q 319 1124 282 1124 q 367 1104 350 1124 q 383 1057 383 1085 m 640 1057 q 619 1003 640 1026 q 562 979 598 979 q 514 1000 531 979 q 497 1048 497 1020 q 518 1101 497 1078 q 576 1124 538 1124 q 623 1104 606 1124 q 640 1057 640 1085 z "
		},
		"Ā": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 606 1085 l 597 1001 l 276 1001 l 284 1085 l 606 1085 z "
		},
		"Ă": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 642 1112 q 434 964 577 964 q 225 1112 284 964 l 293 1146 q 433 1048 342 1048 q 574 1146 517 1048 l 642 1112 z "
		},
		"Å": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 587 1074 q 540 962 587 1004 q 432 921 493 921 q 338 956 376 921 q 299 1056 299 991 q 346 1166 299 1126 q 454 1207 393 1207 q 548 1173 509 1207 q 587 1074 587 1138 m 523 1069 q 501 1128 523 1107 q 448 1149 479 1149 q 389 1125 414 1149 q 363 1059 363 1101 q 385 1000 363 1021 q 437 979 406 979 q 497 1003 471 979 q 523 1069 523 1027 z "
		},
		"Ǻ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 665 1289 q 585 1227 665 1280 q 498 1164 505 1174 l 416 1164 q 464 1227 416 1174 q 511 1289 511 1281 l 665 1289 m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 558 1033 q 521 943 558 977 q 435 910 484 910 q 359 938 390 910 q 328 1018 328 966 q 366 1107 328 1074 q 452 1139 404 1139 q 527 1112 496 1139 q 558 1033 558 1084 m 504 1028 q 488 1073 504 1057 q 448 1089 471 1089 q 402 1071 422 1089 q 382 1021 382 1053 q 399 976 382 992 q 439 960 416 960 q 484 979 465 960 q 504 1028 504 997 z "
		},
		"Ą": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 q 681 -159 681 -56 q 750 -237 681 -237 q 808 -227 777 -237 l 827 -319 q 735 -330 791 -330 q 628 -298 669 -330 q 587 -183 587 -267 q 705 0 587 -81 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 z "
		},
		"Æ": {
			"ha": 1131,
			"x_min": 7,
			"x_max": 1086,
			"o": "m 1086 102 l 1082 0 l 524 0 q 533 286 533 151 l 220 286 q 140 0 140 49 l 7 0 q 185 431 7 24 q 362 883 362 838 l 1048 883 l 1044 782 q 631 790 838 790 q 637 506 637 686 q 979 510 797 506 l 976 413 q 637 419 807 419 q 642 92 637 245 q 1086 102 873 92 m 533 374 q 524 790 533 616 l 418 790 q 250 374 418 764 l 533 374 z "
		},
		"Ǽ": {
			"ha": 1131,
			"x_min": 7,
			"x_max": 1086,
			"o": "m 1086 102 l 1082 0 l 524 0 q 533 286 533 151 l 220 286 q 140 0 140 49 l 7 0 q 185 431 7 24 q 362 883 362 838 l 1048 883 l 1044 782 q 631 790 838 790 q 637 506 637 686 q 979 510 797 506 l 976 413 q 637 419 807 419 q 642 92 637 245 q 1086 102 873 92 m 533 374 q 524 790 533 616 l 418 790 q 250 374 418 764 l 533 374 m 829 1146 q 739 1055 829 1138 q 642 960 648 971 l 560 960 q 621 1055 560 971 q 682 1146 682 1139 l 829 1146 z "
		},
		"Ć": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 m 687 1146 q 597 1055 687 1138 q 500 960 507 971 l 418 960 q 479 1055 418 971 q 541 1146 541 1139 l 687 1146 z "
		},
		"Ĉ": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 m 694 960 l 616 960 q 496 1067 610 969 q 376 960 383 969 l 299 960 q 363 1052 299 969 q 431 1146 427 1135 l 562 1146 q 630 1052 566 1135 q 694 960 694 969 z "
		},
		"Č": {
			"ha": 763,
			"x_min": 67,
			"x_max": 728,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 m 728 1146 q 664 1054 728 1137 q 596 960 600 971 l 465 960 q 397 1054 461 971 q 333 1146 333 1137 l 410 1146 q 530 1039 417 1137 q 650 1146 644 1137 l 728 1146 z "
		},
		"Ċ": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 m 586 1061 q 564 1001 586 1027 q 500 976 541 976 q 447 998 466 976 q 427 1051 427 1020 q 450 1110 427 1085 q 514 1135 473 1135 q 567 1113 547 1135 q 586 1061 586 1091 z "
		},
		"Ç": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 600 -18 q 429 -10 478 -18 l 421 -68 q 554 -198 554 -100 q 391 -349 554 -349 l 382 -286 q 434 -264 414 -286 q 454 -213 454 -243 q 351 -117 454 -136 l 374 1 q 176 118 254 33 q 67 422 67 237 q 190 746 67 612 q 550 895 326 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 265 684 355 793 q 187 443 187 588 q 278 193 187 295 q 555 79 380 79 q 726 108 621 79 z "
		},
		"Ď": {
			"ha": 892,
			"x_min": 127,
			"x_max": 825,
			"o": "m 825 473 q 702 136 825 281 q 363 -9 579 -9 q 127 0 292 -9 q 138 464 138 210 q 127 883 138 703 l 202 883 q 285 885 229 883 q 358 887 340 887 q 711 769 597 887 q 825 473 825 652 m 707 443 q 611 694 707 593 q 315 795 515 795 q 237 789 286 795 q 242 464 242 631 q 250 92 242 281 q 354 81 304 81 q 620 188 533 81 q 707 443 707 294 m 639 1146 q 575 1054 639 1137 q 507 960 511 971 l 376 960 q 308 1054 372 971 q 244 1146 244 1137 l 321 1146 q 441 1039 328 1137 q 562 1146 555 1137 l 639 1146 z "
		},
		"Đ": {
			"ha": 892,
			"x_min": 29,
			"x_max": 825,
			"o": "m 825 473 q 709 143 825 281 q 363 -9 579 -9 q 127 0 292 -9 q 138 397 138 169 q 29 385 115 397 l 35 498 q 138 496 117 496 q 127 883 138 731 l 202 883 q 288 885 230 883 q 372 887 345 887 q 712 768 600 887 q 825 473 825 650 m 707 443 q 614 693 707 591 q 331 795 520 795 q 237 789 289 795 q 242 496 243 680 q 507 518 280 496 l 503 409 q 242 404 269 409 q 250 92 242 216 q 356 81 304 81 q 627 195 533 81 q 707 443 707 292 z "
		},
		"È": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 461 960 l 380 960 q 283 1055 373 971 q 193 1146 193 1138 l 339 1146 q 400 1055 339 1139 q 461 960 461 971 z "
		},
		"É": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 609 1146 q 519 1055 609 1138 q 422 960 429 971 l 340 960 q 401 1055 340 971 q 463 1146 463 1139 l 609 1146 z "
		},
		"Ê": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 600 960 l 523 960 q 403 1067 516 969 q 283 960 290 969 l 205 960 q 270 1052 205 969 q 337 1146 334 1135 l 469 1146 q 536 1052 472 1135 q 600 960 600 969 z "
		},
		"Ě": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 602 1146 q 538 1054 602 1137 q 471 960 474 971 l 339 960 q 272 1054 336 971 q 208 1146 208 1137 l 285 1146 q 405 1039 292 1137 q 525 1146 518 1137 l 602 1146 z "
		},
		"Ë": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 328 1057 q 307 1003 328 1026 q 250 979 286 979 q 202 1000 219 979 q 185 1048 185 1020 q 206 1101 185 1078 q 264 1124 227 1124 q 311 1104 294 1124 q 328 1057 328 1085 m 584 1057 q 563 1003 584 1026 q 506 979 543 979 q 458 1000 475 979 q 441 1048 441 1020 q 462 1101 441 1078 q 520 1124 483 1124 q 567 1104 551 1124 q 584 1057 584 1085 z "
		},
		"Ē": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 561 1085 l 553 1001 l 231 1001 l 239 1085 l 561 1085 z "
		},
		"Ĕ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 610 1112 q 402 964 545 964 q 193 1112 252 964 l 261 1146 q 401 1048 310 1048 q 542 1146 485 1048 l 610 1112 z "
		},
		"Ė": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 479 1061 q 456 1001 479 1027 q 393 976 434 976 q 339 998 359 976 q 320 1051 320 1020 q 343 1110 320 1085 q 407 1135 366 1135 q 459 1113 440 1135 q 479 1061 479 1091 z "
		},
		"Ę": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 q 532 -162 532 -78 q 601 -237 532 -237 q 659 -227 628 -237 l 678 -319 q 586 -330 642 -330 q 479 -298 519 -330 q 438 -200 438 -267 q 559 -7 438 -85 l 559 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 639 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 568 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 z "
		},
		"Ĝ": {
			"ha": 862,
			"x_min": 67,
			"x_max": 772,
			"o": "m 772 18 q 547 -18 661 -18 q 188 109 309 -18 q 67 423 67 236 q 199 754 67 612 q 564 895 330 895 q 723 876 648 895 l 706 763 q 526 790 594 790 q 274 691 361 790 q 187 444 187 591 q 287 185 187 296 q 570 74 387 74 q 669 84 603 74 q 658 248 658 155 q 648 402 658 327 l 772 402 q 766 213 766 313 q 772 18 766 170 m 711 960 l 633 960 q 513 1067 627 969 q 393 960 400 969 l 316 960 q 380 1052 316 969 q 448 1146 444 1135 l 579 1146 q 647 1052 583 1135 q 711 960 711 969 z "
		},
		"Ğ": {
			"ha": 862,
			"x_min": 67,
			"x_max": 772,
			"o": "m 772 18 q 547 -18 661 -18 q 188 109 309 -18 q 67 423 67 236 q 199 754 67 612 q 564 895 330 895 q 723 876 648 895 l 706 763 q 526 790 594 790 q 274 691 361 790 q 187 444 187 591 q 287 185 187 296 q 570 74 387 74 q 669 84 603 74 q 658 248 658 155 q 648 402 658 327 l 772 402 q 766 213 766 313 q 772 18 766 170 m 717 1112 q 509 964 652 964 q 300 1112 359 964 l 368 1146 q 508 1048 417 1048 q 649 1146 592 1048 l 717 1112 z "
		},
		"Ġ": {
			"ha": 862,
			"x_min": 67,
			"x_max": 772,
			"o": "m 772 18 q 547 -18 661 -18 q 188 109 309 -18 q 67 423 67 236 q 199 754 67 612 q 564 895 330 895 q 723 876 648 895 l 706 763 q 526 790 594 790 q 274 691 361 790 q 187 444 187 591 q 287 185 187 296 q 570 74 387 74 q 669 84 603 74 q 658 248 658 155 q 648 402 658 327 l 772 402 q 766 213 766 313 q 772 18 766 170 m 591 1061 q 568 1001 591 1027 q 505 976 546 976 q 451 998 471 976 q 432 1051 432 1020 q 455 1110 432 1085 q 519 1135 478 1135 q 571 1113 552 1135 q 591 1061 591 1091 z "
		},
		"Ģ": {
			"ha": 862,
			"x_min": 67,
			"x_max": 772,
			"o": "m 772 18 q 547 -18 661 -18 q 188 109 309 -18 q 67 423 67 236 q 199 754 67 612 q 564 895 330 895 q 723 876 648 895 l 706 763 q 526 790 594 790 q 274 691 361 790 q 187 444 187 591 q 287 185 187 296 q 570 74 387 74 q 669 84 603 74 q 658 248 658 155 q 648 402 658 327 l 772 402 q 766 213 766 313 q 772 18 766 170 m 564 -168 q 528 -276 564 -220 q 452 -357 492 -332 l 426 -330 q 476 -220 476 -267 q 408 -154 408 -202 q 426 -97 408 -121 q 482 -73 445 -73 q 543 -99 522 -73 q 564 -168 564 -125 z "
		},
		"Ĥ": {
			"ha": 905,
			"x_min": 127,
			"x_max": 778,
			"o": "m 778 0 l 649 0 q 656 420 656 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 127 883 137 690 l 256 883 q 248 506 248 689 l 657 506 q 649 883 657 653 l 778 883 q 768 464 768 694 q 778 0 768 211 m 654 960 l 576 960 q 456 1067 570 969 q 336 960 343 969 l 259 960 q 323 1052 259 969 q 391 1146 387 1135 l 522 1146 q 590 1052 526 1135 q 654 960 654 969 z "
		},
		"Ħ": {
			"ha": 905,
			"x_min": 53,
			"x_max": 852,
			"o": "m 852 708 l 846 635 l 769 635 q 768 464 768 552 q 778 0 768 211 l 649 0 q 656 420 656 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 136 635 137 552 l 53 635 l 60 708 l 134 708 q 127 883 132 799 l 256 883 q 250 708 252 794 l 654 708 q 649 883 652 788 l 778 883 q 770 708 773 800 l 852 708 m 657 506 q 656 635 657 564 l 249 635 q 248 506 248 570 l 657 506 z "
		},
		"Ì": {
			"ha": 384,
			"x_min": -14,
			"x_max": 256,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 254 960 l 173 960 q 76 1055 166 971 q -14 1146 -14 1138 l 132 1146 q 193 1055 132 1139 q 254 960 254 971 z "
		},
		"Í": {
			"ha": 384,
			"x_min": 127,
			"x_max": 401,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 401 1146 q 311 1055 401 1138 q 214 960 220 971 l 132 960 q 193 1055 132 971 q 254 1146 254 1139 l 401 1146 z "
		},
		"Î": {
			"ha": 384,
			"x_min": -3,
			"x_max": 391,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 391 960 l 314 960 q 194 1067 307 969 q 74 960 81 969 l -3 960 q 61 1052 -3 969 q 128 1146 125 1135 l 260 1146 q 327 1052 263 1135 q 391 960 391 969 z "
		},
		"Ĩ": {
			"ha": 384,
			"x_min": -60,
			"x_max": 441,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 441 1112 q 271 987 366 987 q 184 1003 237 987 q 99 1019 132 1019 q -18 962 39 1019 l -60 996 q 110 1122 15 1122 q 197 1105 144 1122 q 282 1089 250 1089 q 399 1146 342 1089 l 441 1112 z "
		},
		"Ï": {
			"ha": 384,
			"x_min": -5,
			"x_max": 393,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 137 1057 q 116 1003 137 1026 q 59 979 96 979 q 12 1000 28 979 q -5 1048 -5 1020 q 15 1101 -5 1078 q 73 1124 36 1124 q 120 1104 104 1124 q 137 1057 137 1085 m 393 1057 q 373 1003 393 1026 q 315 979 352 979 q 268 1000 285 979 q 251 1048 251 1020 q 272 1101 251 1078 q 330 1124 292 1124 q 377 1104 360 1124 q 393 1057 393 1085 z "
		},
		"Ī": {
			"ha": 384,
			"x_min": 29,
			"x_max": 359,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 359 1085 l 351 1001 l 29 1001 l 37 1085 l 359 1085 z "
		},
		"Ĭ": {
			"ha": 384,
			"x_min": -16,
			"x_max": 401,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 401 1112 q 193 964 336 964 q -16 1112 43 964 l 52 1146 q 192 1048 101 1048 q 333 1146 276 1048 l 401 1112 z "
		},
		"İ": {
			"ha": 384,
			"x_min": 121,
			"x_max": 280,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 280 1061 q 258 1001 280 1027 q 195 976 235 976 q 141 998 160 976 q 121 1051 121 1020 q 144 1110 121 1085 q 208 1135 168 1135 q 261 1113 241 1135 q 280 1061 280 1091 z "
		},
		"Į": {
			"ha": 384,
			"x_min": 16,
			"x_max": 262,
			"o": "m 256 0 q 106 -138 106 -52 q 185 -237 106 -237 q 243 -227 212 -237 l 262 -319 q 177 -330 227 -330 q 60 -293 104 -330 q 16 -167 16 -256 q 127 0 16 -75 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 z "
		},
		"Ĳ": {
			"ha": 968,
			"x_min": 127,
			"x_max": 855,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 855 883 q 848 654 850 780 q 846 378 846 529 q 827 198 846 269 q 770 78 809 127 q 670 5 731 29 q 524 -18 609 -18 q 406 -4 458 -18 l 416 95 q 516 73 464 73 q 618 89 574 73 q 688 141 662 106 q 725 228 714 176 q 736 363 736 279 q 726 883 736 671 l 855 883 z "
		},
		"Ĵ": {
			"ha": 577,
			"x_min": 15,
			"x_max": 592,
			"o": "m 465 883 q 457 654 460 780 q 455 378 455 529 q 437 198 455 269 q 379 78 418 127 q 279 5 340 29 q 133 -18 218 -18 q 15 -4 67 -18 l 25 95 q 125 73 73 73 q 228 89 184 73 q 297 141 271 106 q 335 228 323 176 q 346 363 346 279 q 336 883 346 671 l 465 883 m 592 960 l 515 960 q 395 1067 508 969 q 275 960 281 969 l 197 960 q 261 1052 197 969 q 329 1146 326 1135 l 460 1146 q 528 1052 464 1135 q 592 960 592 969 z "
		},
		"Ķ": {
			"ha": 822,
			"x_min": 127,
			"x_max": 807,
			"o": "m 807 0 l 659 0 q 581 118 659 7 q 418 330 492 246 q 269 443 317 443 l 248 443 q 255 0 248 284 l 127 0 q 138 464 138 210 q 127 883 138 703 l 255 883 q 248 517 248 703 l 264 517 q 450 690 301 517 q 599 883 599 863 l 740 883 q 595 715 740 863 q 380 517 450 568 l 380 510 q 640 241 458 480 q 807 0 807 20 m 527 -168 q 491 -276 527 -220 q 416 -357 455 -332 l 389 -330 q 439 -220 439 -267 q 371 -154 371 -202 q 390 -97 371 -121 q 446 -73 408 -73 q 506 -99 486 -73 q 527 -168 527 -125 z "
		},
		"Ĺ": {
			"ha": 680,
			"x_min": 127,
			"x_max": 665,
			"o": "m 665 100 l 661 0 l 127 0 q 136 464 136 168 q 127 883 136 719 l 254 883 q 245 464 245 746 q 238 92 245 232 q 665 100 441 92 m 402 1146 q 312 1055 402 1138 q 215 960 222 971 l 134 960 q 195 1055 134 971 q 256 1146 256 1139 l 402 1146 z "
		},
		"Ľ": {
			"ha": 680,
			"x_min": 127,
			"x_max": 684,
			"o": "m 665 100 l 661 0 l 127 0 q 136 464 136 168 q 127 883 136 719 l 254 883 q 245 464 245 746 q 238 92 245 232 q 665 100 441 92 m 684 796 q 644 677 684 739 q 561 589 604 616 l 532 618 q 587 739 587 688 q 511 812 511 759 q 532 875 511 848 q 593 901 553 901 q 661 872 637 901 q 684 796 684 843 z "
		},
		"Ļ": {
			"ha": 680,
			"x_min": 127,
			"x_max": 665,
			"o": "m 665 100 l 661 0 l 127 0 q 136 464 136 168 q 127 883 136 719 l 254 883 q 245 464 245 746 q 238 92 245 232 q 665 100 441 92 m 469 -168 q 433 -276 469 -220 q 358 -357 397 -332 l 332 -330 q 382 -220 382 -267 q 313 -154 313 -202 q 332 -97 313 -121 q 388 -73 351 -73 q 449 -99 428 -73 q 469 -168 469 -125 z "
		},
		"Ł": {
			"ha": 680,
			"x_min": -16,
			"x_max": 665,
			"o": "m 665 100 l 661 0 l 127 0 q 135 352 134 132 l 33 280 l -16 353 l 136 450 q 127 883 136 719 l 254 883 q 245 520 246 762 l 514 709 l 577 630 l 245 423 q 238 92 245 217 q 665 100 441 92 z "
		},
		"Ŀ": {
			"ha": 680,
			"x_min": 127,
			"x_max": 665,
			"o": "m 665 100 l 661 0 l 127 0 q 136 464 136 168 q 127 883 136 719 l 254 883 q 245 464 245 746 q 238 92 245 232 q 665 100 441 92 m 657 482 q 635 422 657 448 q 572 397 612 397 q 518 419 537 397 q 498 472 498 441 q 522 531 498 506 q 585 556 545 556 q 638 534 618 556 q 657 482 657 512 z "
		},
		"Ń": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 m 686 1146 q 595 1055 686 1138 q 498 960 505 971 l 417 960 q 478 1055 417 971 q 539 1146 539 1139 l 686 1146 z "
		},
		"Ň": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 m 671 1146 q 607 1054 671 1137 q 539 960 543 971 l 408 960 q 340 1054 404 971 q 276 1146 276 1137 l 353 1146 q 473 1039 360 1137 q 593 1146 587 1137 l 671 1146 z "
		},
		"Ñ": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 m 721 1112 q 551 987 646 987 q 464 1003 517 987 q 379 1019 412 1019 q 262 962 319 1019 l 220 996 q 390 1122 295 1122 q 477 1105 425 1122 q 562 1089 530 1089 q 679 1146 622 1089 l 721 1112 z "
		},
		"Ņ": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 m 542 -168 q 506 -276 542 -220 q 431 -357 470 -332 l 404 -330 q 454 -220 454 -267 q 386 -154 386 -202 q 405 -97 386 -121 q 460 -73 423 -73 q 521 -99 500 -73 q 542 -168 542 -125 z "
		},
		"Ò": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 543 960 l 461 960 q 364 1055 454 971 q 274 1146 274 1138 l 420 1146 q 481 1055 420 1139 q 543 960 543 971 z "
		},
		"Ó": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 715 1146 q 625 1055 715 1138 q 528 960 535 971 l 447 960 q 508 1055 447 971 q 569 1146 569 1139 l 715 1146 z "
		},
		"Ô": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 685 960 l 608 960 q 488 1067 601 969 q 368 960 374 969 l 290 960 q 354 1052 290 969 q 422 1146 418 1135 l 553 1146 q 621 1052 557 1135 q 685 960 685 969 z "
		},
		"Õ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 768 1112 q 598 987 693 987 q 511 1003 564 987 q 426 1019 458 1019 q 309 962 366 1019 l 267 996 q 437 1122 342 1122 q 524 1105 471 1122 q 609 1089 576 1089 q 726 1146 669 1089 l 768 1112 z "
		},
		"Ö": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 438 1057 q 417 1003 438 1026 q 360 979 397 979 q 313 1000 330 979 q 296 1048 296 1020 q 316 1101 296 1078 q 374 1124 337 1124 q 421 1104 405 1124 q 438 1057 438 1085 m 694 1057 q 674 1003 694 1026 q 616 979 653 979 q 569 1000 586 979 q 552 1048 552 1020 q 573 1101 552 1078 q 631 1124 593 1124 q 678 1104 661 1124 q 694 1057 694 1085 z "
		},
		"Ō": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 663 1085 l 654 1001 l 333 1001 l 341 1085 l 663 1085 z "
		},
		"Ŏ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 699 1112 q 491 964 634 964 q 282 1112 341 964 l 350 1146 q 490 1048 399 1048 q 631 1146 574 1048 l 699 1112 z "
		},
		"Ő": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 508 1146 q 451 1051 508 1131 q 390 960 395 971 l 326 960 q 350 1052 326 971 q 374 1146 374 1132 l 508 1146 m 752 1146 q 695 1051 752 1131 q 634 960 639 971 l 570 960 q 596 1052 575 971 q 618 1146 618 1132 l 752 1146 z "
		},
		"Ø": {
			"ha": 964,
			"x_min": 44,
			"x_max": 920,
			"o": "m 920 897 q 813 735 920 865 q 897 455 897 618 q 771 106 897 239 q 473 -26 645 -26 q 222 64 332 -26 q 125 -77 125 -52 l 44 -56 q 163 123 44 -20 q 68 419 68 243 q 196 770 68 640 q 492 901 323 901 q 758 797 644 901 q 837 918 837 894 l 920 897 m 686 711 q 473 808 598 808 q 275 707 362 808 q 188 437 188 606 q 243 217 188 309 q 686 711 401 391 m 777 441 q 733 640 777 555 q 296 151 578 469 q 492 70 381 70 q 690 173 603 70 q 777 441 777 275 z "
		},
		"Ǿ": {
			"ha": 964,
			"x_min": 44,
			"x_max": 920,
			"o": "m 920 897 q 813 735 920 865 q 897 455 897 618 q 771 106 897 239 q 473 -26 645 -26 q 222 64 332 -26 q 125 -77 125 -52 l 44 -56 q 163 123 44 -20 q 68 419 68 243 q 196 770 68 640 q 492 901 323 901 q 758 797 644 901 q 837 918 837 894 l 920 897 m 686 711 q 473 808 598 808 q 275 707 362 808 q 188 437 188 606 q 243 217 188 309 q 686 711 401 391 m 777 441 q 733 640 777 555 q 296 151 578 469 q 492 70 381 70 q 690 173 603 70 q 777 441 777 275 m 717 1146 q 627 1055 717 1138 q 530 960 536 971 l 448 960 q 509 1055 448 971 q 570 1146 570 1139 l 717 1146 z "
		},
		"Œ": {
			"ha": 1252,
			"x_min": 67,
			"x_max": 1207,
			"o": "m 1207 102 l 1203 0 l 650 0 q 463 -25 552 -25 q 159 118 267 -25 q 67 425 67 241 q 170 746 67 609 q 475 901 286 901 q 663 883 556 901 l 1170 883 l 1165 782 q 755 790 928 790 q 759 506 759 686 q 1101 510 897 506 l 1097 413 q 759 419 928 419 q 768 92 759 245 q 1207 102 928 92 m 652 464 q 647 786 652 654 q 462 808 562 808 q 257 694 330 808 q 193 444 193 594 q 266 189 193 296 q 476 71 345 71 q 647 98 583 71 q 652 464 652 249 z "
		},
		"Ŕ": {
			"ha": 841,
			"x_min": 127,
			"x_max": 796,
			"o": "m 796 0 l 665 0 q 570 258 600 195 q 484 360 532 337 q 348 378 446 378 q 245 377 290 378 q 254 0 245 158 l 127 0 q 138 464 138 210 q 127 883 138 703 l 223 883 q 300 885 254 883 q 408 887 347 887 q 705 682 705 887 q 538 443 705 512 l 538 436 q 659 332 612 414 q 796 0 697 264 m 589 636 q 370 798 589 798 q 239 789 292 798 q 244 468 244 671 q 322 467 285 467 q 589 636 589 467 m 631 1146 q 541 1055 631 1138 q 444 960 451 971 l 363 960 q 424 1055 363 971 q 485 1146 485 1139 l 631 1146 z "
		},
		"Ř": {
			"ha": 841,
			"x_min": 127,
			"x_max": 796,
			"o": "m 796 0 l 665 0 q 570 258 600 195 q 484 360 532 337 q 348 378 446 378 q 245 377 290 378 q 254 0 245 158 l 127 0 q 138 464 138 210 q 127 883 138 703 l 223 883 q 300 885 254 883 q 408 887 347 887 q 705 682 705 887 q 538 443 705 512 l 538 436 q 659 332 612 414 q 796 0 697 264 m 589 636 q 370 798 589 798 q 239 789 292 798 q 244 468 244 671 q 322 467 285 467 q 589 636 589 467 m 613 1146 q 549 1054 613 1137 q 481 960 485 971 l 350 960 q 282 1054 347 971 q 218 1146 218 1137 l 296 1146 q 416 1039 302 1137 q 536 1146 529 1137 l 613 1146 z "
		},
		"Ŗ": {
			"ha": 841,
			"x_min": 127,
			"x_max": 796,
			"o": "m 796 0 l 665 0 q 570 258 600 195 q 484 360 532 337 q 348 378 446 378 q 245 377 290 378 q 254 0 245 158 l 127 0 q 138 464 138 210 q 127 883 138 703 l 223 883 q 300 885 254 883 q 408 887 347 887 q 705 682 705 887 q 538 443 705 512 l 538 436 q 659 332 612 414 q 796 0 697 264 m 589 636 q 370 798 589 798 q 239 789 292 798 q 244 468 244 671 q 322 467 285 467 q 589 636 589 467 m 526 -168 q 490 -276 526 -220 q 415 -357 454 -332 l 389 -330 q 439 -220 439 -267 q 370 -154 370 -202 q 389 -97 370 -121 q 445 -73 408 -73 q 506 -99 485 -73 q 526 -168 526 -125 z "
		},
		"Ś": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 m 595 1146 q 505 1055 595 1138 q 408 960 415 971 l 327 960 q 388 1055 327 971 q 449 1146 449 1139 l 595 1146 z "
		},
		"Ŝ": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 m 557 960 l 479 960 q 359 1067 473 969 q 239 960 246 969 l 162 960 q 226 1052 162 969 q 294 1146 290 1135 l 425 1146 q 493 1052 429 1135 q 557 960 557 969 z "
		},
		"Š": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 m 574 1146 q 510 1054 574 1137 q 442 960 446 971 l 311 960 q 243 1054 307 971 q 179 1146 179 1137 l 256 1146 q 376 1039 263 1137 q 496 1146 490 1137 l 574 1146 z "
		},
		"Ş": {
			"ha": 710,
			"x_min": 63,
			"x_max": 643,
			"o": "m 643 229 q 322 -22 643 -12 l 315 -68 q 448 -198 448 -100 q 286 -349 448 -349 l 276 -286 q 328 -264 308 -286 q 348 -213 348 -243 q 245 -117 348 -136 l 264 -22 q 63 7 154 -19 l 90 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 z "
		},
		"Ș": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 m 374 -168 q 338 -276 374 -220 q 263 -357 302 -332 l 237 -330 q 287 -220 287 -267 q 218 -154 218 -202 q 237 -97 218 -121 q 293 -73 256 -73 q 354 -99 333 -73 q 374 -168 374 -125 z "
		},
		"Ť": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 464 410 664 q 417 0 410 243 l 293 0 q 301 464 301 231 q 297 794 301 661 q 15 786 197 794 l 18 883 l 692 883 m 555 1146 q 491 1054 555 1137 q 424 960 427 971 l 292 960 q 225 1054 289 971 q 161 1146 161 1137 l 238 1146 q 358 1039 245 1137 q 478 1146 471 1137 l 555 1146 z "
		},
		"Ţ": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 464 410 664 q 417 0 410 243 l 293 0 q 301 464 301 231 q 297 794 301 661 q 15 786 197 794 l 18 883 l 692 883 m 446 -168 q 410 -276 446 -220 q 334 -357 374 -332 l 308 -330 q 358 -220 358 -267 q 290 -154 290 -202 q 308 -97 290 -121 q 364 -73 327 -73 q 425 -99 404 -73 q 446 -168 446 -125 z "
		},
		"Ŧ": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 505 410 678 l 647 505 l 640 432 l 410 432 q 417 0 410 225 l 293 0 q 301 432 300 215 l 64 432 l 71 505 l 301 505 q 297 794 300 675 q 15 786 197 794 l 18 883 l 692 883 z "
		},
		"Ù": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 538 960 l 457 960 q 360 1055 450 971 q 270 1146 270 1138 l 416 1146 q 477 1055 416 1139 q 538 960 538 971 z "
		},
		"Ú": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 692 1146 q 602 1055 692 1138 q 505 960 512 971 l 424 960 q 485 1055 424 971 q 546 1146 546 1139 l 692 1146 z "
		},
		"Û": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 674 960 l 597 960 q 477 1067 590 969 q 357 960 363 969 l 279 960 q 343 1052 279 969 q 411 1146 408 1135 l 543 1146 q 610 1052 546 1135 q 674 960 674 969 z "
		},
		"Ũ": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 745 1112 q 575 987 670 987 q 488 1003 541 987 q 403 1019 435 1019 q 286 962 343 1019 l 244 996 q 414 1122 319 1122 q 501 1105 448 1122 q 586 1089 553 1089 q 703 1146 646 1089 l 745 1112 z "
		},
		"Ü": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 425 1057 q 404 1003 425 1026 q 347 979 383 979 q 299 1000 316 979 q 282 1048 282 1020 q 303 1101 282 1078 q 361 1124 323 1124 q 408 1104 391 1124 q 425 1057 425 1085 m 681 1057 q 660 1003 681 1026 q 603 979 640 979 q 555 1000 572 979 q 538 1048 538 1020 q 559 1101 538 1078 q 617 1124 580 1124 q 664 1104 648 1124 q 681 1057 681 1085 z "
		},
		"Ū": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 644 1085 l 635 1001 l 314 1001 l 322 1085 l 644 1085 z "
		},
		"Ŭ": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 693 1112 q 486 964 629 964 q 277 1112 336 964 l 345 1146 q 484 1048 393 1048 q 625 1146 568 1048 l 693 1112 z "
		},
		"Ů": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 626 1074 q 579 962 626 1004 q 471 921 532 921 q 377 956 416 921 q 338 1056 338 991 q 385 1166 338 1126 q 493 1207 432 1207 q 587 1173 549 1207 q 626 1074 626 1138 m 562 1069 q 541 1128 562 1107 q 488 1149 519 1149 q 428 1125 454 1149 q 402 1059 402 1101 q 424 1000 402 1021 q 477 979 446 979 q 536 1003 511 979 q 562 1069 562 1027 z "
		},
		"Ű": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 494 1146 q 438 1051 494 1131 q 376 960 381 971 l 313 960 q 336 1052 313 971 q 360 1146 360 1132 l 494 1146 m 739 1146 q 682 1051 739 1131 q 621 960 625 971 l 557 960 q 583 1052 562 971 q 604 1146 604 1132 l 739 1146 z "
		},
		"Ų": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 643 -319 q 551 -330 608 -330 q 489 -321 516 -330 q 443 -296 462 -313 q 413 -250 423 -278 q 403 -183 403 -222 q 498 -24 403 -91 l 498 -18 q 471 -18 491 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 163 256 212 q 362 93 316 115 q 474 71 408 71 q 592 92 546 71 q 667 160 637 112 q 708 283 696 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 q 831 644 833 755 q 830 436 830 532 q 633 12 830 99 q 496 -152 496 -48 q 566 -237 496 -237 q 624 -227 593 -237 l 643 -319 z "
		},
		"Ẁ": {
			"ha": 1231,
			"x_min": 7,
			"x_max": 1223,
			"o": "m 1223 883 q 1077 439 1223 833 q 930 0 930 45 l 842 0 q 736 346 842 60 q 604 745 620 656 l 595 745 q 479 338 582 650 q 382 0 382 46 l 294 0 q 151 464 294 69 q 7 883 7 858 l 136 883 q 239 532 136 855 q 342 136 342 208 l 349 136 q 454 529 349 212 q 558 883 558 846 l 677 883 q 785 507 677 839 q 894 136 894 175 l 901 136 q 1000 512 901 202 q 1099 883 1099 821 l 1223 883 m 668 960 l 587 960 q 490 1055 580 971 q 399 1146 399 1138 l 546 1146 q 607 1055 546 1139 q 668 960 668 971 z "
		},
		"Ẃ": {
			"ha": 1231,
			"x_min": 7,
			"x_max": 1223,
			"o": "m 1223 883 q 1077 439 1223 833 q 930 0 930 45 l 842 0 q 736 346 842 60 q 604 745 620 656 l 595 745 q 479 338 582 650 q 382 0 382 46 l 294 0 q 151 464 294 69 q 7 883 7 858 l 136 883 q 239 532 136 855 q 342 136 342 208 l 349 136 q 454 529 349 212 q 558 883 558 846 l 677 883 q 785 507 677 839 q 894 136 894 175 l 901 136 q 1000 512 901 202 q 1099 883 1099 821 l 1223 883 m 830 1146 q 740 1055 830 1138 q 643 960 650 971 l 562 960 q 623 1055 562 971 q 684 1146 684 1139 l 830 1146 z "
		},
		"Ŵ": {
			"ha": 1231,
			"x_min": 7,
			"x_max": 1223,
			"o": "m 1223 883 q 1077 439 1223 833 q 930 0 930 45 l 842 0 q 736 346 842 60 q 604 745 620 656 l 595 745 q 479 338 582 650 q 382 0 382 46 l 294 0 q 151 464 294 69 q 7 883 7 858 l 136 883 q 239 532 136 855 q 342 136 342 208 l 349 136 q 454 529 349 212 q 558 883 558 846 l 677 883 q 785 507 677 839 q 894 136 894 175 l 901 136 q 1000 512 901 202 q 1099 883 1099 821 l 1223 883 m 812 960 l 734 960 q 614 1067 728 969 q 494 960 501 969 l 417 960 q 481 1052 417 969 q 549 1146 545 1135 l 680 1146 q 748 1052 684 1135 q 812 960 812 969 z "
		},
		"Ẅ": {
			"ha": 1231,
			"x_min": 7,
			"x_max": 1223,
			"o": "m 1223 883 q 1077 439 1223 833 q 930 0 930 45 l 842 0 q 736 346 842 60 q 604 745 620 656 l 595 745 q 479 338 582 650 q 382 0 382 46 l 294 0 q 151 464 294 69 q 7 883 7 858 l 136 883 q 239 532 136 855 q 342 136 342 208 l 349 136 q 454 529 349 212 q 558 883 558 846 l 677 883 q 785 507 677 839 q 894 136 894 175 l 901 136 q 1000 512 901 202 q 1099 883 1099 821 l 1223 883 m 564 1057 q 543 1003 564 1026 q 486 979 522 979 q 438 1000 455 979 q 421 1048 421 1020 q 442 1101 421 1078 q 500 1124 463 1124 q 547 1104 530 1124 q 564 1057 564 1085 m 820 1057 q 799 1003 820 1026 q 742 979 779 979 q 694 1000 711 979 q 677 1048 677 1020 q 698 1101 677 1078 q 756 1124 719 1124 q 803 1104 787 1124 q 820 1057 820 1085 z "
		},
		"Ỳ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 437 960 l 356 960 q 259 1055 349 971 q 169 1146 169 1138 l 315 1146 q 376 1055 315 1139 q 437 960 437 971 z "
		},
		"Ý": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 609 1146 q 519 1055 609 1138 q 422 960 429 971 l 340 960 q 401 1055 340 971 q 463 1146 463 1139 l 609 1146 z "
		},
		"Ŷ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 584 960 l 507 960 q 387 1067 500 969 q 267 960 273 969 l 189 960 q 253 1052 189 969 q 321 1146 317 1135 l 452 1146 q 520 1052 456 1135 q 584 960 584 969 z "
		},
		"Ÿ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 336 1057 q 315 1003 336 1026 q 258 979 294 979 q 210 1000 227 979 q 193 1048 193 1020 q 214 1101 193 1078 q 272 1124 235 1124 q 319 1104 302 1124 q 336 1057 336 1085 m 592 1057 q 571 1003 592 1026 q 514 979 551 979 q 467 1000 484 979 q 450 1048 450 1020 q 470 1101 450 1078 q 528 1124 491 1124 q 575 1104 559 1124 q 592 1057 592 1085 z "
		},
		"Ź": {
			"ha": 720,
			"x_min": 67,
			"x_max": 653,
			"o": "m 653 113 l 649 0 l 67 0 l 73 81 q 322 468 159 201 q 498 789 498 756 l 498 796 q 77 779 349 796 l 80 883 l 633 883 l 628 799 q 390 416 551 690 q 222 102 222 131 l 222 95 q 653 113 363 95 m 559 1146 q 469 1055 559 1138 q 372 960 378 971 l 290 960 q 351 1055 290 971 q 412 1146 412 1139 l 559 1146 z "
		},
		"Ž": {
			"ha": 720,
			"x_min": 67,
			"x_max": 653,
			"o": "m 653 113 l 649 0 l 67 0 l 73 81 q 322 468 159 201 q 498 789 498 756 l 498 796 q 77 779 349 796 l 80 883 l 633 883 l 628 799 q 390 416 551 690 q 222 102 222 131 l 222 95 q 653 113 363 95 m 547 1146 q 483 1054 547 1137 q 415 960 418 971 l 283 960 q 216 1054 280 971 q 152 1146 152 1137 l 229 1146 q 349 1039 236 1137 q 469 1146 463 1137 l 547 1146 z "
		},
		"Ż": {
			"ha": 720,
			"x_min": 67,
			"x_max": 653,
			"o": "m 653 113 l 649 0 l 67 0 l 73 81 q 322 468 159 201 q 498 789 498 756 l 498 796 q 77 779 349 796 l 80 883 l 633 883 l 628 799 q 390 416 551 690 q 222 102 222 131 l 222 95 q 653 113 363 95 m 458 1061 q 435 1001 458 1027 q 372 976 413 976 q 318 998 338 976 q 299 1051 299 1020 q 322 1110 299 1085 q 386 1135 345 1135 q 438 1113 419 1135 q 458 1061 458 1091 z "
		},
		"Ŋ": {
			"ha": 936,
			"x_min": 127,
			"x_max": 809,
			"o": "m 809 -38 q 750 -212 809 -146 q 509 -300 659 -300 l 503 -205 q 655 -162 606 -205 q 706 -3 705 -119 l 706 22 q 491 325 661 85 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 799 464 799 703 q 804 167 799 269 q 809 -38 809 64 z "
		},
		"Ð": {
			"ha": 892,
			"x_min": 29,
			"x_max": 825,
			"o": "m 825 473 q 709 143 825 281 q 363 -9 579 -9 q 127 0 292 -9 q 138 397 138 169 q 29 385 115 397 l 35 498 q 138 496 117 496 q 127 883 138 731 l 202 883 q 288 885 230 883 q 372 887 345 887 q 712 768 600 887 q 825 473 825 650 m 707 443 q 614 693 707 591 q 331 795 520 795 q 237 789 289 795 q 242 496 243 680 q 507 518 280 496 l 503 409 q 242 404 269 409 q 250 92 242 216 q 356 81 304 81 q 627 195 533 81 q 707 443 707 292 z "
		},
		"Þ": {
			"ha": 768,
			"x_min": 127,
			"x_max": 723,
			"o": "m 723 546 q 607 311 723 389 q 290 233 490 233 l 247 233 q 254 0 247 140 l 127 0 q 136 468 136 231 q 127 883 136 697 l 256 883 q 252 759 252 816 q 439 764 323 764 q 646 705 569 764 q 723 546 723 646 m 610 503 q 372 676 610 676 q 249 666 313 676 q 247 320 247 554 l 304 320 q 610 503 610 320 z "
		},
		"a": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 z "
		},
		"b": {
			"ha": 772,
			"x_min": 83,
			"x_max": 705,
			"o": "m 705 349 q 620 91 705 200 q 388 -18 535 -18 q 218 26 263 -18 l 213 26 l 196 0 l 96 0 q 105 506 105 234 q 83 954 105 751 l 217 961 q 210 591 210 844 l 216 591 q 427 668 282 668 q 628 574 552 668 q 705 349 705 481 m 584 332 q 530 505 584 435 q 382 576 477 576 q 208 502 260 576 q 218 111 208 260 q 361 64 273 64 q 528 142 473 64 q 584 332 584 220 z "
		},
		"c": {
			"ha": 627,
			"x_min": 67,
			"x_max": 583,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 z "
		},
		"d": {
			"ha": 764,
			"x_min": 67,
			"x_max": 674,
			"o": "m 674 1 l 573 -3 q 568 59 568 26 l 560 59 q 349 -18 489 -18 q 143 75 220 -18 q 67 301 67 169 q 152 559 67 451 q 391 668 237 668 q 548 623 500 668 l 553 623 q 544 954 553 791 l 673 958 q 660 507 660 786 q 674 1 660 224 m 565 134 q 553 541 565 345 q 416 586 498 586 q 245 510 302 586 q 188 318 188 433 q 242 144 188 215 q 391 74 296 74 q 565 134 511 74 z "
		},
		"e": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 z "
		},
		"f": {
			"ha": 471,
			"x_min": 15,
			"x_max": 471,
			"o": "m 471 962 l 451 873 q 370 883 410 883 q 285 834 307 883 q 263 631 263 785 q 451 637 330 631 l 447 536 q 263 541 310 541 q 271 0 263 232 l 150 0 q 159 541 159 226 q 15 536 118 541 l 20 636 q 159 631 113 631 q 210 892 159 810 q 370 974 260 974 q 471 962 418 974 z "
		},
		"g": {
			"ha": 749,
			"x_min": 45,
			"x_max": 727,
			"o": "m 727 730 l 716 636 q 577 595 590 636 l 577 589 q 621 468 621 536 q 551 293 621 362 q 336 224 481 224 q 234 238 272 224 q 201 179 201 214 q 240 121 201 136 q 450 102 290 102 q 707 -68 707 102 q 607 -271 707 -191 q 347 -351 507 -351 q 114 -291 184 -351 q 45 -149 45 -232 q 79 -26 45 -73 q 164 31 113 20 l 164 37 q 111 136 111 62 q 178 252 111 202 l 178 258 q 110 317 142 275 q 77 422 77 359 q 149 597 77 530 q 355 665 220 665 q 528 625 465 665 l 536 625 q 650 740 557 740 q 727 730 700 740 m 606 -115 q 559 -25 606 -51 q 385 1 513 1 q 226 9 298 1 q 143 -108 143 -31 q 360 -273 143 -273 q 539 -229 473 -273 q 606 -115 606 -185 m 511 440 q 464 554 511 515 q 345 594 417 594 q 230 556 276 594 q 184 447 184 517 q 231 334 184 373 q 352 296 278 296 q 466 333 420 296 q 511 440 511 371 z "
		},
		"h": {
			"ha": 752,
			"x_min": 83,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 384 555 178 q 514 532 555 494 q 401 570 473 570 q 210 500 299 570 q 216 0 210 130 l 96 0 q 102 506 102 179 q 83 954 102 792 l 212 961 q 206 577 206 754 l 210 577 q 433 667 312 667 q 603 616 542 667 q 664 439 664 566 q 663 388 664 426 q 661 322 661 351 q 664 0 661 224 z "
		},
		"i": {
			"ha": 302,
			"x_min": 75,
			"x_max": 241,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 z "
		},
		"j": {
			"ha": 302,
			"x_min": 7,
			"x_max": 241,
			"o": "m 212 659 q 200 237 200 448 q 204 88 200 180 q 208 -38 208 -5 q 41 -304 208 -257 l 7 -252 q 81 -144 67 -201 q 102 209 102 -61 q 75 642 102 498 l 212 659 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 z "
		},
		"k": {
			"ha": 678,
			"x_min": 83,
			"x_max": 671,
			"o": "m 671 0 l 511 0 q 380 181 511 24 q 210 343 245 343 l 205 343 q 213 0 205 198 l 94 0 q 102 506 102 248 q 83 954 102 768 l 213 961 q 205 392 205 814 l 210 392 q 351 506 233 392 q 469 644 469 621 l 619 644 q 513 532 619 623 q 330 392 413 447 l 330 387 q 547 168 414 323 q 671 0 671 22 z "
		},
		"l": {
			"ha": 318,
			"x_min": 83,
			"x_max": 220,
			"o": "m 220 0 l 90 0 q 102 506 102 224 q 83 954 102 780 l 220 961 q 208 506 208 777 q 220 0 208 227 z "
		},
		"m": {
			"ha": 1137,
			"x_min": 68,
			"x_max": 1049,
			"o": "m 941 393 q 904 536 941 501 q 780 571 866 571 q 630 500 707 571 q 627 338 627 417 q 631 0 627 224 l 508 0 q 523 393 523 193 q 485 536 523 501 q 365 571 448 571 q 206 500 280 571 q 209 0 206 285 l 85 0 q 98 334 98 231 q 68 642 98 490 l 187 659 l 199 576 l 206 576 q 402 667 294 667 q 609 576 563 667 l 616 576 q 819 667 719 667 q 991 616 932 667 q 1049 439 1049 566 q 1048 389 1049 427 q 1046 338 1046 351 q 1049 0 1046 224 l 926 0 q 941 393 941 178 z "
		},
		"n": {
			"ha": 752,
			"x_min": 75,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 389 555 178 q 513 532 555 494 q 392 570 471 570 q 214 500 296 570 q 217 0 214 269 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 428 667 313 667 q 602 617 541 667 q 664 439 664 567 q 663 389 664 427 q 661 338 661 351 q 664 0 661 224 z "
		},
		"o": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 z "
		},
		"p": {
			"ha": 772,
			"x_min": 75,
			"x_max": 705,
			"o": "m 705 349 q 621 92 705 202 q 388 -18 537 -18 q 224 26 263 -18 l 217 26 q 221 -310 217 -162 l 94 -310 q 109 136 109 -130 q 75 642 109 463 l 195 659 l 205 591 l 212 591 q 425 668 277 668 q 629 573 554 668 q 705 349 705 479 m 584 332 q 531 504 584 433 q 382 576 478 576 q 208 502 260 576 q 218 111 218 274 q 361 64 273 64 q 529 143 473 64 q 584 332 584 222 z "
		},
		"q": {
			"ha": 772,
			"x_min": 67,
			"x_max": 682,
			"o": "m 682 -309 l 562 -309 q 568 59 568 -123 l 560 59 q 347 -18 490 -18 q 143 76 219 -18 q 67 301 67 171 q 150 558 67 448 q 384 668 233 668 q 565 623 507 668 l 570 623 l 598 644 l 682 652 q 673 195 673 424 q 682 -309 673 -79 m 568 149 q 562 539 568 372 q 410 586 498 586 q 243 507 298 586 q 188 318 188 429 q 241 146 188 218 q 389 74 294 74 q 568 149 511 74 z "
		},
		"r": {
			"ha": 492,
			"x_min": 68,
			"x_max": 499,
			"o": "m 499 644 l 469 536 q 370 557 416 557 q 205 436 243 557 q 209 0 205 124 l 89 0 q 100 334 100 215 q 68 642 100 494 l 186 659 q 199 559 199 584 l 205 559 q 376 667 278 667 q 499 644 427 667 z "
		},
		"s": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 z "
		},
		"t": {
			"ha": 498,
			"x_min": 30,
			"x_max": 461,
			"o": "m 461 94 l 453 5 q 352 -14 399 -14 q 185 48 230 -14 q 140 270 140 110 q 142 541 140 374 q 30 536 104 541 l 34 635 q 149 631 98 631 q 156 824 149 671 l 262 835 q 251 631 251 692 q 446 637 317 631 l 441 536 q 245 541 319 541 q 244 310 244 438 q 274 125 244 170 q 383 80 303 80 q 461 94 410 80 z "
		},
		"u": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 z "
		},
		"v": {
			"ha": 667,
			"x_min": 30,
			"x_max": 637,
			"o": "m 637 644 q 500 324 637 611 q 363 0 363 37 l 272 0 q 151 332 272 47 q 30 644 30 616 l 161 644 q 250 386 161 612 q 338 127 338 160 l 344 127 q 428 376 344 159 q 511 644 511 594 l 637 644 z "
		},
		"w": {
			"ha": 1064,
			"x_min": 30,
			"x_max": 1034,
			"o": "m 1034 644 q 918 325 1034 604 q 802 0 802 47 l 709 0 q 641 197 709 26 q 522 527 557 408 l 516 527 q 405 197 484 412 q 342 0 342 26 l 250 0 q 140 326 250 39 q 30 644 30 612 l 151 644 q 230 387 151 609 q 309 127 309 164 l 316 127 q 398 396 316 183 q 479 644 479 608 l 595 644 q 680 385 595 613 q 764 127 764 156 l 771 127 q 845 380 771 169 q 918 644 918 591 l 1034 644 z "
		},
		"x": {
			"ha": 700,
			"x_min": 37,
			"x_max": 663,
			"o": "m 663 0 l 515 0 q 450 115 515 17 q 336 280 385 214 l 330 280 q 235 126 296 233 q 174 0 174 20 l 37 0 q 134 149 37 20 q 291 342 231 279 l 291 347 q 157 514 246 397 q 67 644 67 632 l 212 644 q 267 540 212 628 q 358 405 321 452 l 364 405 q 451 536 397 445 q 504 644 504 627 l 633 644 q 541 512 633 633 q 409 352 449 392 l 409 345 q 565 146 467 277 q 663 0 663 16 z "
		},
		"y": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 z "
		},
		"z": {
			"ha": 633,
			"x_min": 67,
			"x_max": 566,
			"o": "m 566 109 l 562 0 l 67 0 l 73 105 q 256 319 109 140 q 417 539 417 515 l 416 547 q 71 538 199 547 l 75 644 l 546 644 l 539 538 q 361 322 483 476 q 209 104 209 130 l 209 98 q 566 109 414 98 z "
		},
		"à": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 397 736 l 315 736 q 222 848 315 747 q 128 956 128 948 l 275 956 q 336 848 275 949 q 397 736 397 747 z "
		},
		"á": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 556 956 q 463 848 556 948 q 369 736 369 747 l 288 736 q 349 848 288 747 q 410 956 410 949 l 556 956 z "
		},
		"â": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 523 736 l 452 736 q 326 878 452 745 q 199 736 199 745 l 128 736 q 192 845 128 745 q 260 956 256 945 l 391 956 q 459 845 395 945 q 523 736 523 745 z "
		},
		"ã": {
			"ha": 682,
			"x_min": 60,
			"x_max": 603,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 603 926 q 433 777 528 777 q 346 793 399 777 q 261 809 294 809 q 144 728 201 809 l 102 762 q 272 911 177 911 q 359 895 307 911 q 444 879 412 879 q 561 960 504 879 l 603 926 z "
		},
		"ä": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 281 848 q 260 794 281 817 q 203 770 239 770 q 155 791 172 770 q 138 840 138 811 q 159 892 138 869 q 217 915 180 915 q 264 896 248 915 q 281 848 281 876 m 537 848 q 516 794 537 817 q 459 770 496 770 q 412 791 429 770 q 395 840 395 811 q 415 892 395 869 q 473 915 436 915 q 520 896 504 915 q 537 848 537 876 z "
		},
		"ā": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 493 888 l 485 804 l 191 804 l 198 888 l 493 888 z "
		},
		"ă": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 556 909 q 349 754 492 754 q 140 909 199 754 l 208 943 q 347 838 256 838 q 488 943 431 838 l 556 909 z "
		},
		"å": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 486 873 q 439 761 486 802 q 331 720 392 720 q 237 754 275 720 q 198 854 198 789 q 245 965 198 924 q 353 1006 292 1006 q 447 971 408 1006 q 486 873 486 937 m 422 867 q 400 927 422 906 q 347 947 378 947 q 288 923 313 947 q 262 858 262 899 q 283 799 262 819 q 336 778 305 778 q 396 802 370 778 q 422 867 422 826 z "
		},
		"ǻ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 486 860 q 439 748 486 789 q 331 707 392 707 q 237 742 275 707 q 198 842 198 777 q 245 952 198 911 q 353 993 292 993 q 447 958 408 993 q 486 860 486 924 m 422 854 q 400 914 422 893 q 347 935 378 935 q 288 910 313 935 q 262 845 262 886 q 283 786 262 806 q 336 765 305 765 q 396 789 370 765 q 422 854 422 813 m 587 1214 q 497 1122 587 1206 q 400 1028 407 1039 l 319 1028 q 380 1123 319 1039 q 441 1214 441 1206 l 587 1214 z "
		},
		"ą": {
			"ha": 682,
			"x_min": 60,
			"x_max": 614,
			"o": "m 492 -1 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 117 30 174 -17 q 60 153 60 76 q 156 333 60 273 q 475 394 253 392 q 477 425 477 410 q 434 544 477 517 q 275 570 390 570 q 89 544 192 570 l 100 637 q 327 667 202 667 q 519 618 451 667 q 587 447 587 570 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 q 468 -159 468 -85 q 537 -237 468 -237 q 595 -227 564 -237 l 614 -319 q 522 -330 578 -330 q 417 -290 460 -330 q 374 -183 374 -250 q 492 -1 374 -85 m 479 132 q 475 317 475 235 q 283 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 z "
		},
		"æ": {
			"ha": 1093,
			"x_min": 60,
			"x_max": 1026,
			"o": "m 501 154 q 470 317 470 227 q 280 298 343 317 q 170 168 170 264 q 300 76 170 76 q 501 154 412 76 m 913 397 q 751 587 913 587 q 622 534 669 587 q 569 389 575 481 l 913 397 m 1026 398 q 1023 319 1026 370 l 565 311 q 637 146 572 214 q 818 79 703 79 q 1013 104 921 79 l 1001 8 q 805 -18 933 -18 q 537 100 625 -18 l 530 100 q 403 8 458 34 q 250 -17 347 -17 q 117 30 174 -17 q 60 153 60 76 q 477 394 60 394 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 327 667 202 667 q 546 581 490 667 l 553 581 q 758 674 632 674 q 958 596 890 674 q 1026 398 1026 519 z "
		},
		"ǽ": {
			"ha": 1093,
			"x_min": 60,
			"x_max": 1026,
			"o": "m 501 154 q 470 317 470 227 q 280 298 343 317 q 170 168 170 264 q 300 76 170 76 q 501 154 412 76 m 913 397 q 751 587 913 587 q 622 534 669 587 q 569 389 575 481 l 913 397 m 1026 398 q 1023 319 1026 370 l 565 311 q 637 146 572 214 q 818 79 703 79 q 1013 104 921 79 l 1001 8 q 805 -18 933 -18 q 537 100 625 -18 l 530 100 q 403 8 458 34 q 250 -17 347 -17 q 117 30 174 -17 q 60 153 60 76 q 477 394 60 394 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 327 667 202 667 q 546 581 490 667 l 553 581 q 758 674 632 674 q 958 596 890 674 q 1026 398 1026 519 m 784 956 q 690 848 784 948 q 597 736 597 747 l 515 736 q 576 848 515 747 q 637 956 637 949 l 784 956 z "
		},
		"ć": {
			"ha": 627,
			"x_min": 67,
			"x_max": 589,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 m 589 956 q 496 848 589 948 q 402 736 402 747 l 321 736 q 382 848 321 747 q 443 956 443 949 l 589 956 z "
		},
		"ĉ": {
			"ha": 627,
			"x_min": 67,
			"x_max": 583,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 m 566 736 l 495 736 q 368 878 495 745 q 241 736 241 745 l 171 736 q 235 845 171 745 q 302 956 299 945 l 434 956 q 502 845 437 945 q 566 736 566 745 z "
		},
		"č": {
			"ha": 627,
			"x_min": 67,
			"x_max": 592,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 m 592 956 q 528 847 592 947 q 460 736 464 747 l 329 736 q 261 847 326 747 q 197 956 197 947 l 268 956 q 395 815 268 947 q 522 956 522 947 l 592 956 z "
		},
		"ċ": {
			"ha": 627,
			"x_min": 67,
			"x_max": 583,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 m 481 848 q 459 788 481 813 q 396 762 437 762 q 342 784 361 762 q 323 838 323 806 q 346 897 323 871 q 410 922 369 922 q 462 900 443 922 q 481 848 481 878 z "
		},
		"ç": {
			"ha": 627,
			"x_min": 67,
			"x_max": 583,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 378 -16 402 -18 l 371 -68 q 504 -198 504 -100 q 341 -349 504 -349 l 332 -286 q 384 -264 363 -286 q 404 -213 404 -243 q 300 -117 404 -136 l 323 -7 q 144 95 221 15 q 67 313 67 176 q 163 561 67 454 q 423 667 259 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 238 503 295 570 q 182 335 182 435 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 z "
		},
		"ď": {
			"ha": 867,
			"x_min": 67,
			"x_max": 890,
			"o": "m 674 1 l 573 -3 q 568 59 568 26 l 560 59 q 349 -18 489 -18 q 143 75 220 -18 q 67 301 67 169 q 152 559 67 451 q 391 668 237 668 q 548 623 500 668 l 553 623 q 544 954 553 791 l 673 958 q 660 507 660 786 q 674 1 660 224 m 565 134 q 553 541 565 345 q 416 586 498 586 q 245 510 302 586 q 188 318 188 433 q 242 144 188 215 q 391 74 296 74 q 565 134 511 74 m 890 796 q 850 677 890 739 q 767 589 810 616 l 738 618 q 793 739 793 688 q 718 812 718 759 q 738 875 718 848 q 800 901 759 901 q 867 872 844 901 q 890 796 890 843 z "
		},
		"đ": {
			"ha": 770,
			"x_min": 67,
			"x_max": 766,
			"o": "m 674 1 l 573 -3 q 568 59 568 26 l 560 59 q 347 -18 489 -18 q 143 73 219 -18 q 67 291 67 164 q 151 541 67 434 q 384 648 235 648 q 548 603 500 648 l 553 603 q 552 743 553 680 l 370 743 l 374 812 l 550 812 q 545 951 548 880 l 673 958 q 664 812 667 890 l 766 812 l 762 743 l 662 743 q 660 507 660 633 q 674 1 660 224 m 565 134 q 553 520 565 345 q 410 566 498 566 q 243 490 298 566 q 188 308 188 415 q 241 142 188 211 q 389 74 294 74 q 565 134 511 74 z "
		},
		"è": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 438 736 l 357 736 q 263 848 357 747 q 170 956 170 948 l 316 956 q 377 848 316 949 q 438 736 438 747 z "
		},
		"é": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 616 956 q 523 848 616 948 q 429 736 429 747 l 348 736 q 409 848 348 747 q 470 956 470 949 l 616 956 z "
		},
		"ê": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 z "
		},
		"ě": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 595 956 q 531 847 595 947 q 463 736 467 747 l 332 736 q 264 847 328 747 q 200 956 200 947 l 271 956 q 397 815 271 947 q 524 956 524 947 l 595 956 z "
		},
		"ë": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 322 848 q 301 794 322 817 q 244 770 281 770 q 197 791 214 770 q 180 840 180 811 q 200 892 180 869 q 258 915 221 915 q 306 896 289 915 q 322 848 322 876 m 578 848 q 558 794 578 817 q 500 770 537 770 q 453 791 470 770 q 436 840 436 811 q 457 892 436 869 q 515 915 477 915 q 562 896 545 915 q 578 848 578 876 z "
		},
		"ē": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 543 888 l 534 804 l 240 804 l 248 888 l 543 888 z "
		},
		"ĕ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 599 909 q 391 754 534 754 q 182 909 241 754 l 250 943 q 390 838 299 838 q 531 943 474 838 l 599 909 z "
		},
		"ė": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 469 848 q 446 788 469 813 q 383 762 424 762 q 329 784 349 762 q 310 838 310 806 q 333 897 310 871 q 397 922 356 922 q 449 900 430 922 q 469 848 469 878 z "
		},
		"ę": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 -319 q 553 -330 610 -330 q 449 -290 492 -330 q 406 -183 406 -250 q 510 -20 406 -87 l 510 -13 q 426 -18 464 -18 q 159 79 251 -18 q 67 313 67 176 q 150 566 67 458 q 378 674 233 674 q 578 597 510 674 q 646 398 646 519 q 643 319 646 370 l 181 311 q 255 147 188 215 q 439 79 323 79 q 632 104 542 79 l 621 15 q 499 -159 499 -78 q 568 -237 499 -237 q 627 -227 595 -237 l 646 -319 m 532 397 q 373 587 532 587 q 185 389 214 587 l 532 397 z "
		},
		"ĝ": {
			"ha": 749,
			"x_min": 45,
			"x_max": 727,
			"o": "m 727 730 l 716 636 q 577 595 590 636 l 577 589 q 621 468 621 536 q 551 293 621 362 q 336 224 481 224 q 234 238 272 224 q 201 179 201 214 q 240 121 201 136 q 450 102 290 102 q 707 -68 707 102 q 607 -271 707 -191 q 347 -351 507 -351 q 114 -291 184 -351 q 45 -149 45 -232 q 79 -26 45 -73 q 164 31 113 20 l 164 37 q 111 136 111 62 q 178 252 111 202 l 178 258 q 110 317 142 275 q 77 422 77 359 q 149 597 77 530 q 355 665 220 665 q 528 625 465 665 l 536 625 q 650 740 557 740 q 727 730 700 740 m 606 -115 q 559 -25 606 -51 q 385 1 513 1 q 226 9 298 1 q 143 -108 143 -31 q 360 -273 143 -273 q 539 -229 473 -273 q 606 -115 606 -185 m 511 440 q 464 554 511 515 q 345 594 417 594 q 230 556 276 594 q 184 447 184 517 q 231 334 184 373 q 352 296 278 296 q 466 333 420 296 q 511 440 511 371 m 543 736 l 472 736 q 345 878 472 745 q 218 736 218 745 l 148 736 q 212 845 148 745 q 279 956 276 945 l 411 956 q 478 845 414 945 q 543 736 543 745 z "
		},
		"ğ": {
			"ha": 749,
			"x_min": 45,
			"x_max": 727,
			"o": "m 727 730 l 716 636 q 577 595 590 636 l 577 589 q 621 468 621 536 q 551 293 621 362 q 336 224 481 224 q 234 238 272 224 q 201 179 201 214 q 240 121 201 136 q 450 102 290 102 q 707 -68 707 102 q 607 -271 707 -191 q 347 -351 507 -351 q 114 -291 184 -351 q 45 -149 45 -232 q 79 -26 45 -73 q 164 31 113 20 l 164 37 q 111 136 111 62 q 178 252 111 202 l 178 258 q 110 317 142 275 q 77 422 77 359 q 149 597 77 530 q 355 665 220 665 q 528 625 465 665 l 536 625 q 650 740 557 740 q 727 730 700 740 m 606 -115 q 559 -25 606 -51 q 385 1 513 1 q 226 9 298 1 q 143 -108 143 -31 q 360 -273 143 -273 q 539 -229 473 -273 q 606 -115 606 -185 m 511 440 q 464 554 511 515 q 345 594 417 594 q 230 556 276 594 q 184 447 184 517 q 231 334 184 373 q 352 296 278 296 q 466 333 420 296 q 511 440 511 371 m 571 909 q 363 754 507 754 q 155 909 214 754 l 222 943 q 362 838 271 838 q 503 943 446 838 l 571 909 z "
		},
		"ġ": {
			"ha": 749,
			"x_min": 45,
			"x_max": 727,
			"o": "m 727 730 l 716 636 q 577 595 590 636 l 577 589 q 621 468 621 536 q 551 293 621 362 q 336 224 481 224 q 234 238 272 224 q 201 179 201 214 q 240 121 201 136 q 450 102 290 102 q 707 -68 707 102 q 607 -271 707 -191 q 347 -351 507 -351 q 114 -291 184 -351 q 45 -149 45 -232 q 79 -26 45 -73 q 164 31 113 20 l 164 37 q 111 136 111 62 q 178 252 111 202 l 178 258 q 110 317 142 275 q 77 422 77 359 q 149 597 77 530 q 355 665 220 665 q 528 625 465 665 l 536 625 q 650 740 557 740 q 727 730 700 740 m 606 -115 q 559 -25 606 -51 q 385 1 513 1 q 226 9 298 1 q 143 -108 143 -31 q 360 -273 143 -273 q 539 -229 473 -273 q 606 -115 606 -185 m 511 440 q 464 554 511 515 q 345 594 417 594 q 230 556 276 594 q 184 447 184 517 q 231 334 184 373 q 352 296 278 296 q 466 333 420 296 q 511 440 511 371 m 443 848 q 420 788 443 813 q 357 762 398 762 q 303 784 323 762 q 284 838 284 806 q 307 897 284 871 q 371 922 330 922 q 424 900 404 922 q 443 848 443 878 z "
		},
		"ģ": {
			"ha": 749,
			"x_min": 45,
			"x_max": 727,
			"o": "m 727 730 l 716 636 q 577 595 590 636 l 577 589 q 621 468 621 536 q 551 293 621 362 q 336 224 481 224 q 234 238 272 224 q 201 179 201 214 q 240 121 201 136 q 450 102 290 102 q 707 -68 707 102 q 607 -271 707 -191 q 347 -351 507 -351 q 114 -291 184 -351 q 45 -149 45 -232 q 79 -26 45 -73 q 164 31 113 20 l 164 37 q 111 136 111 62 q 178 252 111 202 l 178 258 q 110 317 142 275 q 77 422 77 359 q 149 597 77 530 q 355 665 220 665 q 528 625 465 665 l 536 625 q 650 740 557 740 q 727 730 700 740 m 606 -115 q 559 -25 606 -51 q 385 1 513 1 q 226 9 298 1 q 143 -108 143 -31 q 360 -273 143 -273 q 539 -229 473 -273 q 606 -115 606 -185 m 511 440 q 464 554 511 515 q 345 594 417 594 q 230 556 276 594 q 184 447 184 517 q 231 334 184 373 q 352 296 278 296 q 466 333 420 296 q 511 440 511 371 m 450 850 q 428 786 450 810 q 368 762 406 762 q 307 788 327 762 q 287 865 287 814 q 323 973 287 917 q 398 1053 359 1029 l 425 1026 q 381 924 381 963 q 450 850 450 904 z "
		},
		"ĥ": {
			"ha": 752,
			"x_min": -50,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 384 555 178 q 514 532 555 494 q 401 570 473 570 q 210 500 299 570 q 216 0 210 130 l 96 0 q 102 506 102 179 q 83 954 102 792 l 212 961 q 206 577 206 754 l 210 577 q 433 667 312 667 q 603 616 542 667 q 664 439 664 566 q 663 388 664 426 q 661 322 661 351 q 664 0 661 224 m 345 960 l 268 960 q 148 1067 261 969 q 28 960 35 969 l -50 960 q 15 1052 -50 969 q 82 1146 79 1135 l 214 1146 q 281 1052 217 1135 q 345 960 345 969 z "
		},
		"ħ": {
			"ha": 752,
			"x_min": 0,
			"x_max": 663,
			"o": "m 663 422 q 661 380 663 410 q 660 294 660 351 q 663 0 660 224 l 543 0 q 557 369 557 178 q 515 512 557 473 q 394 550 473 550 q 209 480 298 550 q 214 0 209 130 l 95 0 q 101 506 101 179 q 95 743 101 591 l 0 743 l 4 812 l 92 812 q 81 954 87 882 l 210 961 q 205 812 205 895 l 430 812 l 426 743 l 204 743 q 204 557 203 631 l 208 557 q 423 646 315 646 q 600 597 538 646 q 663 422 663 548 z "
		},
		"ì": {
			"ha": 302,
			"x_min": -60,
			"x_max": 212,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 209 736 l 127 736 q 34 848 127 747 q -60 956 -60 948 l 87 956 q 148 848 87 949 q 209 736 209 747 z "
		},
		"í": {
			"ha": 302,
			"x_min": 75,
			"x_max": 357,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 357 956 q 264 848 357 948 q 170 736 170 747 l 89 736 q 150 848 89 747 q 211 956 211 949 l 357 956 z "
		},
		"î": {
			"ha": 302,
			"x_min": -45,
			"x_max": 349,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 349 736 l 279 736 q 152 878 279 745 q 25 736 25 745 l -45 736 q 19 845 -45 745 q 86 956 83 945 l 218 956 q 285 845 221 945 q 349 736 349 745 z "
		},
		"ĩ": {
			"ha": 302,
			"x_min": -100,
			"x_max": 401,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 401 926 q 231 777 326 777 q 144 793 197 777 q 59 809 92 809 q -58 728 -1 809 l -100 762 q 70 911 -25 911 q 157 895 104 911 q 242 879 210 879 q 359 960 302 879 l 401 926 z "
		},
		"ï": {
			"ha": 302,
			"x_min": -51,
			"x_max": 348,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 92 848 q 71 794 92 817 q 14 770 50 770 q -34 791 -17 770 q -51 840 -51 811 q -30 892 -51 869 q 28 915 -9 915 q 75 896 58 915 q 92 848 92 876 m 348 848 q 327 794 348 817 q 270 770 307 770 q 222 791 239 770 q 205 840 205 811 q 226 892 205 869 q 284 915 247 915 q 331 896 315 915 q 348 848 348 876 z "
		},
		"ī": {
			"ha": 302,
			"x_min": -1,
			"x_max": 301,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 301 888 l 293 804 l -1 804 l 6 888 l 301 888 z "
		},
		"ĭ": {
			"ha": 302,
			"x_min": -56,
			"x_max": 361,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 361 909 q 153 754 296 754 q -56 909 3 754 l 12 943 q 152 838 61 838 q 293 943 236 838 l 361 909 z "
		},
		"į": {
			"ha": 302,
			"x_min": -13,
			"x_max": 240,
			"o": "m 227 -319 q 135 -330 191 -330 q 31 -291 73 -330 q -13 -183 -13 -250 q 89 0 -13 -92 q 98 310 98 136 q 75 639 98 506 l 210 657 q 202 310 202 515 q 212 0 202 147 q 81 -165 81 -78 q 150 -237 81 -237 q 208 -227 177 -237 l 227 -319 m 240 848 q 218 788 240 813 q 155 762 195 762 q 101 784 120 762 q 81 838 81 806 q 104 897 81 871 q 168 922 127 922 q 240 848 240 922 z "
		},
		"ı": {
			"ha": 302,
			"x_min": 75,
			"x_max": 212,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 z "
		},
		"ĳ": {
			"ha": 605,
			"x_min": 75,
			"x_max": 543,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 m 514 659 q 503 237 503 448 q 506 88 503 180 q 510 -38 510 -5 q 343 -304 510 -257 l 309 -252 q 384 -144 370 -201 q 405 209 405 -61 q 378 642 405 498 l 514 659 m 543 848 q 521 788 543 813 q 458 762 498 762 q 404 784 423 762 q 385 838 385 806 q 408 897 385 871 q 471 922 431 922 q 524 900 505 922 q 543 848 543 878 z "
		},
		"ĵ": {
			"ha": 302,
			"x_min": -49,
			"x_max": 346,
			"o": "m 212 659 q 200 237 200 448 q 204 88 200 180 q 208 -38 208 -5 q 41 -304 208 -257 l 7 -252 q 81 -144 67 -201 q 102 209 102 -61 q 75 642 102 498 l 212 659 m 346 736 l 275 736 q 149 878 275 745 q 22 736 22 745 l -49 736 q 15 845 -49 745 q 83 956 79 945 l 214 956 q 282 845 218 945 q 346 736 346 745 z "
		},
		"ķ": {
			"ha": 678,
			"x_min": 83,
			"x_max": 671,
			"o": "m 671 0 l 511 0 q 380 181 511 24 q 210 343 245 343 l 205 343 q 213 0 205 198 l 94 0 q 102 506 102 248 q 83 954 102 768 l 213 961 q 205 392 205 814 l 210 392 q 351 506 233 392 q 469 644 469 621 l 619 644 q 513 532 619 623 q 330 392 413 447 l 330 387 q 547 168 414 323 q 671 0 671 22 m 427 -168 q 391 -276 427 -220 q 316 -357 355 -332 l 290 -330 q 340 -220 340 -267 q 271 -154 271 -202 q 290 -97 271 -121 q 346 -73 309 -73 q 407 -99 386 -73 q 427 -168 427 -125 z "
		},
		"ĸ": {
			"ha": 678,
			"x_min": 75,
			"x_max": 663,
			"o": "m 663 0 l 504 0 q 372 181 504 24 q 203 343 237 343 l 198 343 q 205 0 198 198 l 86 0 q 95 358 95 167 q 75 645 95 476 l 205 652 q 198 392 198 505 l 203 392 q 343 506 225 392 q 462 644 462 621 l 612 644 q 505 532 612 623 q 323 392 406 447 l 323 387 q 539 168 407 323 q 663 0 663 22 z "
		},
		"ĺ": {
			"ha": 318,
			"x_min": 83,
			"x_max": 353,
			"o": "m 220 0 l 90 0 q 102 506 102 224 q 83 954 102 780 l 220 961 q 208 506 208 777 q 220 0 208 227 m 353 1214 q 262 1122 353 1206 q 165 1028 172 1039 l 84 1028 q 145 1123 84 1039 q 206 1214 206 1206 l 353 1214 z "
		},
		"ľ": {
			"ha": 418,
			"x_min": 83,
			"x_max": 441,
			"o": "m 220 0 l 90 0 q 102 506 102 224 q 83 954 102 780 l 220 961 q 208 506 208 777 q 220 0 208 227 m 441 796 q 401 677 441 739 q 318 589 361 616 l 289 618 q 345 739 345 688 q 269 812 269 759 q 289 875 269 848 q 351 901 310 901 q 418 872 395 901 q 441 796 441 843 z "
		},
		"ļ": {
			"ha": 336,
			"x_min": 83,
			"x_max": 239,
			"o": "m 231 0 l 101 0 q 113 506 113 224 q 94 954 113 780 l 231 961 q 218 506 218 777 q 231 0 218 227 m 239 -168 q 203 -276 239 -220 q 127 -357 167 -332 l 101 -330 q 151 -220 151 -267 q 83 -154 83 -202 q 101 -97 83 -121 q 157 -73 120 -73 q 218 -99 197 -73 q 239 -168 239 -125 z "
		},
		"ł": {
			"ha": 393,
			"x_min": -30,
			"x_max": 438,
			"o": "m 438 606 l 248 469 q 258 0 248 257 l 128 0 q 141 385 133 94 l 24 280 l -30 345 l 142 481 q 121 954 142 816 l 258 961 q 246 568 254 867 l 367 675 l 438 606 z "
		},
		"ŀ": {
			"ha": 463,
			"x_min": 83,
			"x_max": 463,
			"o": "m 220 0 l 90 0 q 102 506 102 224 q 83 954 102 780 l 220 961 q 208 506 208 777 q 220 0 208 227 m 463 414 q 440 354 463 379 q 377 328 418 328 q 323 350 342 328 q 304 404 304 372 q 327 463 304 437 q 391 488 350 488 q 443 466 424 488 q 463 414 463 444 z "
		},
		"ń": {
			"ha": 752,
			"x_min": 75,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 389 555 178 q 513 532 555 494 q 392 570 471 570 q 214 500 296 570 q 217 0 214 269 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 428 667 313 667 q 602 617 541 667 q 664 439 664 567 q 663 389 664 427 q 661 338 661 351 q 664 0 661 224 m 621 956 q 528 848 621 948 q 434 736 434 747 l 353 736 q 414 848 353 747 q 475 956 475 949 l 621 956 z "
		},
		"ň": {
			"ha": 752,
			"x_min": 75,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 389 555 178 q 513 532 555 494 q 392 570 471 570 q 214 500 296 570 q 217 0 214 269 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 428 667 313 667 q 602 617 541 667 q 664 439 664 567 q 663 389 664 427 q 661 338 661 351 q 664 0 661 224 m 612 956 q 548 847 612 947 q 481 736 484 747 l 349 736 q 282 847 346 747 q 218 956 218 947 l 288 956 q 415 815 288 947 q 542 956 542 947 l 612 956 z "
		},
		"ñ": {
			"ha": 752,
			"x_min": 75,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 389 555 178 q 513 532 555 494 q 392 570 471 570 q 214 500 296 570 q 217 0 214 269 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 428 667 313 667 q 602 617 541 667 q 664 439 664 567 q 663 389 664 427 q 661 338 661 351 q 664 0 661 224 m 646 926 q 476 777 571 777 q 389 793 441 777 q 304 809 336 809 q 187 728 244 809 l 145 762 q 315 911 220 911 q 402 895 349 911 q 487 879 454 879 q 604 960 547 879 l 646 926 z "
		},
		"ņ": {
			"ha": 752,
			"x_min": 75,
			"x_max": 664,
			"o": "m 664 0 l 541 0 q 555 389 555 178 q 513 532 555 494 q 392 570 471 570 q 214 500 296 570 q 217 0 214 269 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 428 667 313 667 q 602 617 541 667 q 664 439 664 567 q 663 389 664 427 q 661 338 661 351 q 664 0 661 224 m 456 -168 q 420 -276 456 -220 q 345 -357 384 -332 l 318 -330 q 368 -220 368 -267 q 300 -154 300 -202 q 318 -97 300 -121 q 374 -73 337 -73 q 435 -99 414 -73 q 456 -168 456 -125 z "
		},
		"ŉ": {
			"ha": 876,
			"x_min": -5,
			"x_max": 787,
			"o": "m 787 0 l 664 0 q 679 389 679 178 q 636 532 679 494 q 515 570 594 570 q 338 500 419 570 q 340 0 338 269 l 217 0 q 229 334 229 231 q 199 642 229 492 l 318 659 l 331 576 l 336 576 q 551 667 437 667 q 726 617 664 667 q 787 439 787 567 q 786 389 787 427 q 785 338 785 351 q 787 0 785 224 m 225 865 q 178 695 225 774 q 35 532 132 616 l -5 577 q 98 790 98 692 q 39 876 39 813 q 64 944 39 915 q 136 974 88 974 q 200 942 176 974 q 225 865 225 910 m 136 786 z "
		},
		"ò": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 458 736 l 377 736 q 283 848 377 747 q 190 956 190 948 l 336 956 q 397 848 336 949 q 458 736 458 747 z "
		},
		"ó": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 637 956 q 544 848 637 948 q 450 736 450 747 l 369 736 q 430 848 369 747 q 491 956 491 949 l 637 956 z "
		},
		"ô": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 z "
		},
		"õ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 671 926 q 502 777 597 777 q 415 793 467 777 q 330 809 362 809 q 213 728 270 809 l 171 762 q 340 911 245 911 q 428 895 375 911 q 513 879 480 879 q 629 960 572 879 l 671 926 z "
		},
		"ö": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 349 848 q 329 794 349 817 q 271 770 308 770 q 224 791 241 770 q 207 840 207 811 q 228 892 207 869 q 286 915 248 915 q 333 896 316 915 q 349 848 349 876 m 606 848 q 585 794 606 817 q 528 770 564 770 q 480 791 497 770 q 463 840 463 811 q 484 892 463 869 q 542 915 505 915 q 589 896 572 915 q 606 848 606 876 z "
		},
		"ō": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 559 888 l 551 804 l 256 804 l 264 888 l 559 888 z "
		},
		"ŏ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 609 909 q 401 754 545 754 q 193 909 252 754 l 260 943 q 400 838 309 838 q 541 943 484 838 l 609 909 z "
		},
		"ő": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 427 956 q 365 844 427 941 q 302 736 302 747 l 239 736 q 262 845 239 747 q 286 956 286 942 l 427 956 m 671 956 q 609 844 671 941 q 547 736 547 747 l 483 736 q 507 845 483 747 q 530 956 530 942 l 671 956 z "
		},
		"ø": {
			"ha": 776,
			"x_min": 34,
			"x_max": 741,
			"o": "m 741 665 q 654 544 741 644 q 709 342 709 461 q 609 71 709 168 q 374 -26 509 -26 q 182 38 264 -26 q 94 -77 94 -62 l 34 -56 q 135 85 34 -31 q 67 302 67 171 q 167 576 67 477 q 402 674 267 674 q 612 594 527 674 q 680 686 680 670 l 741 665 m 534 509 q 387 589 477 589 q 237 512 290 589 q 183 330 183 435 q 217 175 183 244 q 534 509 330 292 m 591 318 q 568 448 591 387 q 255 118 460 334 q 389 59 309 59 q 537 137 484 59 q 591 318 591 216 z "
		},
		"ǿ": {
			"ha": 776,
			"x_min": 34,
			"x_max": 741,
			"o": "m 741 665 q 654 544 741 644 q 709 342 709 461 q 609 71 709 168 q 374 -26 509 -26 q 182 38 264 -26 q 94 -77 94 -62 l 34 -56 q 135 85 34 -31 q 67 302 67 171 q 167 576 67 477 q 402 674 267 674 q 612 594 527 674 q 680 686 680 670 l 741 665 m 534 509 q 387 589 477 589 q 237 512 290 589 q 183 330 183 435 q 217 175 183 244 q 534 509 330 292 m 591 318 q 568 448 591 387 q 255 118 460 334 q 389 59 309 59 q 537 137 484 59 q 591 318 591 216 m 631 956 q 538 848 631 948 q 444 736 444 747 l 363 736 q 424 848 363 747 q 485 956 485 949 l 631 956 z "
		},
		"œ": {
			"ha": 1198,
			"x_min": 67,
			"x_max": 1131,
			"o": "m 1131 398 q 1130 364 1131 384 q 1128 319 1129 345 l 683 311 q 706 215 687 258 q 757 142 725 172 q 832 95 789 112 q 929 79 876 79 q 1117 104 1034 79 l 1105 8 q 916 -18 1044 -18 q 632 113 730 -18 l 625 113 q 367 -26 544 -26 q 246 -3 301 -26 q 152 63 191 20 q 90 167 112 106 q 67 302 67 228 q 92 454 67 386 q 160 572 117 523 q 264 647 204 621 q 395 674 325 674 q 632 548 566 674 l 639 548 q 869 674 718 674 q 980 655 931 674 q 1062 601 1028 636 q 1113 514 1095 565 q 1131 398 1131 463 m 586 318 q 571 424 586 374 q 528 509 555 473 q 463 567 500 546 q 380 589 425 589 q 299 569 335 589 q 237 514 263 549 q 198 432 212 479 q 184 330 184 385 q 198 223 184 273 q 238 138 212 174 q 301 80 264 101 q 382 59 338 59 q 465 79 427 59 q 529 134 502 99 q 571 217 556 170 q 586 318 586 264 m 1017 397 q 863 587 1017 587 q 687 389 700 587 l 1017 397 z "
		},
		"ŕ": {
			"ha": 492,
			"x_min": 68,
			"x_max": 499,
			"o": "m 499 644 l 469 536 q 370 557 416 557 q 205 436 243 557 q 209 0 205 124 l 89 0 q 100 334 100 215 q 68 642 100 494 l 186 659 q 199 559 199 584 l 205 559 q 376 667 278 667 q 499 644 427 667 m 463 956 q 369 848 463 948 q 275 736 275 747 l 194 736 q 255 848 194 747 q 316 956 316 949 l 463 956 z "
		},
		"ř": {
			"ha": 492,
			"x_min": 68,
			"x_max": 501,
			"o": "m 499 644 l 469 536 q 370 557 416 557 q 205 436 243 557 q 209 0 205 124 l 89 0 q 100 334 100 215 q 68 642 100 494 l 186 659 q 199 559 199 584 l 205 559 q 376 667 278 667 q 499 644 427 667 m 501 956 q 437 847 501 947 q 370 736 373 747 l 238 736 q 171 847 235 747 q 106 956 106 947 l 177 956 q 304 815 177 947 q 431 956 431 947 l 501 956 z "
		},
		"ŗ": {
			"ha": 492,
			"x_min": 68,
			"x_max": 499,
			"o": "m 499 644 l 469 536 q 370 557 416 557 q 205 436 243 557 q 209 0 205 124 l 89 0 q 100 334 100 215 q 68 642 100 494 l 186 659 q 199 559 199 584 l 205 559 q 376 667 278 667 q 499 644 427 667 m 224 -168 q 188 -276 224 -220 q 113 -357 152 -332 l 86 -330 q 136 -220 136 -267 q 68 -154 68 -202 q 86 -97 68 -121 q 142 -73 105 -73 q 203 -99 182 -73 q 224 -168 224 -125 z "
		},
		"ś": {
			"ha": 582,
			"x_min": 58,
			"x_max": 547,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 m 547 956 q 453 848 547 948 q 359 736 359 747 l 278 736 q 339 848 278 747 q 400 956 400 949 l 547 956 z "
		},
		"ŝ": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 m 496 736 l 426 736 q 299 878 426 745 q 172 736 172 745 l 102 736 q 166 845 102 745 q 233 956 230 945 l 365 956 q 432 845 368 945 q 496 736 496 745 z "
		},
		"š": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 m 504 956 q 440 847 504 947 q 372 736 376 747 l 241 736 q 173 847 237 747 q 109 956 109 947 l 180 956 q 307 815 180 947 q 433 956 433 947 l 504 956 z "
		},
		"ş": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 291 -14 520 -5 l 285 -68 q 418 -198 418 -100 q 255 -349 418 -349 l 245 -286 q 297 -264 277 -286 q 317 -213 317 -243 q 214 -117 317 -136 l 235 -14 q 58 8 141 -11 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 z "
		},
		"ș": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 m 343 -168 q 307 -276 343 -220 q 232 -357 271 -332 l 205 -330 q 256 -220 256 -267 q 187 -154 187 -202 q 206 -97 187 -121 q 262 -73 224 -73 q 322 -99 302 -73 q 343 -168 343 -125 z "
		},
		"ß": {
			"ha": 748,
			"x_min": 90,
			"x_max": 694,
			"o": "m 694 165 q 618 27 694 76 q 456 -14 553 -14 q 314 1 371 -14 l 332 88 q 464 67 393 67 q 591 146 591 67 q 484 289 591 201 q 393 374 419 342 q 356 472 356 422 q 402 597 356 537 q 488 690 445 644 q 534 786 534 742 q 393 884 534 884 q 201 623 201 884 q 208 0 201 326 l 90 0 q 94 608 94 287 q 185 883 94 791 q 414 974 275 974 q 572 928 511 974 q 632 806 632 882 q 588 692 632 747 l 505 604 q 461 510 461 553 q 491 439 461 473 q 568 373 509 419 q 654 290 628 326 q 694 165 694 235 z "
		},
		"ſ": {
			"ha": 384,
			"x_min": 90,
			"x_max": 411,
			"o": "m 411 962 l 391 873 q 310 883 351 883 q 225 833 247 883 q 203 631 203 783 q 212 0 203 232 l 90 0 q 100 631 100 226 q 149 891 100 809 q 317 974 199 974 q 411 962 358 974 z "
		},
		"ť": {
			"ha": 619,
			"x_min": 30,
			"x_max": 642,
			"o": "m 461 94 l 453 5 q 352 -14 399 -14 q 185 48 230 -14 q 140 270 140 110 q 142 541 140 374 q 30 536 104 541 l 34 635 q 149 631 98 631 q 156 824 149 671 l 262 835 q 251 631 251 692 q 446 637 317 631 l 441 536 q 245 541 319 541 q 244 310 244 438 q 274 125 244 170 q 383 80 303 80 q 461 94 410 80 m 642 796 q 603 677 642 739 q 519 589 563 616 l 490 618 q 546 739 546 688 q 470 812 470 759 q 491 875 470 848 q 552 901 511 901 q 619 872 596 901 q 642 796 642 843 z "
		},
		"ţ": {
			"ha": 498,
			"x_min": 30,
			"x_max": 461,
			"o": "m 461 94 l 453 5 q 352 -14 399 -14 q 185 48 230 -14 q 140 270 140 110 q 142 541 140 374 q 30 536 104 541 l 34 635 q 149 631 98 631 q 156 824 149 671 l 262 835 q 251 631 251 692 q 446 637 317 631 l 441 536 q 245 541 319 541 q 244 310 244 438 q 274 125 244 170 q 383 80 303 80 q 461 94 410 80 m 363 -168 q 328 -276 363 -220 q 252 -357 292 -332 l 226 -330 q 276 -220 276 -267 q 208 -154 208 -202 q 226 -97 208 -121 q 282 -73 245 -73 q 343 -99 322 -73 q 363 -168 363 -125 z "
		},
		"ŧ": {
			"ha": 498,
			"x_min": 30,
			"x_max": 461,
			"o": "m 461 94 l 453 5 q 355 -14 399 -14 q 192 39 244 -14 q 140 263 140 92 l 140 313 l 33 313 l 37 382 l 140 382 q 142 541 141 453 q 30 536 104 541 l 34 635 q 149 631 98 631 q 156 824 149 671 l 262 835 q 251 631 251 692 q 446 637 317 631 l 441 536 q 245 541 319 541 q 244 382 244 468 l 429 382 l 425 313 l 244 313 l 244 310 q 274 125 244 170 q 383 80 303 80 q 461 94 410 80 z "
		},
		"ù": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 435 736 l 354 736 q 260 848 354 747 q 167 956 167 948 l 313 956 q 374 848 313 949 q 435 736 435 747 z "
		},
		"ú": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 593 956 q 499 848 593 948 q 406 736 406 747 l 324 736 q 385 848 324 747 q 446 956 446 949 l 593 956 z "
		},
		"û": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 578 736 l 508 736 q 381 878 508 745 q 254 736 254 745 l 184 736 q 248 845 184 745 q 315 956 312 945 l 447 956 q 514 845 450 945 q 578 736 578 745 z "
		},
		"ũ": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 653 926 q 484 777 578 777 q 396 793 449 777 q 311 809 344 809 q 195 728 252 809 l 153 762 q 322 911 227 911 q 409 895 357 911 q 494 879 462 879 q 611 960 554 879 l 653 926 z "
		},
		"ü": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 319 848 q 299 794 319 817 q 241 770 278 770 q 194 791 211 770 q 177 840 177 811 q 198 892 177 869 q 256 915 218 915 q 303 896 286 915 q 319 848 319 876 m 576 848 q 555 794 576 817 q 498 770 534 770 q 450 791 467 770 q 433 840 433 811 q 454 892 433 869 q 512 915 475 915 q 559 896 543 915 q 576 848 576 876 z "
		},
		"ū": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 537 888 l 529 804 l 235 804 l 242 888 l 537 888 z "
		},
		"ŭ": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 583 909 q 376 754 519 754 q 167 909 226 754 l 235 943 q 374 838 283 838 q 515 943 458 838 l 583 909 z "
		},
		"ů": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 523 873 q 476 761 523 802 q 368 720 429 720 q 274 754 313 720 q 235 854 235 789 q 282 965 235 924 q 390 1006 329 1006 q 484 971 446 1006 q 523 873 523 937 m 459 867 q 437 927 459 906 q 385 947 416 947 q 325 923 351 947 q 299 858 299 899 q 321 799 299 819 q 374 778 342 778 q 433 802 408 778 q 459 867 459 826 z "
		},
		"ű": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 410 956 q 348 844 410 941 q 286 736 286 747 l 222 736 q 245 845 222 747 q 269 956 269 942 l 410 956 m 654 956 q 592 844 654 941 q 530 736 530 747 l 466 736 q 490 845 466 747 q 513 956 513 942 l 654 956 z "
		},
		"ų": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 660 -319 q 568 -330 624 -330 q 463 -293 506 -330 q 420 -183 420 -256 q 555 -1 420 -85 l 556 -1 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 152 39 207 -17 q 97 262 97 94 q 98 338 97 288 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 232 146 206 214 q 352 79 258 79 q 536 133 466 79 q 530 642 536 510 l 652 646 q 646 293 646 518 q 661 0 646 149 q 513 -159 513 -85 q 583 -237 513 -237 q 641 -227 610 -237 l 660 -319 z "
		},
		"ẁ": {
			"ha": 1064,
			"x_min": 30,
			"x_max": 1034,
			"o": "m 1034 644 q 918 325 1034 604 q 802 0 802 47 l 709 0 q 641 197 709 26 q 522 527 557 408 l 516 527 q 405 197 484 412 q 342 0 342 26 l 250 0 q 140 326 250 39 q 30 644 30 612 l 151 644 q 230 387 151 609 q 309 127 309 164 l 316 127 q 398 396 316 183 q 479 644 479 608 l 595 644 q 680 385 595 613 q 764 127 764 156 l 771 127 q 845 380 771 169 q 918 644 918 591 l 1034 644 m 576 736 l 495 736 q 401 848 495 747 q 308 956 308 948 l 454 956 q 515 848 454 949 q 576 736 576 747 z "
		},
		"ẃ": {
			"ha": 1064,
			"x_min": 30,
			"x_max": 1034,
			"o": "m 1034 644 q 918 325 1034 604 q 802 0 802 47 l 709 0 q 641 197 709 26 q 522 527 557 408 l 516 527 q 405 197 484 412 q 342 0 342 26 l 250 0 q 140 326 250 39 q 30 644 30 612 l 151 644 q 230 387 151 609 q 309 127 309 164 l 316 127 q 398 396 316 183 q 479 644 479 608 l 595 644 q 680 385 595 613 q 764 127 764 156 l 771 127 q 845 380 771 169 q 918 644 918 591 l 1034 644 m 767 956 q 673 848 767 948 q 580 736 580 747 l 498 736 q 559 848 498 747 q 621 956 621 949 l 767 956 z "
		},
		"ŵ": {
			"ha": 1064,
			"x_min": 30,
			"x_max": 1034,
			"o": "m 1034 644 q 918 325 1034 604 q 802 0 802 47 l 709 0 q 641 197 709 26 q 522 527 557 408 l 516 527 q 405 197 484 412 q 342 0 342 26 l 250 0 q 140 326 250 39 q 30 644 30 612 l 151 644 q 230 387 151 609 q 309 127 309 164 l 316 127 q 398 396 316 183 q 479 644 479 608 l 595 644 q 680 385 595 613 q 764 127 764 156 l 771 127 q 845 380 771 169 q 918 644 918 591 l 1034 644 m 725 736 l 654 736 q 528 878 654 745 q 401 736 401 745 l 330 736 q 394 845 330 745 q 462 956 458 945 l 593 956 q 661 845 597 945 q 725 736 725 745 z "
		},
		"ẅ": {
			"ha": 1064,
			"x_min": 30,
			"x_max": 1034,
			"o": "m 1034 644 q 918 325 1034 604 q 802 0 802 47 l 709 0 q 641 197 709 26 q 522 527 557 408 l 516 527 q 405 197 484 412 q 342 0 342 26 l 250 0 q 140 326 250 39 q 30 644 30 612 l 151 644 q 230 387 151 609 q 309 127 309 164 l 316 127 q 398 396 316 183 q 479 644 479 608 l 595 644 q 680 385 595 613 q 764 127 764 156 l 771 127 q 845 380 771 169 q 918 644 918 591 l 1034 644 m 490 848 q 470 794 490 817 q 412 770 449 770 q 365 791 382 770 q 348 840 348 811 q 369 892 348 869 q 427 915 389 915 q 474 896 457 915 q 490 848 490 876 m 747 848 q 726 794 747 817 q 669 770 705 770 q 621 791 638 770 q 604 840 604 811 q 625 892 604 869 q 683 915 646 915 q 730 896 713 915 q 747 848 747 876 z "
		},
		"ỳ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 405 736 l 323 736 q 230 848 323 747 q 136 956 136 948 l 283 956 q 344 848 283 949 q 405 736 405 747 z "
		},
		"ý": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 568 956 q 474 848 568 948 q 380 736 380 747 l 299 736 q 360 848 299 747 q 421 956 421 949 l 568 956 z "
		},
		"ŷ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 531 736 l 460 736 q 334 878 460 745 q 207 736 207 745 l 136 736 q 200 845 136 745 q 268 956 264 945 l 399 956 q 467 845 403 945 q 531 736 531 745 z "
		},
		"ÿ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 291 848 q 270 794 291 817 q 213 770 250 770 q 165 791 182 770 q 149 840 149 811 q 169 892 149 869 q 227 915 190 915 q 274 896 258 915 q 291 848 291 876 m 547 848 q 527 794 547 817 q 469 770 506 770 q 422 791 439 770 q 405 840 405 811 q 426 892 405 869 q 484 915 446 915 q 531 896 514 915 q 547 848 547 876 z "
		},
		"ź": {
			"ha": 633,
			"x_min": 67,
			"x_max": 566,
			"o": "m 566 109 l 562 0 l 67 0 l 73 105 q 256 319 109 140 q 417 539 417 515 l 416 547 q 71 538 199 547 l 75 644 l 546 644 l 539 538 q 361 322 483 476 q 209 104 209 130 l 209 98 q 566 109 414 98 m 538 956 q 445 848 538 948 q 351 736 351 747 l 270 736 q 331 848 270 747 q 392 956 392 949 l 538 956 z "
		},
		"ž": {
			"ha": 633,
			"x_min": 67,
			"x_max": 566,
			"o": "m 566 109 l 562 0 l 67 0 l 73 105 q 256 319 109 140 q 417 539 417 515 l 416 547 q 71 538 199 547 l 75 644 l 546 644 l 539 538 q 361 322 483 476 q 209 104 209 130 l 209 98 q 566 109 414 98 m 524 956 q 459 847 524 947 q 392 736 395 747 l 260 736 q 193 847 257 747 q 129 956 129 947 l 199 956 q 326 815 199 947 q 453 956 453 947 l 524 956 z "
		},
		"ż": {
			"ha": 633,
			"x_min": 67,
			"x_max": 566,
			"o": "m 566 109 l 562 0 l 67 0 l 73 105 q 256 319 109 140 q 417 539 417 515 l 416 547 q 71 538 199 547 l 75 644 l 546 644 l 539 538 q 361 322 483 476 q 209 104 209 130 l 209 98 q 566 109 414 98 m 403 848 q 380 788 403 813 q 317 762 358 762 q 263 784 283 762 q 244 838 244 806 q 267 897 244 871 q 331 922 290 922 q 384 900 364 922 q 403 848 403 878 z "
		},
		"ŋ": {
			"ha": 756,
			"x_min": 75,
			"x_max": 668,
			"o": "m 668 -38 q 609 -212 668 -146 q 368 -300 518 -300 l 362 -205 q 513 -162 465 -205 q 562 -3 561 -119 q 559 389 559 103 q 516 532 559 494 q 395 570 473 570 q 214 500 298 570 q 217 0 214 210 l 94 0 q 105 334 105 231 q 75 642 105 492 l 195 659 l 208 576 l 213 576 q 425 667 314 667 q 602 617 539 667 q 664 443 664 568 q 663 357 664 403 q 661 237 661 311 q 665 74 661 138 q 668 -38 668 9 z "
		},
		"ð": {
			"ha": 761,
			"x_min": 67,
			"x_max": 694,
			"o": "m 694 361 q 611 81 694 188 q 376 -26 529 -26 q 147 67 227 -26 q 67 292 67 160 q 148 532 67 427 q 364 637 229 637 q 538 590 467 637 l 545 590 q 438 779 509 708 q 324 698 388 743 l 271 782 q 389 837 302 795 q 302 918 345 883 l 365 975 q 480 886 388 963 q 604 967 532 916 l 658 883 q 533 830 624 868 q 694 361 694 636 m 574 355 q 564 506 574 437 q 376 548 492 548 q 240 478 292 548 q 188 297 188 408 q 238 136 188 204 q 376 68 288 68 q 526 155 477 68 q 574 355 574 241 z "
		},
		"þ": {
			"ha": 774,
			"x_min": 83,
			"x_max": 707,
			"o": "m 707 349 q 684 204 707 271 q 619 88 661 137 q 518 10 577 39 q 389 -18 460 -18 q 216 26 264 -18 l 209 26 q 213 -310 209 -163 l 83 -310 q 100 64 94 -138 q 106 506 106 267 q 84 954 106 752 l 218 961 q 213 810 215 902 q 212 591 212 719 l 217 591 q 440 668 290 668 q 550 644 500 668 q 634 578 599 621 q 688 477 669 536 q 707 349 707 418 m 587 332 q 572 429 587 385 q 531 507 557 474 q 467 557 504 539 q 384 576 429 576 q 209 502 262 576 q 210 283 209 380 q 212 111 210 186 q 349 64 261 64 q 445 85 401 64 q 520 141 489 105 q 569 227 552 178 q 587 332 587 275 z "
		},
		"ⁿ": {
			"ha": 406,
			"x_min": 29,
			"x_max": 368,
			"o": "m 368 420 l 280 420 q 288 637 288 522 q 269 706 288 689 q 214 723 249 723 q 127 692 170 723 q 129 525 129 595 q 130 420 129 455 l 41 420 q 46 531 44 482 q 47 608 47 580 q 29 779 47 691 l 117 791 l 121 750 l 125 750 q 239 793 170 793 q 333 764 299 793 q 368 665 368 735 q 367 613 368 625 q 366 572 366 602 q 368 420 366 508 z "
		},
		"ﬀ": {
			"ha": 859,
			"x_min": 16,
			"x_max": 859,
			"o": "m 572 843 q 423 878 511 878 q 338 865 370 878 q 290 821 307 851 q 269 741 273 790 q 264 632 264 691 l 548 632 q 559 789 548 724 q 572 843 564 819 m 840 872 q 758 884 798 884 q 673 834 695 884 q 650 631 650 785 q 840 637 719 631 l 836 536 q 650 541 698 541 q 659 0 650 232 l 538 0 q 548 541 548 227 l 262 541 q 271 0 262 232 l 150 0 q 160 541 160 227 q 16 536 118 541 l 20 636 q 160 632 114 632 q 171 775 160 710 q 212 882 182 840 q 297 942 243 923 q 423 962 351 962 q 618 919 536 962 q 758 974 668 974 q 859 962 806 974 l 840 872 z "
		},
		"ﬁ": {
			"ha": 752,
			"x_min": 14,
			"x_max": 684,
			"o": "m 684 925 l 642 823 q 422 890 510 890 q 337 877 368 890 q 289 833 305 863 q 267 753 272 802 q 262 631 262 703 q 669 657 534 631 q 661 310 661 516 q 670 0 661 147 l 547 0 q 557 310 557 136 q 554 437 557 378 q 545 549 551 496 q 402 543 473 545 q 262 541 332 541 q 271 0 262 232 l 149 0 q 159 541 159 382 q 14 536 117 541 l 19 636 q 101 632 66 633 q 159 631 136 631 q 170 787 159 722 q 211 894 180 852 q 295 955 241 935 q 422 974 349 974 q 684 925 568 974 z "
		},
		"ﬃ": {
			"ha": 1140,
			"x_min": 16,
			"x_max": 1072,
			"o": "m 1072 925 l 1030 823 q 810 890 898 890 q 725 877 756 890 q 676 833 693 863 q 655 753 660 802 q 650 631 650 703 q 1057 657 922 631 q 1048 310 1048 515 q 1058 0 1048 147 l 934 0 q 944 310 944 136 q 930 550 944 456 q 650 541 823 542 q 659 0 650 232 l 538 0 q 548 541 548 227 l 262 541 q 271 0 262 232 l 150 0 q 160 541 160 227 q 16 536 118 541 l 20 636 q 159 631 113 631 q 170 774 159 709 q 212 880 181 839 q 296 941 242 922 q 422 960 350 960 q 620 917 537 960 q 684 954 646 941 q 810 974 738 974 q 1072 925 956 974 m 572 842 q 422 877 510 877 q 337 863 369 877 q 289 819 306 850 q 268 739 273 789 q 263 631 263 690 l 547 631 q 558 787 547 722 q 572 842 563 817 z "
		},
		"ﬂ": {
			"ha": 775,
			"x_min": 16,
			"x_max": 677,
			"o": "m 677 961 q 664 505 664 777 q 677 0 664 228 l 547 0 q 559 505 559 224 q 547 874 559 700 q 423 890 479 890 q 338 877 370 890 q 290 833 307 863 q 269 753 273 802 q 264 631 264 703 q 452 637 331 631 l 448 536 q 262 541 310 541 q 271 0 262 232 l 150 0 q 160 541 160 227 q 16 536 118 541 l 20 636 q 160 631 114 631 q 171 787 160 722 q 212 894 182 852 q 297 955 243 935 q 423 974 351 974 q 539 954 479 974 l 677 961 z "
		},
		"ﬄ": {
			"ha": 1164,
			"x_min": 16,
			"x_max": 1066,
			"o": "m 1066 0 l 935 0 q 947 505 947 224 q 935 874 947 700 q 811 890 867 890 q 726 877 758 890 q 678 833 694 863 q 656 753 661 802 q 652 631 652 703 q 840 637 719 631 l 836 536 q 650 541 698 541 q 659 0 650 232 l 538 0 q 548 541 548 227 l 262 541 q 271 0 262 232 l 150 0 q 160 541 160 227 q 16 536 118 541 l 20 636 q 160 631 114 631 q 171 774 160 709 q 212 880 182 839 q 297 941 243 922 q 423 960 351 960 q 621 917 538 960 q 684 954 647 941 q 811 974 739 974 q 927 954 867 974 l 1065 962 q 1052 505 1052 777 q 1066 0 1052 228 m 572 842 q 423 877 511 877 q 338 863 370 877 q 290 819 307 850 q 269 739 273 789 q 264 631 264 690 l 548 631 q 559 787 548 722 q 572 842 564 817 z "
		},
		"&": {
			"ha": 947,
			"x_min": 56,
			"x_max": 929,
			"o": "m 929 0 l 782 0 q 738 83 782 17 q 667 178 695 148 l 661 178 q 314 -20 528 -20 q 128 43 200 -20 q 56 214 56 105 q 108 404 56 329 q 259 518 159 478 l 259 523 q 137 710 137 617 q 204 848 137 799 q 363 898 271 898 q 520 849 454 898 q 586 712 586 800 q 550 606 586 656 q 451 530 513 555 l 451 523 q 678 335 527 483 l 682 335 q 712 517 712 387 l 840 517 q 806 408 840 490 q 734 283 768 319 l 734 277 q 856 132 785 231 q 929 0 929 29 m 619 233 l 619 239 q 522 336 570 292 q 321 482 407 440 q 178 262 178 418 q 230 126 178 177 q 367 76 281 76 q 619 233 481 76 m 476 685 q 443 781 476 749 q 361 814 409 814 q 284 787 317 814 q 251 716 251 760 q 389 560 251 625 q 476 685 476 598 z "
		},
		"`": {
			"ha": 381,
			"x_min": 61,
			"x_max": 330,
			"o": "m 330 736 l 248 736 q 155 848 248 747 q 61 956 61 948 l 208 956 q 269 848 208 949 q 330 736 330 747 z "
		},
		"̀": {
			"ha": 0,
			"x_min": -547,
			"x_max": -278,
			"o": "m -278 736 l -359 736 q -453 848 -359 747 q -547 956 -547 948 l -400 956 q -339 848 -400 949 q -278 736 -278 747 z "
		},
		"´": {
			"ha": 381,
			"x_min": 57,
			"x_max": 326,
			"o": "m 326 956 q 232 848 326 948 q 138 736 138 747 l 57 736 q 118 848 57 747 q 179 956 179 949 l 326 956 z "
		},
		"́": {
			"ha": 0,
			"x_min": -408,
			"x_max": -139,
			"o": "m -139 956 q -233 848 -139 948 q -326 736 -326 747 l -408 736 q -347 848 -408 747 q -286 956 -286 949 l -139 956 z "
		},
		"ˆ": {
			"ha": 530,
			"x_min": 68,
			"x_max": 463,
			"o": "m 463 736 l 392 736 q 265 878 392 745 q 138 736 138 745 l 68 736 q 132 845 68 745 q 199 956 196 945 l 331 956 q 398 845 334 945 q 463 736 463 745 z "
		},
		"̂": {
			"ha": 0,
			"x_min": -527,
			"x_max": -132,
			"o": "m -132 736 l -203 736 q -330 878 -203 745 q -456 736 -456 745 l -527 736 q -463 845 -527 745 q -395 956 -399 945 l -264 956 q -196 845 -260 945 q -132 736 -132 745 z "
		},
		"ˇ": {
			"ha": 530,
			"x_min": 68,
			"x_max": 463,
			"o": "m 463 956 q 398 847 463 947 q 331 736 334 747 l 199 736 q 132 847 196 747 q 68 956 68 947 l 138 956 q 265 815 138 947 q 392 956 392 947 l 463 956 z "
		},
		"̌": {
			"ha": 0,
			"x_min": -572,
			"x_max": -177,
			"o": "m -177 956 q -241 847 -177 947 q -309 736 -305 747 l -440 736 q -508 847 -444 747 q -572 956 -572 947 l -501 956 q -374 815 -501 947 q -248 956 -248 947 l -177 956 z "
		},
		"̕": {
			"ha": 113,
			"x_min": -35,
			"x_max": 137,
			"o": "m 137 796 q 97 677 137 739 q 14 589 58 616 l -15 618 q 41 739 41 688 q -35 812 -35 759 q -15 875 -35 848 q 47 901 6 901 q 114 872 91 901 q 137 796 137 843 z "
		},
		"˜": {
			"ha": 600,
			"x_min": 49,
			"x_max": 549,
			"o": "m 549 926 q 380 777 475 777 q 293 793 345 777 q 208 809 240 809 q 91 728 148 809 l 49 762 q 218 911 123 911 q 306 895 253 911 q 391 879 358 879 q 507 960 450 879 l 549 926 z "
		},
		"̃": {
			"ha": 0,
			"x_min": -578,
			"x_max": -77,
			"o": "m -77 926 q -247 777 -152 777 q -334 793 -281 777 q -419 809 -387 809 q -536 728 -479 809 l -578 762 q -408 911 -503 911 q -321 895 -374 911 q -236 879 -269 879 q -119 960 -176 879 l -77 926 z "
		},
		"¨": {
			"ha": 567,
			"x_min": 85,
			"x_max": 484,
			"o": "m 227 848 q 207 794 227 817 q 149 770 186 770 q 102 791 119 770 q 85 840 85 811 q 105 892 85 869 q 163 915 126 915 q 211 896 194 915 q 227 848 227 876 m 484 848 q 463 794 484 817 q 406 770 442 770 q 358 791 375 770 q 341 840 341 811 q 362 892 341 869 q 420 915 382 915 q 467 896 450 915 q 484 848 484 876 z "
		},
		"̈": {
			"ha": 0,
			"x_min": -561,
			"x_max": -162,
			"o": "m -418 848 q -439 794 -418 817 q -496 770 -460 770 q -544 791 -527 770 q -561 840 -561 811 q -540 892 -561 869 q -482 915 -519 915 q -435 896 -452 915 q -418 848 -418 876 m -162 848 q -183 794 -162 817 q -240 770 -203 770 q -288 791 -271 770 q -304 840 -304 811 q -284 892 -304 869 q -226 915 -263 915 q -179 896 -195 915 q -162 848 -162 876 z "
		},
		"¯": {
			"ha": 339,
			"x_min": 19,
			"x_max": 321,
			"o": "m 321 888 l 313 804 l 19 804 l 26 888 l 321 888 z "
		},
		"̄": {
			"ha": 0,
			"x_min": -472,
			"x_max": -170,
			"o": "m -170 888 l -178 804 l -472 804 l -465 888 l -170 888 z "
		},
		"˘": {
			"ha": 530,
			"x_min": 57,
			"x_max": 473,
			"o": "m 473 909 q 266 754 409 754 q 57 909 116 754 l 125 943 q 264 838 174 838 q 406 943 349 838 l 473 909 z "
		},
		"̆": {
			"ha": 0,
			"x_min": -569,
			"x_max": -153,
			"o": "m -153 909 q -360 754 -217 754 q -569 909 -510 754 l -501 943 q -361 838 -452 838 q -220 943 -277 838 l -153 909 z "
		},
		"˚": {
			"ha": 414,
			"x_min": 63,
			"x_max": 351,
			"o": "m 351 873 q 304 761 351 802 q 196 720 257 720 q 102 754 140 720 q 63 854 63 789 q 110 965 63 924 q 218 1006 157 1006 q 312 971 273 1006 q 351 873 351 937 m 287 867 q 265 927 287 906 q 212 947 243 947 q 153 923 178 947 q 127 858 127 899 q 149 799 127 819 q 201 778 170 778 q 261 802 235 778 q 287 867 287 826 z "
		},
		"̊": {
			"ha": 0,
			"x_min": -484,
			"x_max": -197,
			"o": "m -197 873 q -243 761 -197 802 q -351 720 -290 720 q -446 754 -407 720 q -484 854 -484 789 q -437 965 -484 924 q -330 1006 -391 1006 q -235 971 -274 1006 q -197 873 -197 937 m -260 867 q -282 927 -260 906 q -335 947 -304 947 q -395 923 -369 947 q -420 858 -420 899 q -399 799 -420 819 q -346 778 -377 778 q -286 802 -312 778 q -260 867 -260 826 z "
		},
		"˝": {
			"ha": 598,
			"x_min": 83,
			"x_max": 515,
			"o": "m 271 956 q 209 844 271 941 q 146 736 146 747 l 83 736 q 106 845 83 747 q 130 956 130 942 l 271 956 m 515 956 q 453 844 515 941 q 391 736 391 747 l 327 736 q 351 845 327 747 q 374 956 374 942 l 515 956 z "
		},
		"̋": {
			"ha": 0,
			"x_min": -514,
			"x_max": -81,
			"o": "m -326 956 q -388 844 -326 941 q -450 736 -450 747 l -514 736 q -490 845 -514 747 q -467 956 -467 942 l -326 956 m -81 956 q -144 844 -81 941 q -206 736 -206 747 l -270 736 q -246 845 -270 747 q -222 956 -222 942 l -81 956 z "
		},
		"˙": {
			"ha": 357,
			"x_min": 112,
			"x_max": 271,
			"o": "m 271 848 q 248 788 271 813 q 185 762 226 762 q 131 784 151 762 q 112 838 112 806 q 135 897 112 871 q 199 922 158 922 q 251 900 232 922 q 271 848 271 878 z "
		},
		"̇": {
			"ha": 0,
			"x_min": -437,
			"x_max": -279,
			"o": "m -279 848 q -301 788 -279 813 q -364 762 -323 762 q -418 784 -399 762 q -437 838 -437 806 q -414 897 -437 871 q -351 922 -391 922 q -298 900 -317 922 q -279 848 -279 878 z "
		},
		"¸": {
			"ha": 319,
			"x_min": 79,
			"x_max": 282,
			"o": "m 282 -198 q 119 -349 282 -349 l 110 -286 q 162 -264 142 -286 q 182 -213 182 -243 q 79 -117 182 -136 l 110 35 l 160 26 l 149 -68 q 282 -198 282 -100 z "
		},
		"̧": {
			"ha": 0,
			"x_min": -214,
			"x_max": -11,
			"o": "m -11 -198 q -174 -349 -11 -349 l -183 -286 q -131 -264 -151 -286 q -111 -213 -111 -243 q -214 -117 -111 -136 l -183 35 l -133 26 l -144 -68 q -11 -198 -11 -100 z "
		},
		"˛": {
			"ha": 319,
			"x_min": 18,
			"x_max": 258,
			"o": "m 258 -319 q 165 -330 222 -330 q 61 -290 104 -330 q 18 -183 18 -250 q 119 0 18 -92 l 222 0 q 111 -165 111 -78 q 180 -237 111 -237 q 239 -227 208 -237 l 258 -319 z "
		},
		"̨": {
			"ha": 0,
			"x_min": -286,
			"x_max": -45,
			"o": "m -45 -319 q -138 -330 -81 -330 q -242 -290 -199 -330 q -286 -183 -286 -250 q -184 0 -286 -92 l -81 0 q -192 -165 -192 -78 q -123 -237 -192 -237 q -64 -227 -96 -237 l -45 -319 z "
		},
		"̦": {
			"ha": 0,
			"x_min": -437,
			"x_max": -281,
			"o": "m -281 -168 q -317 -276 -281 -220 q -393 -357 -353 -332 l -419 -330 q -369 -220 -369 -267 q -437 -154 -437 -202 q -419 -97 -437 -121 q -363 -73 -400 -73 q -302 -99 -323 -73 q -281 -168 -281 -125 z "
		},
		"̒": {
			"ha": 0,
			"x_min": -437,
			"x_max": -274,
			"o": "m -274 850 q -296 786 -274 810 q -355 762 -318 762 q -417 788 -397 762 q -437 865 -437 814 q -401 973 -437 917 q -326 1053 -365 1029 l -299 1026 q -342 924 -342 963 q -274 850 -274 904 z "
		},
		",": {
			"ha": 350,
			"x_min": 34,
			"x_max": 264,
			"o": "m 264 77 q 218 -92 264 -13 q 75 -255 171 -171 l 34 -210 q 137 3 137 -95 q 79 88 79 26 q 103 157 79 127 q 176 186 127 186 q 240 155 215 186 q 264 77 264 123 m 179 -1 z "
		},
		";": {
			"ha": 350,
			"x_min": 34,
			"x_max": 267,
			"o": "m 264 77 q 218 -92 264 -13 q 75 -255 171 -171 l 34 -210 q 137 3 137 -95 q 79 88 79 26 q 103 157 79 127 q 176 186 127 186 q 240 155 215 186 q 264 77 264 123 m 179 -1 m 267 562 q 240 492 267 522 q 165 461 213 461 q 103 488 125 461 q 81 551 81 514 q 109 620 81 590 q 184 649 136 649 q 245 624 224 649 q 267 562 267 599 z "
		},
		":": {
			"ha": 350,
			"x_min": 81,
			"x_max": 267,
			"o": "m 267 562 q 240 492 267 522 q 165 461 213 461 q 103 488 125 461 q 81 551 81 514 q 109 620 81 590 q 184 649 136 649 q 245 624 224 649 q 267 562 267 599 m 267 100 q 240 29 267 60 q 165 -1 213 -1 q 103 25 125 -1 q 81 88 81 52 q 109 157 81 127 q 184 186 136 186 q 245 161 224 186 q 267 100 267 136 z "
		},
		".": {
			"ha": 350,
			"x_min": 81,
			"x_max": 267,
			"o": "m 267 100 q 240 29 267 60 q 165 -1 213 -1 q 103 25 125 -1 q 81 88 81 52 q 109 157 81 127 q 184 186 136 186 q 245 161 224 186 q 267 100 267 136 z "
		},
		"…": {
			"ha": 1389,
			"x_min": 81,
			"x_max": 1103,
			"o": "m 1103 100 q 1077 29 1103 60 q 1002 -1 1050 -1 q 940 25 962 -1 q 918 88 918 52 q 945 157 918 127 q 1021 186 972 186 q 1082 161 1061 186 q 1103 100 1103 136 m 685 100 q 658 29 685 60 q 584 -1 631 -1 q 522 25 544 -1 q 500 88 500 52 q 527 157 500 127 q 602 186 554 186 q 664 161 642 186 q 685 100 685 136 m 267 100 q 240 29 267 60 q 165 -1 213 -1 q 103 25 125 -1 q 81 88 81 52 q 109 157 81 127 q 184 186 136 186 q 245 161 224 186 q 267 100 267 136 z "
		},
		"-": {
			"ha": 350,
			"x_min": 26,
			"x_max": 325,
			"o": "m 325 394 l 317 307 l 26 297 l 33 384 l 325 394 z "
		},
		"!": {
			"ha": 350,
			"x_min": 81,
			"x_max": 267,
			"o": "m 256 791 q 200 364 256 646 l 150 364 q 115 783 115 650 q 195 899 115 899 q 256 791 256 899 m 267 100 q 240 29 267 60 q 165 -1 213 -1 q 103 25 125 -1 q 81 88 81 52 q 109 157 81 127 q 184 186 136 186 q 245 161 224 186 q 267 100 267 136 z "
		},
		"¡": {
			"ha": 350,
			"x_min": 83,
			"x_max": 269,
			"o": "m 235 -127 q 155 -243 235 -243 q 94 -136 94 -243 q 150 292 94 10 l 200 292 q 235 -127 235 5 m 269 568 q 241 498 269 528 q 166 469 214 469 q 105 494 126 469 q 83 556 83 519 q 110 627 83 596 q 184 657 137 657 q 247 631 224 657 q 269 568 269 604 z "
		},
		"?": {
			"ha": 490,
			"x_min": 41,
			"x_max": 443,
			"o": "m 443 694 q 255 467 443 547 l 241 364 l 188 364 l 163 509 q 328 673 328 542 q 41 820 328 820 l 58 905 q 443 694 443 905 m 296 100 q 269 29 296 60 q 195 -1 242 -1 q 133 25 155 -1 q 111 88 111 52 q 138 157 111 127 q 213 186 165 186 q 274 161 253 186 q 296 100 296 136 z "
		},
		"¿": {
			"ha": 490,
			"x_min": 47,
			"x_max": 450,
			"o": "m 450 -159 l 433 -244 q 47 -33 47 -244 q 235 195 47 113 l 250 297 l 302 297 l 328 153 q 163 -12 163 119 q 450 -159 163 -159 m 380 573 q 354 505 380 533 q 277 475 325 475 q 214 501 237 475 q 195 562 195 525 q 220 630 195 602 q 296 663 248 663 q 359 635 335 663 q 380 573 380 610 z "
		},
		"‘": {
			"ha": 350,
			"x_min": 62,
			"x_max": 293,
			"o": "m 293 936 q 190 723 190 821 q 248 637 248 700 q 224 569 248 598 q 151 539 199 539 q 87 571 112 539 q 62 648 62 603 q 109 818 62 739 q 252 981 156 897 l 293 936 m 160 727 z "
		},
		"’": {
			"ha": 350,
			"x_min": 66,
			"x_max": 296,
			"o": "m 296 865 q 250 695 296 774 q 106 532 203 616 l 66 577 q 169 790 169 692 q 111 876 111 813 q 135 944 111 915 q 208 974 159 974 q 272 942 247 974 q 296 865 296 910 m 208 786 z "
		},
		"“": {
			"ha": 701,
			"x_min": 62,
			"x_max": 632,
			"o": "m 632 936 q 529 723 529 821 q 587 637 587 700 q 563 569 587 598 q 490 539 538 539 q 426 571 451 539 q 401 648 401 603 q 448 818 401 739 q 591 981 495 897 l 632 936 m 499 727 m 293 936 q 190 723 190 821 q 248 637 248 700 q 224 569 248 598 q 151 539 199 539 q 87 571 112 539 q 62 648 62 603 q 109 818 62 739 q 252 981 156 897 l 293 936 m 160 727 z "
		},
		"”": {
			"ha": 701,
			"x_min": 66,
			"x_max": 635,
			"o": "m 635 865 q 589 695 635 774 q 446 532 542 616 l 405 577 q 508 790 508 692 q 450 876 450 813 q 474 944 450 915 q 547 974 498 974 q 611 942 586 974 q 635 865 635 910 m 547 786 m 296 865 q 250 695 296 774 q 106 532 203 616 l 66 577 q 169 790 169 692 q 111 876 111 813 q 135 944 111 915 q 208 974 159 974 q 272 942 247 974 q 296 865 296 910 m 208 786 z "
		},
		"‚": {
			"ha": 350,
			"x_min": 34,
			"x_max": 264,
			"o": "m 264 77 q 218 -92 264 -13 q 75 -255 171 -171 l 34 -210 q 137 3 137 -95 q 79 88 79 26 q 103 157 79 127 q 176 186 127 186 q 240 155 215 186 q 264 77 264 123 m 179 -1 z "
		},
		"„": {
			"ha": 701,
			"x_min": 34,
			"x_max": 614,
			"o": "m 614 77 q 568 -92 614 -13 q 425 -255 521 -171 l 384 -210 q 487 3 487 -95 q 429 88 429 26 q 453 157 429 127 q 526 186 477 186 q 590 155 565 186 q 614 77 614 123 m 529 -1 m 264 77 q 218 -92 264 -13 q 75 -255 171 -171 l 34 -210 q 137 3 137 -95 q 79 88 79 26 q 103 157 79 127 q 176 186 127 186 q 240 155 215 186 q 264 77 264 123 m 179 -1 z "
		},
		"‹": {
			"ha": 350,
			"x_min": 47,
			"x_max": 302,
			"o": "m 302 130 l 247 85 l 47 289 l 47 373 l 247 574 l 302 530 l 149 331 l 302 130 z "
		},
		"›": {
			"ha": 350,
			"x_min": 47,
			"x_max": 302,
			"o": "m 302 289 l 104 85 l 47 130 l 202 330 l 47 530 l 104 574 l 302 373 l 302 289 z "
		},
		"«": {
			"ha": 630,
			"x_min": 47,
			"x_max": 583,
			"o": "m 583 130 l 527 85 l 328 289 l 328 373 l 527 574 l 583 530 l 429 331 l 583 130 m 302 130 l 247 85 l 47 289 l 47 373 l 247 574 l 302 530 l 149 331 l 302 130 z "
		},
		"»": {
			"ha": 630,
			"x_min": 47,
			"x_max": 583,
			"o": "m 583 289 l 384 85 l 328 130 l 482 330 l 328 530 l 384 574 l 583 373 l 583 289 m 302 289 l 104 85 l 47 130 l 202 330 l 47 530 l 104 574 l 302 373 l 302 289 z "
		},
		"/": {
			"ha": 371,
			"x_min": 10,
			"x_max": 361,
			"o": "m 361 987 q 237 425 361 940 q 113 -205 113 -90 l 10 -205 q 135 349 10 -161 q 260 987 260 859 l 361 987 z "
		},
		"|": {
			"ha": 350,
			"x_min": 116,
			"x_max": 234,
			"o": "m 234 -351 l 116 -351 q 125 319 125 -113 q 116 1051 125 744 l 234 1051 q 226 319 226 763 q 234 -351 226 -124 z "
		},
		"–": {
			"ha": 694,
			"x_min": 35,
			"x_max": 659,
			"o": "m 659 298 l 35 298 l 35 385 l 659 385 l 659 298 z "
		},
		"—": {
			"ha": 1389,
			"x_min": 0,
			"x_max": 1389,
			"o": "m 1389 298 l 0 298 l 0 385 l 1389 385 l 1389 298 z "
		},
		"―": {
			"ha": 1389,
			"x_min": 29,
			"x_max": 1360,
			"o": "m 1360 292 l 29 292 l 29 392 l 1360 392 l 1360 292 z "
		},
		"•": {
			"ha": 916,
			"x_min": 252,
			"x_max": 664,
			"o": "m 664 434 q 603 271 664 330 q 458 213 543 213 q 314 271 375 213 q 252 433 252 329 q 314 597 252 538 q 458 656 375 656 q 603 597 542 656 q 664 434 664 538 z "
		},
		"·": {
			"ha": 350,
			"x_min": 81,
			"x_max": 267,
			"o": "m 267 420 q 240 350 267 380 q 165 319 213 319 q 103 346 125 319 q 81 409 81 372 q 109 478 81 448 q 184 507 136 507 q 245 482 224 507 q 267 420 267 457 z "
		},
		"(": {
			"ha": 490,
			"x_min": 54,
			"x_max": 441,
			"o": "m 441 -272 l 392 -330 q 223 -204 292 -283 q 54 319 54 -12 q 227 890 54 676 q 399 1031 299 979 l 434 974 q 300 827 355 912 q 165 319 165 621 q 304 -131 165 62 q 367 -207 333 -172 q 441 -272 401 -241 z "
		},
		")": {
			"ha": 490,
			"x_min": 54,
			"x_max": 441,
			"o": "m 441 382 q 269 -188 441 26 q 95 -330 196 -277 l 60 -272 q 195 -125 139 -211 q 330 382 330 82 q 192 833 330 641 q 54 974 134 913 l 102 1031 q 272 906 201 986 q 441 382 441 714 z "
		},
		"[": {
			"ha": 490,
			"x_min": 80,
			"x_max": 406,
			"o": "m 406 -212 l 399 -330 l 80 -322 q 88 319 88 141 q 80 1023 88 458 l 406 1031 l 399 915 q 196 919 250 919 q 191 319 191 450 q 196 -224 191 225 q 406 -212 246 -223 z "
		},
		"]": {
			"ha": 490,
			"x_min": 81,
			"x_max": 407,
			"o": "m 407 -320 l 81 -329 l 87 -212 q 291 -216 237 -216 q 296 383 296 252 q 291 927 296 477 q 81 914 241 926 l 87 1032 l 407 1025 q 399 383 399 562 q 407 -320 399 245 z "
		},
		"{": {
			"ha": 490,
			"x_min": 31,
			"x_max": 469,
			"o": "m 469 -245 l 427 -332 q 134 -116 134 -271 q 162 50 134 -66 q 189 196 189 165 q 31 297 189 280 l 31 398 q 195 503 195 422 q 164 645 195 534 q 134 802 134 756 q 436 1031 134 994 l 463 947 q 245 761 245 922 q 275 628 245 726 q 305 506 305 530 q 251 394 305 433 q 150 355 196 355 l 150 349 q 250 310 195 349 q 305 196 305 272 q 275 67 305 169 q 245 -66 245 -35 q 469 -245 245 -193 z "
		},
		"}": {
			"ha": 490,
			"x_min": 31,
			"x_max": 469,
			"o": "m 469 301 q 305 196 305 277 q 335 54 305 165 q 366 -102 366 -57 q 64 -332 366 -295 l 37 -248 q 254 -62 254 -222 q 224 71 254 -26 q 195 193 195 169 q 249 306 195 267 q 350 345 304 345 l 350 351 q 250 389 304 351 q 195 503 195 427 q 224 632 195 530 q 254 765 254 734 q 31 945 254 892 l 73 1031 q 366 815 366 970 q 338 650 366 765 q 311 503 311 534 q 469 402 311 419 l 469 301 z "
		},
		"*": {
			"ha": 701,
			"x_min": 64,
			"x_max": 637,
			"o": "m 637 718 q 523 659 637 659 q 398 664 461 659 l 394 650 q 543 489 543 528 q 513 434 543 461 q 454 406 483 406 q 351 622 398 406 l 335 622 q 212 426 260 426 q 152 450 183 426 q 121 502 121 474 q 294 654 121 551 l 290 670 q 91 698 214 676 q 64 748 64 707 q 80 808 64 781 q 123 836 96 836 q 310 719 163 836 l 322 727 q 288 925 288 879 q 311 959 288 946 q 364 972 334 972 q 431 925 431 972 q 374 724 431 871 l 385 713 q 574 808 534 808 q 619 777 600 808 q 637 718 637 746 z "
		},
		"†": {
			"ha": 490,
			"x_min": 5,
			"x_max": 485,
			"o": "m 485 639 l 478 549 q 304 553 354 553 q 258 -280 304 217 l 234 -280 q 200 553 200 217 q 5 549 163 553 l 14 639 q 212 632 174 632 q 179 953 205 770 l 313 967 q 290 632 302 877 q 485 639 338 632 z "
		},
		"‡": {
			"ha": 490,
			"x_min": 5,
			"x_max": 485,
			"o": "m 485 359 l 478 259 q 313 263 363 263 q 258 -280 313 110 l 234 -280 q 192 263 191 113 q 5 259 158 263 l 14 359 q 221 352 180 352 q 200 553 200 526 q 5 549 163 553 l 18 639 q 212 632 174 632 q 179 953 205 770 l 313 967 q 290 632 302 877 q 485 639 338 632 l 478 549 q 304 553 354 553 q 283 352 304 526 q 485 359 331 352 z "
		},
		"§": {
			"ha": 583,
			"x_min": 58,
			"x_max": 519,
			"o": "m 519 -83 q 267 -294 519 -294 q 58 -272 155 -294 l 79 -172 q 267 -206 167 -206 q 418 -115 418 -206 q 328 17 418 -61 q 162 161 245 89 q 73 336 73 252 q 112 448 73 399 q 230 515 151 498 q 73 757 73 642 q 132 897 73 836 q 309 958 191 958 q 496 939 425 958 l 475 841 q 309 870 401 870 q 178 781 178 870 q 267 643 178 720 q 431 507 349 575 q 519 338 519 421 q 371 151 519 187 q 519 -83 519 31 m 418 305 q 297 464 418 369 q 208 433 239 464 q 178 360 178 403 q 304 203 178 301 q 388 234 359 203 q 418 305 418 264 z "
		},
		"¶": {
			"ha": 930,
			"x_min": 127,
			"x_max": 761,
			"o": "m 761 -280 l 644 -280 q 650 496 650 42 q 643 857 650 703 q 534 862 583 863 q 526 241 526 480 q 534 -336 526 -86 l 452 -336 q 461 241 461 -77 q 460 380 461 277 q 220 447 312 380 q 127 677 127 513 q 220 889 127 822 q 452 957 312 957 q 584 955 510 957 q 675 953 659 953 l 761 953 q 752 481 752 798 q 761 -280 752 35 z "
		},
		"Α": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 z "
		},
		"Β": {
			"ha": 814,
			"x_min": 127,
			"x_max": 747,
			"o": "m 747 269 q 635 66 747 138 q 335 -4 526 -4 q 127 0 282 -4 q 137 464 137 210 q 127 883 137 703 l 209 883 q 304 885 233 883 q 409 887 376 887 q 691 692 691 887 q 557 490 691 541 l 557 484 q 747 269 747 450 m 632 258 q 336 425 632 425 q 241 420 282 425 q 248 97 241 239 q 339 91 274 91 q 571 134 503 91 q 632 258 632 172 m 577 659 q 388 799 577 799 q 234 789 293 799 q 239 513 239 740 q 313 511 273 511 q 508 542 447 511 q 577 659 577 576 z "
		},
		"Γ": {
			"ha": 655,
			"x_min": 127,
			"x_max": 648,
			"o": "m 648 883 l 644 782 q 235 790 464 790 q 243 479 243 677 q 251 0 243 195 l 127 0 q 137 464 137 210 q 127 883 137 703 l 648 883 z "
		},
		"Δ": {
			"ha": 827,
			"x_min": 7,
			"x_max": 820,
			"o": "m 820 0 l 7 0 q 176 436 7 29 q 344 883 344 843 l 500 883 q 660 440 500 843 q 820 0 820 37 m 661 92 q 516 497 633 193 q 415 798 415 760 l 408 798 q 305 498 408 760 q 160 92 188 200 l 661 92 z "
		},
		"Ε": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 z "
		},
		"Ζ": {
			"ha": 720,
			"x_min": 67,
			"x_max": 653,
			"o": "m 653 113 l 649 0 l 67 0 l 73 81 q 322 468 159 201 q 498 789 498 756 l 498 796 q 77 779 349 796 l 80 883 l 633 883 l 628 799 q 390 416 551 690 q 222 102 222 131 l 222 95 q 653 113 363 95 z "
		},
		"Η": {
			"ha": 905,
			"x_min": 127,
			"x_max": 778,
			"o": "m 778 0 l 649 0 q 656 420 656 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 127 883 137 690 l 256 883 q 248 506 248 689 l 657 506 q 649 883 657 653 l 778 883 q 768 464 768 694 q 778 0 768 211 z "
		},
		"Θ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 441 q 684 712 776 616 q 472 808 592 808 q 274 707 361 808 q 187 437 187 606 q 280 166 187 262 q 492 70 372 70 q 689 172 603 70 q 776 441 776 275 m 625 399 q 483 406 556 406 q 340 399 418 406 l 340 510 q 486 503 422 503 q 625 510 555 503 l 625 399 z "
		},
		"Ι": {
			"ha": 324,
			"x_min": 98,
			"x_max": 227,
			"o": "m 227 0 l 98 0 q 109 464 109 220 q 98 883 109 704 l 227 883 q 218 464 218 698 q 227 0 218 218 z "
		},
		"Κ": {
			"ha": 822,
			"x_min": 127,
			"x_max": 807,
			"o": "m 807 0 l 659 0 q 581 118 659 7 q 418 330 492 246 q 269 443 317 443 l 248 443 q 255 0 248 284 l 127 0 q 138 464 138 210 q 127 883 138 703 l 255 883 q 248 517 248 703 l 264 517 q 450 690 301 517 q 599 883 599 863 l 740 883 q 595 715 740 863 q 380 517 450 568 l 380 510 q 640 241 458 480 q 807 0 807 20 z "
		},
		"Λ": {
			"ha": 827,
			"x_min": 7,
			"x_max": 820,
			"o": "m 820 0 l 677 0 q 546 417 677 73 q 415 798 415 762 l 408 798 q 276 424 408 762 q 144 0 144 87 l 7 0 q 176 436 7 29 q 344 883 344 843 l 500 883 q 660 440 500 843 q 820 0 820 37 z "
		},
		"Μ": {
			"ha": 1185,
			"x_min": 98,
			"x_max": 1073,
			"o": "m 1073 0 l 945 0 q 924 437 945 151 q 902 781 903 724 l 895 781 q 723 302 827 560 q 619 0 619 44 l 528 0 q 431 308 528 47 q 308 656 334 568 q 273 781 282 744 l 266 781 q 239 406 264 688 q 214 0 214 123 l 98 0 q 144 373 98 7 q 190 883 190 740 l 368 883 q 477 510 368 808 q 585 149 585 212 l 592 149 q 714 511 592 212 q 836 883 836 810 l 1010 883 q 1042 376 1010 740 q 1073 0 1073 12 z "
		},
		"Ν": {
			"ha": 936,
			"x_min": 127,
			"x_max": 808,
			"o": "m 808 0 l 713 0 q 491 325 713 12 q 226 740 258 654 l 219 740 q 231 460 231 576 q 241 0 231 232 l 127 0 q 139 464 139 220 q 127 883 139 703 l 258 883 q 463 574 258 864 q 707 176 677 269 l 713 176 q 702 457 702 342 q 692 883 702 708 l 808 883 q 797 464 797 703 q 808 0 797 220 z "
		},
		"Ξ": {
			"ha": 731,
			"x_min": 45,
			"x_max": 686,
			"o": "m 686 113 l 682 0 l 45 0 l 49 113 q 381 104 201 104 q 686 113 543 104 m 673 883 l 669 772 q 361 781 515 781 q 66 772 204 781 l 70 883 l 673 883 m 584 406 q 379 412 496 412 q 153 406 262 412 l 153 514 q 379 506 275 506 q 584 514 483 506 l 584 406 z "
		},
		"Ο": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 z "
		},
		"Π": {
			"ha": 909,
			"x_min": 127,
			"x_max": 782,
			"o": "m 782 0 l 657 0 q 664 446 664 190 q 675 798 664 648 l 234 798 q 245 457 245 655 q 252 0 245 199 l 127 0 q 136 469 136 269 q 127 883 136 659 l 782 883 q 774 469 774 667 q 782 0 774 264 z "
		},
		"Ρ": {
			"ha": 768,
			"x_min": 127,
			"x_max": 723,
			"o": "m 723 664 q 606 433 723 509 q 290 356 488 356 q 247 357 265 356 q 258 0 247 210 l 127 0 q 138 464 138 193 q 127 883 138 697 l 224 883 q 314 885 240 883 q 439 887 387 887 q 646 828 569 887 q 723 664 723 768 m 610 625 q 372 799 610 799 q 241 789 313 799 q 245 444 245 678 q 304 443 269 443 q 610 625 610 443 z "
		},
		"Σ": {
			"ha": 732,
			"x_min": 15,
			"x_max": 702,
			"o": "m 702 120 l 696 0 l 15 0 q 356 456 15 50 l 356 463 q 33 883 33 817 l 665 883 l 661 782 q 243 792 412 792 l 243 785 q 500 492 243 751 q 202 111 202 150 l 202 104 q 702 120 468 104 z "
		},
		"Τ": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 464 410 664 q 417 0 410 243 l 293 0 q 301 464 301 231 q 297 794 301 661 q 15 786 197 794 l 18 883 l 692 883 z "
		},
		"Υ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 z "
		},
		"Φ": {
			"ha": 969,
			"x_min": 47,
			"x_max": 922,
			"o": "m 922 461 q 816 196 922 304 q 546 66 709 89 l 549 -27 l 420 -27 q 424 62 421 -11 q 153 176 259 75 q 47 435 47 278 q 153 713 47 600 q 423 849 259 825 l 420 910 l 549 910 q 547 852 549 900 q 817 732 711 838 q 922 461 922 626 m 431 464 q 426 769 431 628 q 233 675 308 754 q 157 471 157 595 q 233 252 157 340 q 426 143 309 164 q 431 464 431 273 m 812 458 q 736 665 812 583 q 544 767 661 747 q 540 464 540 639 q 544 140 540 291 q 736 242 661 157 q 812 458 812 328 z "
		},
		"Χ": {
			"ha": 775,
			"x_min": 7,
			"x_max": 768,
			"o": "m 768 0 l 621 0 q 519 195 621 26 q 373 416 420 359 l 366 416 q 239 201 325 361 q 150 0 150 32 l 7 0 q 151 234 7 20 q 327 478 292 446 l 327 485 q 176 693 290 526 q 59 883 59 865 l 205 883 q 286 726 205 863 q 401 551 366 591 l 408 551 q 517 728 442 593 q 593 883 593 863 l 736 883 q 612 700 736 864 q 448 498 492 543 l 448 492 q 631 234 500 434 q 768 0 768 27 z "
		},
		"Ψ": {
			"ha": 967,
			"x_min": 45,
			"x_max": 922,
			"o": "m 922 857 q 899 640 899 760 q 799 398 899 484 q 540 298 699 312 q 548 0 543 134 l 419 0 q 428 297 422 60 q 72 614 72 318 q 45 857 72 742 l 131 878 q 176 681 163 824 q 242 461 189 531 q 429 381 296 391 q 419 883 429 669 l 548 883 q 538 381 538 665 q 727 457 674 391 q 795 681 781 524 q 840 878 808 824 l 922 857 z "
		},
		"Ω": {
			"ha": 943,
			"x_min": 30,
			"x_max": 913,
			"o": "m 913 104 l 906 0 l 539 0 q 652 235 539 114 q 755 487 755 344 q 668 727 755 642 q 465 811 581 811 q 271 732 353 811 q 189 508 189 653 q 297 233 189 355 q 406 0 406 113 l 37 0 l 30 104 q 272 90 163 90 l 272 97 q 220 168 272 117 q 112 304 153 233 q 71 484 71 376 q 191 791 71 679 q 480 904 311 904 q 757 800 642 904 q 872 514 872 695 q 826 323 872 404 q 712 174 781 243 q 656 98 656 117 l 656 91 q 913 104 794 91 z "
		},
		"Ά": {
			"ha": 902,
			"x_min": 54,
			"x_max": 895,
			"o": "m 895 0 l 751 0 q 666 286 751 45 l 275 286 q 191 0 191 49 l 54 0 q 229 434 54 25 q 404 883 404 842 l 561 883 q 728 440 561 843 q 895 0 895 37 m 635 374 q 475 798 475 772 l 468 798 q 303 374 468 777 l 635 374 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Έ": {
			"ha": 962,
			"x_min": 57,
			"x_max": 917,
			"o": "m 917 102 l 913 0 l 366 0 q 376 464 376 210 q 366 883 376 703 l 879 883 l 873 782 q 478 790 687 790 q 482 506 482 685 q 804 514 663 506 l 804 413 q 482 419 653 419 q 488 92 482 245 q 917 102 713 92 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Ή": {
			"ha": 1144,
			"x_min": 57,
			"x_max": 1017,
			"o": "m 1017 0 l 888 0 q 895 420 895 235 l 488 420 q 495 0 488 270 l 366 0 q 376 464 376 248 q 366 883 376 690 l 495 883 q 487 506 487 689 l 896 506 q 888 883 896 653 l 1017 883 q 1006 464 1006 694 q 1017 0 1006 211 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Ί": {
			"ha": 624,
			"x_min": 57,
			"x_max": 496,
			"o": "m 496 0 l 368 0 q 378 464 378 220 q 368 883 378 704 l 496 883 q 487 464 487 698 q 496 0 487 218 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Ϊ": {
			"ha": 384,
			"x_min": -5,
			"x_max": 393,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 137 1057 q 116 1003 137 1026 q 59 979 96 979 q 12 1000 28 979 q -5 1048 -5 1020 q 15 1101 -5 1078 q 73 1124 36 1124 q 120 1104 104 1124 q 137 1057 137 1085 m 393 1057 q 373 1003 393 1026 q 315 979 352 979 q 268 1000 285 979 q 251 1048 251 1020 q 272 1101 251 1078 q 330 1124 292 1124 q 377 1104 360 1124 q 393 1057 393 1085 z "
		},
		"Ό": {
			"ha": 1124,
			"x_min": 57,
			"x_max": 1057,
			"o": "m 1057 455 q 928 105 1057 236 q 632 -26 800 -26 q 349 94 471 -26 q 227 419 227 214 q 355 771 227 641 q 652 901 484 901 q 935 780 813 901 q 1057 455 1057 660 m 936 439 q 844 710 936 614 q 632 806 752 806 q 434 705 521 806 q 347 435 347 604 q 440 164 347 260 q 652 68 532 68 q 849 170 763 68 q 936 439 936 273 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Ύ": {
			"ha": 1050,
			"x_min": 57,
			"x_max": 1036,
			"o": "m 1036 883 q 952 736 1036 858 q 798 503 834 565 q 715 288 715 361 q 724 0 715 148 l 594 0 q 603 289 603 140 q 525 515 603 370 q 379 748 481 595 q 301 883 301 866 l 440 883 q 557 667 440 865 q 674 405 674 469 l 681 405 q 792 663 681 469 q 904 883 904 856 l 1036 883 m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"Ϋ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 331 1057 q 310 1003 331 1026 q 253 979 290 979 q 205 1000 222 979 q 189 1048 189 1020 q 209 1101 189 1078 q 267 1124 230 1124 q 314 1104 298 1124 q 331 1057 331 1085 m 587 1057 q 567 1003 587 1026 q 509 979 546 979 q 462 1000 479 979 q 445 1048 445 1020 q 466 1101 445 1078 q 524 1124 486 1124 q 571 1104 554 1124 q 587 1057 587 1085 z "
		},
		"Ώ": {
			"ha": 1126,
			"x_min": 57,
			"x_max": 1097,
			"o": "m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 m 1097 104 l 1090 0 l 723 0 q 836 235 723 114 q 939 487 939 344 q 851 727 939 642 q 648 811 764 811 q 455 732 537 811 q 372 508 372 653 q 481 233 372 355 q 589 0 589 113 l 221 0 l 214 104 q 456 90 347 90 l 456 97 q 404 168 456 117 q 296 304 337 233 q 254 484 254 376 q 375 791 254 679 q 664 904 495 904 q 941 800 825 904 q 1056 514 1056 695 q 1010 323 1056 404 q 896 174 964 243 q 840 98 840 117 l 840 91 q 1097 104 978 91 z "
		},
		"α": {
			"ha": 805,
			"x_min": 65,
			"x_max": 778,
			"o": "m 778 94 l 770 3 q 685 -14 728 -14 q 540 139 562 -14 l 533 139 q 304 -26 458 -26 q 128 66 191 -26 q 65 294 65 159 q 144 557 65 447 q 362 667 223 667 q 547 547 473 667 l 553 547 q 580 659 560 602 l 675 644 q 633 300 633 494 q 713 80 633 80 q 778 94 742 80 m 536 409 q 345 575 463 575 q 225 502 266 575 q 184 323 184 429 q 222 141 184 217 q 328 66 261 66 q 465 148 412 66 q 536 409 524 237 z "
		},
		"β": {
			"ha": 747,
			"x_min": 90,
			"x_max": 701,
			"o": "m 701 309 q 621 75 701 169 q 402 -20 541 -20 q 223 22 275 -20 l 216 22 q 266 -294 220 -149 l 130 -323 q 90 494 90 -207 q 135 826 90 726 q 391 974 201 974 q 567 927 496 974 q 638 786 638 881 q 484 596 638 640 l 484 589 q 593 540 547 573 q 701 309 701 460 m 584 286 q 513 468 584 397 q 353 535 447 535 q 296 532 324 535 l 305 627 q 367 621 330 621 q 478 658 435 621 q 522 760 522 696 q 480 851 522 818 q 374 884 439 884 q 237 820 275 884 q 200 532 200 755 q 210 106 200 347 q 410 68 278 68 q 536 131 489 68 q 584 286 584 194 z "
		},
		"γ": {
			"ha": 693,
			"x_min": 19,
			"x_max": 665,
			"o": "m 665 644 q 524 240 665 506 q 380 -34 384 -26 q 403 -299 403 -184 l 293 -317 q 267 -186 267 -268 q 286 0 267 -101 q 19 608 255 347 l 127 659 q 261 468 186 614 q 366 87 336 321 l 371 87 q 457 283 372 91 q 542 659 542 475 l 665 644 z "
		},
		"δ": {
			"ha": 763,
			"x_min": 67,
			"x_max": 695,
			"o": "m 695 314 q 597 62 695 153 q 362 -28 499 -28 q 152 51 237 -28 q 67 269 67 130 q 152 503 67 408 q 323 618 237 599 l 323 625 q 148 823 148 730 q 418 982 148 982 q 675 935 574 982 l 651 832 q 351 893 536 893 q 246 834 246 893 q 317 753 246 798 q 577 568 519 625 q 695 314 695 454 m 578 291 q 383 581 578 454 q 184 296 184 494 q 242 124 184 186 q 382 62 300 62 q 523 119 468 62 q 578 291 578 176 z "
		},
		"ε": {
			"ha": 637,
			"x_min": 73,
			"x_max": 580,
			"o": "m 580 126 l 573 35 q 335 -18 479 -18 q 73 171 73 -18 q 114 282 73 241 q 209 334 155 323 l 209 340 q 83 482 83 370 q 156 617 83 569 q 366 665 230 665 q 563 642 477 665 l 546 547 q 359 577 458 577 q 199 494 199 577 q 392 386 199 386 q 495 392 434 386 l 482 292 q 392 300 433 300 q 237 273 285 300 q 189 185 189 246 q 363 74 189 74 q 580 126 458 74 z "
		},
		"ζ": {
			"ha": 606,
			"x_min": 67,
			"x_max": 578,
			"o": "m 578 -70 q 506 -248 578 -157 l 452 -230 q 471 -97 471 -165 q 349 -1 471 -24 q 157 71 217 25 q 67 285 67 140 q 385 850 67 589 l 385 857 q 152 842 292 842 l 163 941 q 530 970 394 941 l 554 890 q 183 315 183 652 q 231 163 183 210 q 373 105 271 125 q 533 42 488 82 q 578 -70 578 1 z "
		},
		"η": {
			"ha": 758,
			"x_min": 44,
			"x_max": 667,
			"o": "m 667 -292 l 554 -309 q 536 86 536 -178 q 540 225 536 125 q 545 389 545 326 q 514 534 545 494 q 422 573 484 573 q 227 449 302 573 q 216 -3 227 151 l 99 3 q 124 334 124 120 q 44 612 124 510 l 147 660 q 181 606 163 641 q 203 542 199 570 l 211 542 q 443 667 305 667 q 655 443 655 667 q 649 305 655 396 q 644 142 644 214 q 667 -292 644 -121 z "
		},
		"θ": {
			"ha": 798,
			"x_min": 67,
			"x_max": 731,
			"o": "m 731 490 q 631 103 731 236 q 385 -31 530 -31 q 157 91 248 -31 q 67 452 67 212 q 169 842 67 708 q 413 975 270 975 q 639 854 547 975 q 731 490 731 732 m 615 435 l 185 435 q 399 63 204 63 q 615 435 613 63 m 611 532 q 399 880 587 880 q 251 798 311 880 q 184 532 191 715 l 611 532 z "
		},
		"ι": {
			"ha": 354,
			"x_min": 87,
			"x_max": 354,
			"o": "m 354 94 l 345 5 q 248 -14 299 -14 q 123 41 158 -14 q 87 263 87 97 q 98 646 87 476 l 205 660 q 191 233 191 517 q 213 118 191 155 q 282 80 234 80 q 354 94 313 80 z "
		},
		"κ": {
			"ha": 758,
			"x_min": 91,
			"x_max": 679,
			"o": "m 679 7 l 551 -14 q 376 283 551 28 l 369 283 q 193 -10 257 165 l 91 5 q 127 334 127 121 q 105 637 127 499 l 241 659 q 233 353 233 547 q 226 214 233 283 l 233 214 q 403 439 243 239 q 554 659 554 629 l 679 644 q 449 367 679 604 l 449 360 q 679 7 679 56 z "
		},
		"λ": {
			"ha": 715,
			"x_min": 42,
			"x_max": 698,
			"o": "m 698 35 l 581 -22 q 511 45 547 0 q 389 509 425 155 l 382 509 q 277 268 382 473 q 171 -7 171 63 l 42 7 q 200 332 42 73 q 368 624 359 591 q 318 814 356 776 q 198 853 280 853 q 117 845 149 853 l 128 944 q 241 960 182 960 q 398 890 359 960 q 454 660 437 820 q 599 139 494 286 q 698 35 650 66 z "
		},
		"μ": {
			"ha": 812,
			"x_min": 109,
			"x_max": 793,
			"o": "m 793 94 l 785 3 q 689 -14 735 -14 q 564 68 593 -14 l 556 68 q 381 -14 471 -14 q 200 68 248 -14 l 193 68 q 275 -280 193 -159 l 168 -331 q 119 -168 119 -258 q 126 -12 119 -129 q 134 179 134 106 q 109 650 134 434 l 239 659 q 229 422 229 568 q 264 151 229 223 q 396 79 300 79 q 553 156 493 79 q 539 644 553 509 l 673 659 q 656 326 656 482 q 675 120 656 172 q 728 80 689 80 q 793 94 757 80 z "
		},
		"ν": {
			"ha": 693,
			"x_min": 33,
			"x_max": 615,
			"o": "m 615 526 q 550 298 615 412 q 433 120 522 248 q 363 0 370 31 l 286 0 q 179 367 275 168 q 33 621 83 567 l 141 665 q 259 444 176 639 q 354 115 342 250 l 360 115 q 397 187 361 133 q 469 345 444 260 q 508 644 508 472 l 589 659 q 615 526 615 608 z "
		},
		"ξ": {
			"ha": 621,
			"x_min": 67,
			"x_max": 578,
			"o": "m 578 -70 q 506 -248 578 -157 l 452 -230 q 471 -111 471 -159 q 349 -1 471 -28 q 158 70 215 30 q 67 264 67 134 q 119 427 67 357 q 238 511 172 496 l 238 518 q 130 654 130 538 q 308 857 130 770 l 308 863 q 102 848 222 848 l 113 947 q 530 977 390 947 l 554 890 q 236 678 236 811 q 269 599 236 624 q 387 574 302 574 q 500 578 435 574 l 490 473 q 387 481 435 481 q 239 425 298 481 q 180 294 180 368 q 223 167 180 206 q 373 105 261 132 q 534 39 490 77 q 578 -70 578 0 z "
		},
		"ο": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 z "
		},
		"π": {
			"ha": 857,
			"x_min": 5,
			"x_max": 798,
			"o": "m 798 652 l 793 541 q 596 547 699 547 q 592 310 592 438 q 705 80 592 80 q 771 94 732 80 l 763 3 q 671 -14 722 -14 q 531 45 577 -14 q 485 263 485 104 q 510 541 485 402 l 510 547 l 315 547 q 212 -7 289 132 l 89 7 q 161 184 121 60 q 220 547 201 307 l 157 547 q 31 518 97 547 l 5 581 q 194 644 64 644 q 796 652 565 644 l 798 652 z "
		},
		"ρ": {
			"ha": 749,
			"x_min": 81,
			"x_max": 682,
			"o": "m 682 339 q 603 87 682 195 q 385 -20 525 -20 q 206 69 258 -20 l 199 69 q 256 -294 203 -101 l 120 -323 q 81 296 81 -128 q 392 667 81 667 q 605 573 529 667 q 682 339 682 479 m 564 316 q 512 502 564 425 q 364 579 460 579 q 191 341 191 579 q 195 188 191 260 q 393 68 261 68 q 519 141 474 68 q 564 316 564 214 z "
		},
		"σ": {
			"ha": 804,
			"x_min": 67,
			"x_max": 798,
			"o": "m 798 604 q 550 556 677 556 l 550 543 q 668 301 668 455 q 577 63 668 153 q 353 -26 486 -26 q 147 60 227 -26 q 67 302 67 146 q 162 564 67 471 q 387 657 256 657 q 770 684 646 657 l 798 604 m 551 304 q 464 556 551 446 q 387 565 431 565 q 236 502 288 565 q 184 330 184 438 q 229 137 184 212 q 369 63 273 63 q 507 132 463 63 q 551 304 551 200 z "
		},
		"ς": {
			"ha": 587,
			"x_min": 67,
			"x_max": 531,
			"o": "m 531 -77 q 451 -248 531 -197 l 398 -230 q 423 -118 423 -172 q 399 -49 423 -75 q 302 6 376 -23 q 144 101 195 48 q 67 313 67 180 q 159 576 67 492 q 393 660 251 660 q 527 650 484 660 l 509 547 q 374 570 446 570 q 231 513 285 570 q 176 342 176 456 q 217 193 176 247 q 326 119 251 148 q 488 30 446 71 q 531 -77 531 -11 z "
		},
		"τ": {
			"ha": 672,
			"x_min": 5,
			"x_max": 626,
			"o": "m 626 652 l 621 543 q 349 547 558 547 q 345 310 345 438 q 458 80 345 80 q 547 94 505 80 l 540 3 q 408 -14 476 -14 q 279 41 320 -14 q 238 263 238 97 q 262 541 238 402 l 262 547 l 150 547 q 31 518 90 547 l 5 581 q 166 644 73 644 q 626 652 436 644 z "
		},
		"υ": {
			"ha": 743,
			"x_min": 70,
			"x_max": 658,
			"o": "m 658 404 q 566 88 658 198 q 358 -22 473 -22 q 182 42 246 -22 q 118 271 118 106 q 70 632 118 502 l 189 660 q 229 376 229 536 q 267 122 229 178 q 373 66 305 66 q 495 148 450 66 q 540 380 540 231 q 490 647 540 493 l 562 660 q 658 404 658 564 z "
		},
		"φ": {
			"ha": 1042,
			"x_min": 60,
			"x_max": 983,
			"o": "m 983 389 q 871 122 983 243 q 573 -17 760 2 q 575 -113 575 -62 q 550 -332 575 -232 l 454 -328 q 466 -151 466 -235 q 463 -17 466 -77 q 172 86 284 -1 q 60 335 60 173 q 353 678 60 611 l 380 606 q 176 359 176 558 q 248 162 176 239 q 457 71 321 85 q 446 339 446 208 q 521 585 446 496 q 708 674 596 674 q 983 389 983 674 m 867 368 q 827 526 867 465 q 708 586 788 586 q 554 335 554 586 q 567 71 554 165 q 789 168 712 87 q 867 368 867 248 z "
		},
		"χ": {
			"ha": 700,
			"x_min": 20,
			"x_max": 700,
			"o": "m 700 -213 l 689 -312 q 597 -328 652 -328 q 483 -246 535 -328 q 333 112 431 -164 l 326 112 q 142 -323 142 -230 l 20 -310 q 300 212 20 -183 q 195 450 227 385 q 129 535 163 515 q 53 556 95 556 q 20 550 35 556 l 31 647 q 89 663 54 663 q 180 638 144 663 q 254 541 216 614 q 361 275 292 469 l 368 275 q 519 659 519 556 l 641 644 q 396 174 641 532 q 549 -143 498 -66 q 646 -221 600 -221 q 700 -213 678 -221 z "
		},
		"ψ": {
			"ha": 1011,
			"x_min": 84,
			"x_max": 936,
			"o": "m 936 374 q 832 114 936 216 q 566 -5 729 12 q 572 -296 566 -177 l 455 -323 q 460 -7 460 -187 q 204 76 294 2 q 115 328 115 151 q 84 628 115 523 l 176 657 q 223 380 223 557 q 274 168 223 239 q 462 83 325 96 q 464 360 464 224 q 455 957 464 719 l 572 962 q 564 360 564 735 q 565 84 564 264 q 765 181 712 102 q 818 430 818 260 q 776 643 818 528 l 848 661 q 936 374 936 560 z "
		},
		"ω": {
			"ha": 1046,
			"x_min": 64,
			"x_max": 982,
			"o": "m 982 307 q 711 -23 982 -23 q 598 7 655 -23 q 522 79 542 37 l 507 79 q 433 6 482 35 q 324 -23 383 -23 q 139 52 213 -23 q 64 292 64 127 q 255 659 64 500 l 308 603 q 182 322 182 477 q 211 157 183 220 q 358 66 252 66 q 486 159 444 66 l 486 174 q 460 382 460 247 q 489 568 460 515 l 551 574 q 587 376 587 522 q 569 172 587 223 l 569 158 q 701 66 616 66 q 867 294 867 66 q 734 596 867 452 l 787 652 q 982 307 982 515 z "
		},
		"ά": {
			"ha": 805,
			"x_min": 65,
			"x_max": 778,
			"o": "m 778 94 l 770 3 q 685 -14 728 -14 q 540 139 562 -14 l 533 139 q 304 -26 458 -26 q 128 66 191 -26 q 65 294 65 159 q 144 557 65 447 q 362 667 223 667 q 547 547 473 667 l 553 547 q 580 659 560 602 l 675 644 q 633 300 633 494 q 713 80 633 80 q 778 94 742 80 m 536 409 q 345 575 463 575 q 225 502 266 575 q 184 323 184 429 q 222 141 184 217 q 328 66 261 66 q 465 148 412 66 q 536 409 524 237 m 611 1024 q 517 892 611 1009 q 424 757 424 774 l 342 757 q 404 895 342 779 q 465 1024 465 1010 l 611 1024 z "
		},
		"έ": {
			"ha": 637,
			"x_min": 73,
			"x_max": 600,
			"o": "m 580 126 l 573 35 q 335 -18 479 -18 q 73 171 73 -18 q 114 282 73 241 q 209 334 155 323 l 209 340 q 83 482 83 370 q 156 617 83 569 q 366 665 230 665 q 563 642 477 665 l 546 547 q 359 577 458 577 q 199 494 199 577 q 392 386 199 386 q 495 392 434 386 l 482 292 q 392 300 433 300 q 237 273 285 300 q 189 185 189 246 q 363 74 189 74 q 580 126 458 74 m 600 1024 q 506 892 600 1009 q 412 757 412 774 l 331 757 q 392 895 331 779 q 453 1024 453 1010 l 600 1024 z "
		},
		"ή": {
			"ha": 758,
			"x_min": 44,
			"x_max": 667,
			"o": "m 667 -292 l 554 -309 q 536 86 536 -178 q 540 225 536 125 q 545 389 545 326 q 514 534 545 494 q 422 573 484 573 q 227 449 302 573 q 216 -3 227 151 l 99 3 q 124 334 124 120 q 44 612 124 510 l 147 660 q 181 606 163 641 q 203 542 199 570 l 211 542 q 443 667 305 667 q 655 443 655 667 q 649 305 655 396 q 644 142 644 214 q 667 -292 644 -121 m 619 1024 q 526 892 619 1009 q 432 757 432 774 l 351 757 q 412 895 351 779 q 473 1024 473 1010 l 619 1024 z "
		},
		"ί": {
			"ha": 354,
			"x_min": 87,
			"x_max": 408,
			"o": "m 354 94 l 345 5 q 248 -14 299 -14 q 123 41 158 -14 q 87 263 87 97 q 98 646 87 476 l 205 660 q 191 233 191 517 q 213 118 191 155 q 282 80 234 80 q 354 94 313 80 m 408 1024 q 315 892 408 1009 q 221 757 221 774 l 140 757 q 201 895 140 779 q 262 1024 262 1010 l 408 1024 z "
		},
		"ϊ": {
			"ha": 354,
			"x_min": -27,
			"x_max": 372,
			"o": "m 354 94 l 345 5 q 248 -14 299 -14 q 123 41 158 -14 q 87 263 87 97 q 98 646 87 476 l 205 660 q 191 233 191 517 q 213 118 191 155 q 282 80 234 80 q 354 94 313 80 m 115 848 q 95 794 115 817 q 37 770 74 770 q -10 791 7 770 q -27 840 -27 811 q -6 892 -27 869 q 52 915 14 915 q 99 896 82 915 q 115 848 115 876 m 372 848 q 351 794 372 817 q 294 770 330 770 q 246 791 263 770 q 229 840 229 811 q 250 892 229 869 q 308 915 271 915 q 355 896 338 915 q 372 848 372 876 z "
		},
		"ΐ": {
			"ha": 354,
			"x_min": -37,
			"x_max": 389,
			"o": "m 344 94 l 335 5 q 237 -14 289 -14 q 113 41 148 -14 q 77 263 77 97 q 87 646 77 476 l 195 660 q 181 233 181 517 q 202 118 181 155 q 272 80 224 80 q 344 94 302 80 m 389 1118 q 292 985 389 1103 q 195 850 195 868 l 127 850 q 184 988 127 873 q 242 1118 242 1103 l 389 1118 m 389 848 q 369 794 389 817 q 311 770 348 770 q 264 791 281 770 q 247 840 247 811 q 268 892 247 869 q 326 915 288 915 q 373 896 356 915 q 389 848 389 876 m 106 848 q 85 794 106 817 q 28 770 64 770 q -20 791 -3 770 q -37 840 -37 811 q -16 892 -37 869 q 42 915 5 915 q 89 896 73 915 q 106 848 106 876 z "
		},
		"ό": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 636 1024 q 543 892 636 1009 q 449 757 449 774 l 368 757 q 429 895 368 779 q 490 1024 490 1010 l 636 1024 z "
		},
		"ύ": {
			"ha": 743,
			"x_min": 70,
			"x_max": 658,
			"o": "m 658 404 q 566 88 658 198 q 358 -22 473 -22 q 182 42 246 -22 q 118 271 118 106 q 70 632 118 502 l 189 660 q 229 376 229 536 q 267 122 229 178 q 373 66 305 66 q 495 148 450 66 q 540 380 540 231 q 490 647 540 493 l 562 660 q 658 404 658 564 m 583 1024 q 489 892 583 1009 q 395 757 395 774 l 314 757 q 375 895 314 779 q 436 1024 436 1010 l 583 1024 z "
		},
		"ϋ": {
			"ha": 743,
			"x_min": 70,
			"x_max": 658,
			"o": "m 658 404 q 566 88 658 198 q 358 -22 473 -22 q 182 42 246 -22 q 118 271 118 106 q 70 632 118 502 l 189 660 q 229 376 229 536 q 267 122 229 178 q 373 66 305 66 q 495 148 450 66 q 540 380 540 231 q 490 647 540 493 l 562 660 q 658 404 658 564 m 316 848 q 295 794 316 817 q 238 770 275 770 q 191 791 208 770 q 174 840 174 811 q 194 892 174 869 q 252 915 215 915 q 299 896 283 915 q 316 848 316 876 m 572 848 q 552 794 572 817 q 494 770 531 770 q 447 791 464 770 q 430 840 430 811 q 451 892 430 869 q 509 915 471 915 q 556 896 539 915 q 572 848 572 876 z "
		},
		"ΰ": {
			"ha": 743,
			"x_min": 70,
			"x_max": 658,
			"o": "m 658 404 q 566 88 658 198 q 358 -22 473 -22 q 182 42 246 -22 q 118 271 118 106 q 70 632 118 502 l 189 660 q 229 376 229 536 q 267 122 229 178 q 373 66 305 66 q 495 148 450 66 q 540 380 540 231 q 490 647 540 493 l 562 660 q 658 404 658 564 m 597 1118 q 500 985 597 1103 q 403 850 403 868 l 335 850 q 393 988 335 873 q 450 1118 450 1103 l 597 1118 m 597 848 q 577 794 597 817 q 519 770 556 770 q 472 791 489 770 q 455 840 455 811 q 476 892 455 869 q 534 915 496 915 q 581 896 564 915 q 597 848 597 876 m 314 848 q 293 794 314 817 q 236 770 273 770 q 189 791 205 770 q 172 840 172 811 q 192 892 172 869 q 250 915 213 915 q 297 896 281 915 q 314 848 314 876 z "
		},
		"ώ": {
			"ha": 1046,
			"x_min": 64,
			"x_max": 982,
			"o": "m 982 307 q 711 -23 982 -23 q 598 7 655 -23 q 522 79 542 37 l 507 79 q 433 6 482 35 q 324 -23 383 -23 q 139 52 213 -23 q 64 292 64 127 q 255 659 64 500 l 308 603 q 182 322 182 477 q 211 157 183 220 q 358 66 252 66 q 486 159 444 66 l 486 174 q 460 382 460 247 q 489 568 460 515 l 551 574 q 587 376 587 522 q 569 172 587 223 l 569 158 q 701 66 616 66 q 867 294 867 66 q 734 596 867 452 l 787 652 q 982 307 982 515 m 753 1024 q 660 892 753 1009 q 566 757 566 774 l 485 757 q 546 895 485 779 q 607 1024 607 1010 l 753 1024 z "
		},
		"΄": {
			"ha": 381,
			"x_min": 57,
			"x_max": 326,
			"o": "m 326 1024 q 232 892 326 1009 q 138 757 138 774 l 57 757 q 118 895 57 779 q 179 1024 179 1010 l 326 1024 z "
		},
		"΅": {
			"ha": 567,
			"x_min": 71,
			"x_max": 497,
			"o": "m 496 1118 q 399 985 496 1103 q 302 850 302 868 l 235 850 q 292 988 235 873 q 350 1118 350 1103 l 496 1118 m 497 848 q 476 794 497 817 q 419 770 456 770 q 372 791 389 770 q 355 840 355 811 q 375 892 355 869 q 433 915 396 915 q 480 896 464 915 q 497 848 497 876 m 214 848 q 193 794 214 817 q 136 770 172 770 q 88 791 105 770 q 71 840 71 811 q 92 892 71 869 q 150 915 113 915 q 197 896 180 915 q 214 848 214 876 z "
		},
		"̈́": {
			"ha": 0,
			"x_min": -406,
			"x_max": 20,
			"o": "m 19 1118 q -78 985 19 1103 q -175 850 -175 868 l -243 850 q -185 988 -243 873 q -127 1118 -127 1103 l 19 1118 m 20 848 q -1 794 20 817 q -58 770 -22 770 q -106 791 -89 770 q -123 840 -123 811 q -102 892 -123 869 q -44 915 -81 915 q 3 896 -14 915 q 20 848 20 876 m -264 848 q -284 794 -264 817 q -342 770 -305 770 q -389 791 -372 770 q -406 840 -406 811 q -386 892 -406 869 q -328 915 -365 915 q -280 896 -297 915 q -264 848 -264 876 z "
		},
		"·": {
			"ha": 350,
			"x_min": 81,
			"x_max": 267,
			"o": "m 267 560 q 240 490 267 520 q 165 459 213 459 q 103 486 125 459 q 81 549 81 512 q 109 617 81 588 q 184 647 136 647 q 245 622 224 647 q 267 560 267 597 z "
		},
		";": {
			"ha": 351,
			"x_min": 34,
			"x_max": 267,
			"o": "m 264 77 q 218 -92 264 -13 q 75 -255 171 -171 l 34 -210 q 137 3 137 -95 q 79 88 79 26 q 103 157 79 127 q 176 186 127 186 q 240 155 215 186 q 264 77 264 123 m 179 -1 m 267 562 q 240 492 267 522 q 165 461 213 461 q 103 488 125 461 q 81 551 81 514 q 109 620 81 590 q 184 649 136 649 q 245 624 224 649 q 267 562 267 599 z "
		},
		"ʹ": {
			"ha": 241,
			"x_min": 0,
			"x_max": 241,
			"o": "m 241 956 q 161 844 241 941 q 81 736 81 747 l 0 736 q 47 845 0 747 q 95 956 95 942 l 241 956 z "
		},
		"͵": {
			"ha": 241,
			"x_min": 0,
			"x_max": 241,
			"o": "m 241 -68 q 194 -176 241 -79 q 146 -288 146 -273 l 0 -288 q 80 -176 0 -273 q 160 -68 160 -79 l 241 -68 z "
		},
		"А": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 z "
		},
		"Б": {
			"ha": 791,
			"x_min": 127,
			"x_max": 747,
			"o": "m 747 269 q 636 67 747 138 q 335 -4 526 -4 q 127 0 282 -4 q 137 464 137 210 q 127 883 137 703 l 695 883 l 691 782 q 238 790 447 790 q 241 513 241 684 q 355 515 302 515 q 613 477 524 515 q 747 269 747 420 m 632 258 q 336 425 632 425 q 241 420 282 425 q 248 97 241 239 q 339 91 274 91 q 568 132 503 91 q 632 258 632 172 z "
		},
		"В": {
			"ha": 814,
			"x_min": 127,
			"x_max": 747,
			"o": "m 747 269 q 635 66 747 138 q 335 -4 526 -4 q 127 0 282 -4 q 137 464 137 210 q 127 883 137 703 l 209 883 q 304 885 233 883 q 409 887 376 887 q 691 692 691 887 q 557 490 691 541 l 557 484 q 747 269 747 450 m 632 258 q 336 425 632 425 q 241 420 282 425 q 248 97 241 239 q 339 91 274 91 q 571 134 503 91 q 632 258 632 172 m 577 659 q 388 799 577 799 q 234 789 293 799 q 239 513 239 740 q 313 511 273 511 q 508 542 447 511 q 577 659 577 576 z "
		},
		"Г": {
			"ha": 671,
			"x_min": 127,
			"x_max": 648,
			"o": "m 648 883 l 644 777 q 238 783 404 783 q 245 419 245 651 q 254 0 245 137 l 127 0 q 136 419 136 164 q 127 883 136 715 l 648 883 z "
		},
		"Д": {
			"ha": 901,
			"x_min": 7,
			"x_max": 871,
			"o": "m 871 92 q 852 -79 871 52 q 833 -281 833 -211 l 753 -281 q 750 3 753 -195 q 430 10 642 10 q 125 3 249 10 q 88 -281 88 -195 l 11 -281 q 9 -80 11 -212 q 7 92 7 51 l 72 92 q 390 883 188 445 l 736 883 q 728 469 728 667 q 740 92 728 270 l 871 92 m 626 92 q 618 446 618 222 q 615 798 618 648 l 449 798 q 177 92 244 316 l 626 92 z "
		},
		"Е": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 z "
		},
		"Ж": {
			"ha": 1187,
			"x_min": 52,
			"x_max": 1135,
			"o": "m 1135 0 l 994 0 q 975 58 989 12 q 858 340 920 275 q 663 405 797 405 q 648 403 654 405 q 655 0 648 184 l 532 0 q 538 403 538 184 q 517 405 526 405 q 322 340 383 405 q 205 58 260 275 q 186 0 197 25 l 52 0 q 81 81 62 27 q 202 363 156 299 q 334 458 249 427 l 334 465 q 205 574 254 503 q 111 809 157 644 q 85 883 101 843 l 209 883 q 229 830 215 875 q 337 566 264 640 q 527 492 411 492 q 538 494 534 492 q 532 883 538 680 l 655 883 q 648 494 648 680 q 663 492 656 492 q 854 568 779 492 q 965 830 930 644 q 985 883 971 864 l 1101 883 q 1076 809 1094 864 q 981 578 1033 654 q 852 465 930 503 l 852 458 q 985 364 939 427 q 1105 81 1031 300 q 1135 0 1114 56 z "
		},
		"З": {
			"ha": 740,
			"x_min": 45,
			"x_max": 673,
			"o": "m 673 262 q 577 56 673 135 q 328 -22 482 -22 q 45 21 163 -22 l 62 129 q 328 74 192 74 q 557 245 557 74 q 478 373 557 333 q 274 414 398 414 q 167 410 216 414 l 182 511 q 292 508 222 508 q 517 664 517 508 q 313 799 517 799 q 83 758 181 799 l 100 863 q 368 895 190 895 q 565 839 499 895 q 631 695 631 782 q 484 490 631 549 l 484 484 q 673 262 673 447 z "
		},
		"И": {
			"ha": 940,
			"x_min": 127,
			"x_max": 812,
			"o": "m 812 0 l 684 0 q 693 377 693 126 q 697 670 693 492 l 690 670 q 437 323 667 602 q 222 0 222 64 l 127 0 q 139 419 139 180 q 127 883 139 663 l 255 883 q 245 472 245 700 q 239 213 245 355 l 247 213 q 507 558 275 281 q 717 883 717 810 l 812 883 q 802 419 802 663 q 812 0 802 180 z "
		},
		"Й": {
			"ha": 940,
			"x_min": 127,
			"x_max": 812,
			"o": "m 812 0 l 684 0 q 693 377 693 126 q 697 670 693 492 l 690 670 q 437 323 667 602 q 222 0 222 64 l 127 0 q 139 419 139 180 q 127 883 139 663 l 255 883 q 245 472 245 700 q 239 213 245 355 l 247 213 q 507 558 275 281 q 717 883 717 810 l 812 883 q 802 419 802 663 q 812 0 802 180 m 686 1132 q 639 997 686 1057 q 478 937 592 937 q 312 998 360 937 q 264 1133 264 1059 l 361 1146 q 478 1010 361 1010 q 571 1045 547 1010 q 595 1146 595 1080 l 686 1132 z "
		},
		"К": {
			"ha": 834,
			"x_min": 127,
			"x_max": 782,
			"o": "m 782 0 l 642 0 q 622 58 636 12 q 506 340 567 275 q 311 405 444 405 q 248 403 270 405 q 255 0 248 184 l 127 0 q 137 464 137 210 q 127 883 137 703 l 255 883 q 248 494 248 680 q 311 492 281 492 q 502 568 426 492 q 612 830 578 644 q 632 883 618 864 l 749 883 q 724 809 741 864 q 629 578 680 654 q 500 465 577 503 l 500 458 q 632 364 586 427 q 753 81 678 300 q 782 0 762 56 z "
		},
		"Л": {
			"ha": 852,
			"x_min": 6,
			"x_max": 725,
			"o": "m 725 883 q 717 469 717 667 q 725 0 717 221 l 600 0 q 608 446 608 190 q 605 798 608 648 l 437 798 q 418 714 432 766 q 385 601 405 663 q 339 470 365 539 q 284 334 314 401 q 221 206 254 267 q 154 97 189 144 q 84 20 119 50 q 13 -12 48 -9 l 6 111 q 48 140 24 115 q 98 206 71 165 q 152 300 124 247 q 207 413 180 353 q 258 537 233 473 q 304 663 283 601 q 339 781 324 724 q 360 883 353 838 l 725 883 z "
		},
		"М": {
			"ha": 1185,
			"x_min": 98,
			"x_max": 1073,
			"o": "m 1073 0 l 945 0 q 924 437 945 151 q 902 781 903 724 l 895 781 q 723 302 827 560 q 619 0 619 44 l 528 0 q 431 308 528 47 q 308 656 334 568 q 273 781 282 744 l 266 781 q 239 406 264 688 q 214 0 214 123 l 98 0 q 144 373 98 7 q 190 883 190 740 l 368 883 q 477 510 368 808 q 585 149 585 212 l 592 149 q 714 511 592 212 q 836 883 836 810 l 1010 883 q 1042 376 1010 740 q 1073 0 1073 12 z "
		},
		"Н": {
			"ha": 905,
			"x_min": 127,
			"x_max": 778,
			"o": "m 778 0 l 649 0 q 656 420 656 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 127 883 137 690 l 256 883 q 248 506 248 689 l 657 506 q 649 883 657 653 l 778 883 q 768 464 768 694 q 778 0 768 211 z "
		},
		"О": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 z "
		},
		"П": {
			"ha": 867,
			"x_min": 127,
			"x_max": 740,
			"o": "m 740 0 l 615 0 q 622 446 622 190 q 633 798 622 648 l 234 798 q 245 457 245 655 q 252 0 245 199 l 127 0 q 136 469 136 269 q 127 883 136 659 l 740 883 q 732 469 732 667 q 740 0 732 264 z "
		},
		"Р": {
			"ha": 768,
			"x_min": 127,
			"x_max": 723,
			"o": "m 723 664 q 606 433 723 509 q 290 356 488 356 q 247 357 265 356 q 258 0 247 210 l 127 0 q 138 464 138 193 q 127 883 138 697 l 224 883 q 314 885 240 883 q 439 887 387 887 q 646 828 569 887 q 723 664 723 768 m 610 625 q 372 799 610 799 q 241 789 313 799 q 245 444 245 678 q 304 443 269 443 q 610 625 610 443 z "
		},
		"С": {
			"ha": 763,
			"x_min": 67,
			"x_max": 726,
			"o": "m 726 108 l 717 7 q 535 -18 633 -18 q 184 110 302 -18 q 67 422 67 237 q 198 755 67 615 q 550 895 329 895 q 679 877 611 895 l 660 769 q 521 793 582 793 q 272 692 357 793 q 187 443 187 590 q 285 186 187 293 q 555 79 382 79 q 726 108 621 79 z "
		},
		"Т": {
			"ha": 707,
			"x_min": 15,
			"x_max": 692,
			"o": "m 692 883 l 689 787 q 412 794 555 794 q 410 464 410 664 q 417 0 410 243 l 293 0 q 301 464 301 231 q 297 794 301 661 q 15 786 197 794 l 18 883 l 692 883 z "
		},
		"У": {
			"ha": 712,
			"x_min": 7,
			"x_max": 720,
			"o": "m 720 883 q 622 612 720 846 q 443 233 525 378 q 283 34 360 87 q 70 -20 205 -20 l 64 76 q 236 112 179 76 q 340 248 294 149 q 174 584 340 298 q 7 883 7 870 l 148 883 q 275 629 148 863 q 402 368 402 395 l 409 368 q 596 883 596 782 l 720 883 z "
		},
		"Ф": {
			"ha": 947,
			"x_min": 45,
			"x_max": 902,
			"o": "m 902 492 q 811 255 902 353 q 529 142 720 158 q 533 0 529 90 l 414 0 q 418 142 418 74 q 134 239 223 153 q 45 456 45 325 q 136 693 45 596 q 418 806 227 791 q 414 918 418 866 l 533 918 q 529 806 530 873 q 813 710 724 796 q 902 492 902 624 m 792 471 q 526 726 792 699 q 523 489 523 605 q 526 223 523 364 q 792 471 792 245 m 423 460 q 420 726 423 585 q 155 477 155 703 q 420 223 155 250 q 423 460 423 344 z "
		},
		"Х": {
			"ha": 775,
			"x_min": 7,
			"x_max": 768,
			"o": "m 768 0 l 621 0 q 519 195 621 26 q 373 416 420 359 l 366 416 q 239 201 325 361 q 150 0 150 32 l 7 0 q 151 234 7 20 q 327 478 292 446 l 327 485 q 176 693 290 526 q 59 883 59 865 l 205 883 q 286 726 205 863 q 401 551 366 591 l 408 551 q 517 728 442 593 q 593 883 593 863 l 736 883 q 612 700 736 864 q 448 498 492 543 l 448 492 q 631 234 500 434 q 768 0 768 27 z "
		},
		"Ц": {
			"ha": 884,
			"x_min": 127,
			"x_max": 854,
			"o": "m 854 92 q 839 -80 854 51 q 823 -281 823 -212 l 739 -281 q 737 0 739 -195 l 127 0 q 136 413 136 216 q 127 883 136 618 l 252 883 q 245 437 245 693 l 245 92 l 608 92 l 608 426 q 601 883 608 684 l 726 883 q 718 413 718 614 q 723 92 718 237 l 854 92 z "
		},
		"Ч": {
			"ha": 844,
			"x_min": 75,
			"x_max": 717,
			"o": "m 717 0 l 588 0 q 597 395 597 180 q 366 373 503 373 q 151 436 222 373 q 81 695 81 500 q 75 883 81 774 l 201 883 q 192 738 192 800 q 241 512 192 562 q 427 463 290 463 q 597 484 530 463 q 588 883 597 713 l 717 883 q 707 464 707 698 q 717 0 707 218 z "
		},
		"Ш": {
			"ha": 1240,
			"x_min": 127,
			"x_max": 1112,
			"o": "m 1112 0 l 127 0 q 136 413 136 216 q 127 883 136 618 l 252 883 q 245 437 245 693 l 245 92 l 564 92 l 564 426 q 557 883 564 684 l 682 883 q 675 437 675 693 l 675 92 l 995 92 l 995 426 q 987 883 995 684 l 1112 883 q 1104 413 1104 614 q 1112 0 1104 223 z "
		},
		"Щ": {
			"ha": 1273,
			"x_min": 127,
			"x_max": 1243,
			"o": "m 1243 92 q 1227 -80 1243 52 q 1211 -281 1211 -212 l 1127 -281 q 1125 0 1127 -195 l 127 0 q 136 413 136 216 q 127 883 136 618 l 252 883 q 245 437 245 693 l 245 92 l 565 92 l 565 426 q 557 883 565 684 l 682 883 q 675 437 675 693 l 675 92 l 995 92 l 995 426 q 988 883 995 684 l 1112 883 q 1104 413 1104 614 q 1109 92 1104 302 l 1243 92 z "
		},
		"Ъ": {
			"ha": 930,
			"x_min": 15,
			"x_max": 885,
			"o": "m 885 290 q 776 76 885 156 q 480 -4 667 -4 q 294 0 419 -4 q 304 464 304 210 q 312 794 304 667 q 15 786 213 794 l 18 883 l 423 883 q 413 541 418 824 q 500 544 456 544 q 885 290 885 544 m 770 279 q 481 452 770 452 q 413 448 450 452 q 417 97 413 267 q 485 91 455 91 q 707 140 644 91 q 770 279 770 189 z "
		},
		"Ы": {
			"ha": 1099,
			"x_min": 127,
			"x_max": 971,
			"o": "m 719 283 q 610 73 719 149 q 314 -4 502 -4 q 127 0 261 -4 q 138 464 138 210 q 127 883 138 703 l 256 883 q 247 541 252 824 q 334 544 292 544 q 719 283 719 544 m 604 272 q 315 452 604 452 q 247 448 280 452 q 251 97 247 267 q 318 91 285 91 q 542 137 479 91 q 604 272 604 183 m 971 0 l 842 0 q 852 464 852 220 q 842 883 852 704 l 971 883 q 961 464 961 698 q 971 0 961 218 z "
		},
		"Ь": {
			"ha": 790,
			"x_min": 127,
			"x_max": 745,
			"o": "m 745 283 q 637 73 745 149 q 340 -4 528 -4 q 127 0 288 -4 q 138 464 138 210 q 127 883 138 703 l 256 883 q 247 541 252 824 q 360 544 318 544 q 745 283 745 544 m 631 272 q 342 452 631 452 q 247 448 288 452 q 254 97 247 267 q 345 91 296 91 q 568 137 505 91 q 631 272 631 183 z "
		},
		"Э": {
			"ha": 772,
			"x_min": 37,
			"x_max": 705,
			"o": "m 705 455 q 590 115 705 248 q 250 -18 474 -18 q 37 0 143 -18 l 54 104 q 266 77 165 77 q 505 170 422 77 q 591 414 587 262 q 199 412 416 414 l 199 514 q 591 509 415 509 q 267 802 559 802 q 45 766 176 802 l 56 870 q 288 895 173 895 q 608 782 510 895 q 705 455 705 669 z "
		},
		"Ю": {
			"ha": 1287,
			"x_min": 127,
			"x_max": 1220,
			"o": "m 1220 455 q 1100 102 1220 230 q 810 -26 980 -26 q 520 104 621 -26 q 418 420 418 234 l 247 420 q 256 0 248 195 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 506 252 808 l 424 506 q 563 797 448 694 q 829 901 678 901 q 1105 783 990 901 q 1220 455 1220 665 m 1099 439 q 1015 712 1099 618 q 810 806 930 806 q 617 706 698 806 q 536 435 536 606 q 621 163 536 258 q 829 68 707 68 q 1021 168 942 68 q 1099 439 1099 268 z "
		},
		"Я": {
			"ha": 826,
			"x_min": 30,
			"x_max": 699,
			"o": "m 699 0 l 572 0 q 581 377 581 158 q 478 378 536 378 q 293 315 354 378 q 180 45 232 251 q 163 0 171 9 l 30 0 q 56 68 38 20 q 165 325 123 264 q 288 408 208 385 l 288 415 q 87 648 87 457 q 418 887 87 887 q 529 885 468 887 q 603 883 590 883 l 699 883 q 688 464 688 703 q 699 0 688 210 m 581 468 q 572 789 581 621 q 409 798 469 798 q 251 765 298 798 q 204 657 204 732 q 490 467 204 467 q 581 468 548 467 z "
		},
		"Ѓ": {
			"ha": 671,
			"x_min": 127,
			"x_max": 648,
			"o": "m 648 883 l 644 777 q 238 783 404 783 q 245 419 245 651 q 254 0 245 137 l 127 0 q 136 419 136 164 q 127 883 136 715 l 648 883 m 586 1146 q 496 1055 586 1138 q 399 960 406 971 l 317 960 q 378 1055 317 971 q 439 1146 439 1139 l 586 1146 z "
		},
		"Ґ": {
			"ha": 667,
			"x_min": 127,
			"x_max": 644,
			"o": "m 644 777 q 238 783 404 783 q 245 419 245 651 q 254 0 245 137 l 127 0 q 136 419 136 164 q 127 883 136 715 l 541 883 q 551 1065 551 1005 l 642 1065 q 643 920 642 1027 q 644 777 644 814 z "
		},
		"Ђ": {
			"ha": 879,
			"x_min": 15,
			"x_max": 834,
			"o": "m 385 509 q 456 513 414 513 q 834 273 834 513 q 742 64 834 140 q 470 -11 649 -11 l 461 77 q 664 124 608 77 q 720 262 720 172 q 437 425 720 425 q 385 420 418 425 q 390 0 385 239 l 266 0 q 274 464 274 231 q 270 794 274 661 q 15 786 170 794 l 18 883 l 685 883 l 682 787 q 389 794 530 794 q 385 509 385 678 z "
		},
		"Є": {
			"ha": 771,
			"x_min": 67,
			"x_max": 734,
			"o": "m 734 111 l 724 7 q 479 -18 573 -18 q 159 96 250 -18 q 67 422 67 210 q 180 764 67 633 q 515 895 294 895 q 714 877 622 895 l 697 773 q 493 800 593 800 q 187 513 218 800 q 577 515 399 513 l 577 412 q 192 418 366 418 q 265 159 199 243 q 498 76 331 76 q 734 111 584 76 z "
		},
		"Ѕ": {
			"ha": 710,
			"x_min": 67,
			"x_max": 643,
			"o": "m 643 229 q 294 -22 643 -22 q 67 7 166 -22 l 91 113 q 307 74 205 74 q 538 204 538 74 q 478 317 538 270 q 321 400 438 348 q 148 501 197 455 q 79 661 79 565 q 149 825 79 762 q 370 895 227 895 q 591 874 531 895 l 574 766 q 355 799 471 799 q 181 682 181 799 q 231 588 181 626 q 375 516 264 564 q 558 412 502 461 q 643 229 643 337 z "
		},
		"Ѐ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 462 960 l 380 960 q 283 1055 374 971 q 193 1146 193 1138 l 340 1146 q 401 1055 340 1139 q 462 960 462 971 z "
		},
		"Ё": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 342 1057 q 322 1003 342 1026 q 264 979 301 979 q 217 1000 234 979 q 200 1048 200 1020 q 221 1101 200 1078 q 279 1124 241 1124 q 326 1104 309 1124 q 342 1057 342 1085 m 599 1057 q 578 1003 599 1026 q 521 979 557 979 q 473 1000 490 979 q 456 1048 456 1020 q 477 1101 456 1078 q 535 1124 498 1124 q 582 1104 566 1124 q 599 1057 599 1085 z "
		},
		"І": {
			"ha": 384,
			"x_min": 127,
			"x_max": 256,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 z "
		},
		"Ї": {
			"ha": 384,
			"x_min": -5,
			"x_max": 393,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 137 1057 q 116 1003 137 1026 q 59 979 96 979 q 12 1000 28 979 q -5 1048 -5 1020 q 15 1101 -5 1078 q 73 1124 36 1124 q 120 1104 104 1124 q 137 1057 137 1085 m 393 1057 q 373 1003 393 1026 q 315 979 352 979 q 268 1000 285 979 q 251 1048 251 1020 q 272 1101 251 1078 q 330 1124 292 1124 q 377 1104 360 1124 q 393 1057 393 1085 z "
		},
		"Ј": {
			"ha": 555,
			"x_min": 15,
			"x_max": 465,
			"o": "m 465 883 q 457 654 460 780 q 455 378 455 529 q 437 198 455 269 q 379 78 418 127 q 279 5 340 29 q 133 -18 218 -18 q 15 -4 67 -18 l 25 95 q 125 73 73 73 q 228 89 184 73 q 297 141 271 106 q 335 228 323 176 q 346 363 346 279 q 336 883 346 671 l 465 883 z "
		},
		"Ѝ": {
			"ha": 940,
			"x_min": 127,
			"x_max": 812,
			"o": "m 812 0 l 684 0 q 693 377 693 126 q 697 670 693 492 l 690 670 q 437 323 667 602 q 222 0 222 64 l 127 0 q 139 419 139 180 q 127 883 139 663 l 255 883 q 245 472 245 700 q 239 213 245 355 l 247 213 q 507 558 275 281 q 717 883 717 810 l 812 883 q 802 419 802 663 q 812 0 802 180 m 542 960 l 460 960 q 363 1055 454 971 q 273 1146 273 1138 l 420 1146 q 481 1055 420 1139 q 542 960 542 971 z "
		},
		"Ќ": {
			"ha": 834,
			"x_min": 127,
			"x_max": 782,
			"o": "m 782 0 l 642 0 q 622 58 636 12 q 506 340 567 275 q 311 405 444 405 q 248 403 270 405 q 255 0 248 184 l 127 0 q 137 464 137 210 q 127 883 137 703 l 255 883 q 248 494 248 680 q 311 492 281 492 q 502 568 426 492 q 612 830 578 644 q 632 883 618 864 l 749 883 q 724 809 741 864 q 629 578 680 654 q 500 465 577 503 l 500 458 q 632 364 586 427 q 753 81 678 300 q 782 0 762 56 m 636 1146 q 546 1055 636 1138 q 449 960 456 971 l 368 960 q 429 1055 368 971 q 490 1146 490 1139 l 636 1146 z "
		},
		"Љ": {
			"ha": 1179,
			"x_min": 6,
			"x_max": 1135,
			"o": "m 1020 262 q 738 425 1020 425 q 685 420 718 425 q 692 90 685 239 q 741 84 723 84 q 961 129 901 84 q 1020 262 1020 173 m 1135 273 q 1027 70 1135 144 q 736 -4 920 -4 q 572 0 684 -4 q 578 446 578 190 q 583 798 578 648 l 437 798 q 418 714 432 766 q 385 601 405 663 q 339 470 365 539 q 284 334 314 401 q 221 206 254 267 q 154 97 189 144 q 84 20 119 50 q 13 -12 48 -9 l 6 111 q 48 140 24 115 q 98 206 71 165 q 152 300 124 247 q 207 413 180 353 q 258 537 233 473 q 304 663 283 601 q 339 781 324 724 q 360 883 353 838 l 696 883 q 685 509 685 726 q 756 513 714 513 q 1135 273 1135 513 z "
		},
		"Њ": {
			"ha": 1196,
			"x_min": 127,
			"x_max": 1152,
			"o": "m 1152 273 q 1044 70 1152 144 q 753 -4 937 -4 q 584 0 701 -4 q 593 420 593 235 l 250 420 q 256 0 250 270 l 127 0 q 137 464 137 248 q 127 883 137 690 l 256 883 q 248 506 248 689 l 593 506 q 584 883 593 653 l 713 883 q 702 509 708 808 q 773 513 731 513 q 1152 273 1152 513 m 1037 262 q 755 425 1037 425 q 702 420 735 425 q 709 90 702 239 q 758 84 740 84 q 978 129 918 84 q 1037 262 1037 173 z "
		},
		"Ћ": {
			"ha": 907,
			"x_min": 15,
			"x_max": 840,
			"o": "m 385 503 q 571 513 468 513 q 834 334 834 513 q 840 0 834 150 l 711 0 q 720 289 720 113 q 553 425 720 425 q 385 414 472 425 q 390 0 385 239 l 266 0 q 274 464 274 231 q 270 794 274 661 q 15 786 170 794 l 18 883 l 685 883 l 682 787 q 388 794 530 794 q 385 503 385 678 z "
		},
		"Ў": {
			"ha": 712,
			"x_min": 7,
			"x_max": 720,
			"o": "m 720 883 q 622 612 720 846 q 443 233 525 378 q 283 34 360 87 q 70 -20 205 -20 l 64 76 q 236 112 179 76 q 340 248 294 149 q 174 584 340 298 q 7 883 7 870 l 148 883 q 275 629 148 863 q 402 368 402 395 l 409 368 q 596 883 596 782 l 720 883 m 596 1132 q 549 997 596 1057 q 388 937 502 937 q 222 998 270 937 q 174 1133 174 1059 l 271 1146 q 388 1010 271 1010 q 481 1045 456 1010 q 505 1146 505 1080 l 596 1132 z "
		},
		"Џ": {
			"ha": 881,
			"x_min": 127,
			"x_max": 753,
			"o": "m 753 0 l 498 0 q 478 -281 478 -186 l 401 -281 q 380 0 401 -195 l 127 0 q 136 413 136 216 q 127 883 136 618 l 252 883 q 245 437 245 693 l 245 92 l 636 92 l 636 426 q 629 883 636 684 l 753 883 q 745 413 745 614 q 753 0 745 223 z "
		},
		"Ѣ": {
			"ha": 908,
			"x_min": 15,
			"x_max": 863,
			"o": "m 863 269 q 753 67 863 138 q 452 -4 642 -4 q 273 0 399 -4 q 282 464 282 210 q 278 713 282 566 q 15 705 170 711 l 18 802 l 277 802 q 274 967 277 907 l 403 967 q 400 802 400 916 l 706 802 l 703 706 q 398 713 637 709 q 393 513 393 606 q 513 515 434 515 q 764 459 665 515 q 863 269 863 402 m 749 258 q 453 425 749 425 q 391 420 418 425 q 395 97 391 239 q 456 91 422 91 q 684 132 620 91 q 749 258 749 172 z "
		},
		"Ѳ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 779 418 l 184 418 q 281 159 189 250 q 492 68 374 68 q 687 163 600 68 q 779 418 773 259 m 775 504 q 669 728 758 650 q 472 806 581 806 q 290 725 372 806 q 189 504 207 644 l 775 504 z "
		},
		"Ѵ": {
			"ha": 799,
			"x_min": 7,
			"x_max": 784,
			"o": "m 367 136 q 381 220 367 162 q 413 337 395 279 q 453 456 431 395 q 503 577 476 518 q 562 691 530 637 q 628 790 593 746 q 700 865 663 834 q 777 908 738 896 l 784 786 q 723 729 752 766 q 664 646 694 693 q 604 543 633 599 q 549 428 574 487 q 500 308 523 368 q 447 143 478 248 q 416 0 416 37 l 304 0 q 156 436 304 37 q 7 883 7 834 l 136 883 q 248 496 136 834 q 360 136 360 159 l 367 136 z "
		},
		"а": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 z "
		},
		"б": {
			"ha": 776,
			"x_min": 73,
			"x_max": 723,
			"o": "m 723 328 q 621 65 723 157 q 381 -26 519 -26 q 127 114 198 -26 q 73 451 73 220 q 185 821 73 705 q 462 935 275 915 q 693 964 567 946 l 687 855 q 448 832 629 852 q 256 765 310 814 q 182 535 182 699 l 189 535 q 416 632 273 632 q 635 557 547 632 q 723 328 723 483 m 606 304 q 553 477 606 408 q 401 547 500 547 q 184 448 260 547 q 236 151 185 242 q 397 59 287 59 q 549 132 492 59 q 606 304 606 204 z "
		},
		"в": {
			"ha": 693,
			"x_min": 75,
			"x_max": 622,
			"o": "m 622 191 q 545 46 622 96 q 324 -4 467 -4 q 90 0 248 -4 q 99 311 99 93 q 75 644 99 514 l 146 644 q 351 652 247 652 q 593 503 593 652 q 494 352 593 393 l 494 345 q 622 191 622 321 m 512 184 q 448 278 512 254 q 326 293 409 293 q 199 288 262 293 q 200 87 199 168 q 348 79 262 79 q 512 184 512 79 m 488 473 q 350 568 488 568 q 193 562 282 568 q 199 373 199 464 q 342 370 283 370 q 451 399 412 370 q 488 473 488 427 z "
		},
		"г": {
			"ha": 529,
			"x_min": 75,
			"x_max": 515,
			"o": "m 515 644 l 511 540 q 183 551 393 551 q 186 310 186 415 q 196 0 186 147 l 75 0 q 85 310 85 136 q 75 644 85 506 l 515 644 z "
		},
		"д": {
			"ha": 782,
			"x_min": 24,
			"x_max": 745,
			"o": "m 745 87 q 729 -79 745 52 q 713 -281 713 -210 l 632 -281 q 630 3 632 -195 q 370 7 538 7 q 139 3 262 7 q 107 -281 107 -195 l 26 -281 q 25 -109 26 -220 q 24 87 24 3 l 92 87 q 327 644 160 333 l 523 644 l 614 657 q 606 310 606 515 q 618 87 606 227 l 745 87 m 514 87 q 507 310 507 219 q 501 559 507 446 l 383 559 q 283 356 341 484 q 190 87 226 229 l 514 87 z "
		},
		"е": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 z "
		},
		"ж": {
			"ha": 994,
			"x_min": 53,
			"x_max": 941,
			"o": "m 941 0 l 819 0 q 802 35 813 9 q 709 232 759 177 q 579 287 660 287 q 549 286 563 287 q 559 0 549 129 l 435 0 q 446 286 446 129 q 410 287 426 287 q 279 232 329 287 q 186 35 230 177 q 170 0 182 20 l 53 0 q 83 75 61 18 q 166 252 123 191 q 273 331 209 312 l 273 338 q 100 587 177 374 q 77 644 91 611 l 192 644 q 207 613 197 637 q 418 368 268 368 q 446 369 435 368 q 437 644 446 527 l 557 644 q 549 369 549 527 q 579 368 562 368 q 791 613 730 368 q 806 644 795 629 l 918 644 q 895 587 911 629 q 721 338 817 374 l 721 331 q 828 252 785 312 q 911 75 871 191 q 941 0 924 39 z "
		},
		"з": {
			"ha": 609,
			"x_min": 46,
			"x_max": 543,
			"o": "m 543 193 q 459 36 543 90 q 264 -18 375 -18 q 46 9 142 -18 l 58 101 q 264 67 138 67 q 436 178 436 67 q 232 292 436 292 q 116 288 170 292 l 127 377 q 235 373 183 373 q 418 485 418 373 q 258 575 418 575 q 66 547 147 575 l 77 637 q 272 667 163 667 q 519 517 519 667 q 415 359 519 404 l 415 353 q 497 309 462 344 q 543 193 543 263 z "
		},
		"и": {
			"ha": 734,
			"x_min": 75,
			"x_max": 644,
			"o": "m 644 0 l 523 0 q 533 310 533 116 q 540 475 533 365 l 533 475 q 348 229 519 428 q 186 0 186 38 l 90 0 q 99 310 99 136 q 75 639 99 506 l 210 657 q 201 338 201 532 q 197 164 201 269 l 203 164 q 388 410 219 207 q 547 639 547 600 l 643 657 q 635 310 635 515 q 644 0 635 147 z "
		},
		"й": {
			"ha": 734,
			"x_min": 75,
			"x_max": 644,
			"o": "m 644 0 l 523 0 q 533 310 533 116 q 540 475 533 365 l 533 475 q 348 229 519 428 q 186 0 186 38 l 90 0 q 99 310 99 136 q 75 639 99 506 l 210 657 q 201 338 201 532 q 197 164 201 269 l 203 164 q 388 410 219 207 q 547 639 547 600 l 643 657 q 635 310 635 515 q 644 0 635 147 m 585 933 q 538 799 585 859 q 377 739 491 739 q 211 799 259 739 q 163 935 163 860 l 260 947 q 377 812 260 812 q 470 847 446 812 q 494 947 494 882 l 585 933 z "
		},
		"к": {
			"ha": 677,
			"x_min": 75,
			"x_max": 635,
			"o": "m 635 0 l 512 0 q 496 35 507 9 q 403 232 452 177 q 273 287 353 287 q 201 286 245 287 q 211 0 201 129 l 90 0 q 100 310 100 136 q 75 639 100 506 l 210 657 q 201 369 201 527 q 273 368 241 368 q 484 613 423 368 q 499 644 488 629 l 611 644 q 588 587 604 629 q 414 338 511 374 l 414 331 q 522 252 479 312 q 605 75 565 191 q 635 0 617 39 z "
		},
		"л": {
			"ha": 694,
			"x_min": 6,
			"x_max": 604,
			"o": "m 604 0 l 486 0 q 495 296 495 122 q 490 559 495 434 l 355 559 q 311 411 335 484 q 258 276 286 339 q 200 159 231 212 q 138 68 170 106 q 75 9 107 31 q 13 -12 43 -12 l 6 97 q 46 119 23 98 q 94 177 68 140 q 146 264 119 214 q 199 376 173 315 q 248 504 224 436 q 289 644 271 572 l 511 644 l 603 657 q 594 310 594 515 q 604 0 594 147 z "
		},
		"м": {
			"ha": 948,
			"x_min": 90,
			"x_max": 858,
			"o": "m 858 0 l 743 0 q 742 316 743 127 q 741 545 741 505 l 732 545 q 654 352 714 494 q 507 0 507 41 l 414 0 q 294 345 414 59 q 220 545 265 412 l 212 545 q 202 284 212 501 q 193 0 193 67 l 90 0 q 115 289 90 20 q 140 644 140 557 l 306 644 q 392 356 306 562 q 478 122 478 151 l 486 122 q 579 354 486 150 q 673 644 673 559 l 834 644 q 846 293 834 557 q 858 0 858 29 z "
		},
		"н": {
			"ha": 722,
			"x_min": 75,
			"x_max": 632,
			"o": "m 632 0 l 513 0 q 523 298 522 130 l 198 298 q 208 0 198 146 l 90 0 q 100 310 100 136 q 75 639 100 506 l 207 657 q 198 385 203 608 l 522 385 q 499 639 517 537 l 631 657 q 622 310 622 515 q 632 0 622 147 z "
		},
		"о": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 z "
		},
		"п": {
			"ha": 701,
			"x_min": 75,
			"x_max": 611,
			"o": "m 611 0 l 490 0 q 500 310 500 136 q 498 557 500 415 l 201 557 q 200 310 200 444 q 210 0 200 147 l 90 0 q 100 310 100 136 q 75 639 100 506 l 209 644 l 515 644 l 610 657 q 601 310 601 515 q 611 0 601 147 z "
		},
		"р": {
			"ha": 772,
			"x_min": 75,
			"x_max": 705,
			"o": "m 705 349 q 621 92 705 202 q 388 -18 537 -18 q 224 26 263 -18 l 217 26 q 221 -310 217 -162 l 94 -310 q 109 136 109 -130 q 75 642 109 463 l 195 659 l 205 591 l 212 591 q 425 668 277 668 q 629 573 554 668 q 705 349 705 479 m 584 332 q 531 504 584 433 q 382 576 478 576 q 208 502 260 576 q 218 111 218 274 q 361 64 273 64 q 529 143 473 64 q 584 332 584 222 z "
		},
		"с": {
			"ha": 627,
			"x_min": 67,
			"x_max": 583,
			"o": "m 583 104 l 576 13 q 429 -18 521 -18 q 160 79 253 -18 q 67 313 67 176 q 165 562 67 458 q 423 667 262 667 q 555 650 504 667 l 536 544 q 392 570 465 570 q 239 503 296 570 q 182 335 182 436 q 250 152 182 225 q 441 79 317 79 q 583 104 492 79 z "
		},
		"т": {
			"ha": 612,
			"x_min": 30,
			"x_max": 582,
			"o": "m 582 644 l 578 543 q 361 554 467 554 q 358 310 358 460 q 368 0 358 147 l 245 0 q 254 310 254 136 q 249 554 254 456 q 30 543 143 554 l 34 644 l 582 644 z "
		},
		"у": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 z "
		},
		"ф": {
			"ha": 924,
			"x_min": 67,
			"x_max": 857,
			"o": "m 857 355 q 514 -14 857 26 q 524 -310 514 -157 l 402 -310 q 410 -14 410 -176 q 158 64 248 -6 q 67 300 67 134 q 410 669 67 637 q 399 926 410 822 l 524 947 q 514 669 514 840 q 764 594 670 664 q 857 355 857 524 m 410 590 q 242 527 302 584 q 181 328 181 471 q 240 135 181 191 q 410 66 300 79 l 410 590 m 744 328 q 684 520 744 463 q 514 590 624 576 l 514 66 q 744 328 744 92 z "
		},
		"х": {
			"ha": 700,
			"x_min": 37,
			"x_max": 663,
			"o": "m 663 0 l 515 0 q 450 115 515 17 q 336 280 385 214 l 330 280 q 235 126 296 233 q 174 0 174 20 l 37 0 q 134 149 37 20 q 291 342 231 279 l 291 347 q 157 514 246 397 q 67 644 67 632 l 212 644 q 267 540 212 628 q 358 405 321 452 l 364 405 q 451 536 397 445 q 504 644 504 627 l 633 644 q 541 512 633 633 q 409 352 449 392 l 409 345 q 565 146 467 277 q 663 0 663 16 z "
		},
		"ц": {
			"ha": 742,
			"x_min": 75,
			"x_max": 705,
			"o": "m 705 87 q 689 -79 705 52 q 673 -281 673 -210 l 596 -281 q 594 0 596 -195 l 90 0 q 100 310 100 136 q 75 639 100 506 l 212 657 q 203 310 203 515 q 200 87 203 227 l 488 87 q 485 310 485 224 q 461 639 485 506 l 595 657 q 587 310 587 515 q 594 87 587 195 l 705 87 z "
		},
		"ч": {
			"ha": 654,
			"x_min": 30,
			"x_max": 564,
			"o": "m 564 0 l 443 0 q 453 296 453 125 q 262 253 376 253 q 93 307 148 253 q 38 528 38 361 q 30 642 38 563 l 149 659 q 143 555 143 594 q 176 388 143 432 q 290 345 208 345 q 452 376 389 345 q 431 639 448 533 l 562 657 q 554 310 554 515 q 564 0 554 147 z "
		},
		"ш": {
			"ha": 1040,
			"x_min": 75,
			"x_max": 949,
			"o": "m 949 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 208 657 q 200 310 200 516 q 197 87 200 227 l 465 87 q 469 310 469 224 q 446 639 469 506 l 578 657 q 570 310 570 516 q 574 87 570 227 l 842 87 q 839 310 839 224 q 815 639 839 506 l 948 657 q 940 310 940 515 q 949 0 940 147 z "
		},
		"щ": {
			"ha": 1107,
			"x_min": 75,
			"x_max": 1069,
			"o": "m 1069 87 q 1054 -81 1069 50 q 1038 -281 1038 -211 l 961 -281 q 959 0 961 -195 l 89 0 q 99 310 99 136 q 75 639 99 506 l 208 657 q 200 310 200 516 q 197 87 200 227 l 465 87 q 469 310 469 224 q 445 639 469 506 l 578 657 q 570 310 570 516 q 574 87 570 227 l 842 87 q 839 310 839 224 q 815 639 839 506 l 948 657 q 939 310 939 515 q 945 87 939 188 l 1069 87 z "
		},
		"ъ": {
			"ha": 787,
			"x_min": 15,
			"x_max": 743,
			"o": "m 743 216 q 657 53 743 111 q 463 -4 571 -4 q 243 0 408 -4 q 250 310 250 136 q 260 564 250 406 q 15 545 129 545 l 19 643 q 372 657 200 643 q 352 400 352 526 q 446 413 401 413 q 743 216 743 413 m 639 204 q 446 331 639 331 q 352 321 410 331 q 355 87 352 200 q 465 79 409 79 q 639 204 639 79 z "
		},
		"ы": {
			"ha": 890,
			"x_min": 75,
			"x_max": 800,
			"o": "m 579 216 q 495 53 579 111 q 304 -4 412 -4 q 92 0 250 -4 q 99 310 99 136 q 75 639 99 506 l 203 657 q 197 400 197 572 q 289 413 245 413 q 579 216 579 413 m 800 0 l 682 0 q 692 310 692 136 q 668 639 692 506 l 798 657 q 789 310 789 515 q 800 0 789 147 m 475 204 q 289 331 475 331 q 197 321 254 331 q 200 87 197 200 q 307 79 250 79 q 475 204 475 79 z "
		},
		"ь": {
			"ha": 650,
			"x_min": 75,
			"x_max": 606,
			"o": "m 606 216 q 520 53 606 111 q 326 -4 434 -4 q 92 0 271 -4 q 99 310 99 136 q 75 639 99 506 l 207 657 q 201 400 201 572 q 316 413 272 413 q 606 216 606 413 m 502 204 q 316 331 502 331 q 201 321 281 331 q 203 87 201 200 q 328 79 272 79 q 502 204 502 79 z "
		},
		"э": {
			"ha": 650,
			"x_min": 45,
			"x_max": 583,
			"o": "m 583 336 q 494 82 583 183 q 241 -18 406 -18 q 45 3 133 -18 l 57 105 q 268 73 143 73 q 420 137 366 73 q 474 296 474 201 q 154 290 325 296 l 158 392 q 474 385 328 385 q 254 572 439 572 q 67 545 162 572 l 78 639 q 263 667 164 667 q 583 336 583 667 z "
		},
		"ю": {
			"ha": 1038,
			"x_min": 75,
			"x_max": 971,
			"o": "m 971 342 q 878 71 971 169 q 650 -26 785 -26 q 441 59 524 -26 q 357 298 359 144 l 200 298 q 210 0 200 146 l 90 0 q 100 310 100 136 q 75 639 100 506 l 209 657 q 200 385 205 608 l 363 385 q 472 599 385 524 q 678 674 560 674 q 887 587 803 674 q 971 342 971 500 m 857 318 q 806 509 857 429 q 663 589 756 589 q 519 513 569 589 q 470 330 470 437 q 520 140 470 222 q 665 59 570 59 q 807 136 758 59 q 857 318 857 213 z "
		},
		"я": {
			"ha": 697,
			"x_min": 30,
			"x_max": 607,
			"o": "m 607 0 l 488 0 q 494 269 494 113 q 372 275 437 275 q 235 231 269 275 q 143 0 200 186 l 30 0 q 122 233 85 165 q 206 310 159 301 l 206 317 q 68 465 68 350 q 309 653 68 653 q 523 644 404 653 l 607 659 q 597 311 597 514 q 607 0 597 93 m 494 355 q 488 557 494 486 q 294 566 408 566 q 177 460 177 566 q 372 352 177 352 q 494 355 427 352 z "
		},
		"ѓ": {
			"ha": 529,
			"x_min": 75,
			"x_max": 515,
			"o": "m 515 644 l 511 540 q 183 551 393 551 q 186 310 186 415 q 196 0 186 147 l 75 0 q 85 310 85 136 q 75 644 85 506 l 515 644 m 513 956 q 419 848 513 948 q 326 736 326 747 l 244 736 q 305 848 244 747 q 366 956 366 949 l 513 956 z "
		},
		"ґ": {
			"ha": 529,
			"x_min": 75,
			"x_max": 526,
			"o": "m 526 540 q 183 552 368 552 q 186 310 186 415 q 196 0 186 147 l 75 0 q 85 310 85 136 q 75 644 85 506 l 422 644 q 439 833 439 788 l 522 833 q 524 690 522 814 q 526 540 526 567 z "
		},
		"ђ": {
			"ha": 751,
			"x_min": 0,
			"x_max": 675,
			"o": "m 675 227 q 593 -117 675 33 q 366 -310 511 -267 l 339 -227 q 503 -75 445 -191 q 561 200 561 41 q 518 420 561 334 q 385 506 476 506 q 205 430 262 506 q 211 0 205 60 l 95 0 q 101 506 101 179 q 95 743 101 591 l 0 743 l 4 812 l 92 812 q 81 954 87 882 l 209 961 q 204 812 204 895 l 430 812 l 426 743 l 203 743 q 201 522 201 652 l 208 522 q 423 598 276 598 q 613 494 551 598 q 675 227 675 390 z "
		},
		"є": {
			"ha": 642,
			"x_min": 67,
			"x_max": 597,
			"o": "m 597 104 l 586 9 q 387 -18 486 -18 q 139 68 211 -18 q 67 313 67 155 q 154 570 67 473 q 409 667 241 667 q 577 646 517 667 l 565 544 q 375 576 500 576 q 176 381 208 576 q 510 387 323 382 l 506 292 q 176 298 324 298 q 396 77 186 77 q 597 104 488 77 z "
		},
		"ѕ": {
			"ha": 582,
			"x_min": 58,
			"x_max": 520,
			"o": "m 520 184 q 267 -14 520 -14 q 58 8 155 -14 l 79 108 q 271 74 168 74 q 418 158 418 74 q 386 223 418 199 q 277 277 353 247 q 137 350 180 315 q 73 476 73 402 q 132 609 73 553 q 309 664 190 664 q 496 644 426 664 l 475 547 q 306 576 402 576 q 176 500 176 576 q 205 439 176 463 q 319 382 234 416 q 454 312 410 347 q 520 184 520 258 z "
		},
		"ѐ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 431 736 l 350 736 q 256 848 350 747 q 163 956 163 948 l 309 956 q 370 848 309 949 q 431 736 431 747 z "
		},
		"ё": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 333 848 q 312 794 333 817 q 255 770 292 770 q 208 791 224 770 q 191 840 191 811 q 211 892 191 869 q 269 915 232 915 q 316 896 300 915 q 333 848 333 876 m 589 848 q 569 794 589 817 q 511 770 548 770 q 464 791 481 770 q 447 840 447 811 q 468 892 447 869 q 526 915 488 915 q 573 896 556 915 q 589 848 589 876 z "
		},
		"і": {
			"ha": 302,
			"x_min": 75,
			"x_max": 241,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 z "
		},
		"ї": {
			"ha": 302,
			"x_min": -51,
			"x_max": 348,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 92 848 q 71 794 92 817 q 14 770 50 770 q -34 791 -17 770 q -51 840 -51 811 q -30 892 -51 869 q 28 915 -9 915 q 75 896 58 915 q 92 848 92 876 m 348 848 q 327 794 348 817 q 270 770 307 770 q 222 791 239 770 q 205 840 205 811 q 226 892 205 869 q 284 915 247 915 q 331 896 315 915 q 348 848 348 876 z "
		},
		"ј": {
			"ha": 302,
			"x_min": 7,
			"x_max": 241,
			"o": "m 212 659 q 200 237 200 448 q 204 88 200 180 q 208 -38 208 -5 q 41 -304 208 -257 l 7 -252 q 81 -144 67 -201 q 102 209 102 -61 q 75 642 102 498 l 212 659 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 z "
		},
		"ѝ": {
			"ha": 734,
			"x_min": 75,
			"x_max": 644,
			"o": "m 644 0 l 523 0 q 533 310 533 116 q 540 475 533 365 l 533 475 q 348 229 519 428 q 186 0 186 38 l 90 0 q 99 310 99 136 q 75 639 99 506 l 210 657 q 201 338 201 532 q 197 164 201 269 l 203 164 q 388 410 219 207 q 547 639 547 600 l 643 657 q 635 310 635 515 q 644 0 635 147 m 456 736 l 375 736 q 281 848 375 747 q 188 956 188 948 l 334 956 q 395 848 334 949 q 456 736 456 747 z "
		},
		"ќ": {
			"ha": 677,
			"x_min": 75,
			"x_max": 635,
			"o": "m 635 0 l 512 0 q 496 35 507 9 q 403 232 452 177 q 273 287 353 287 q 201 286 245 287 q 211 0 201 129 l 90 0 q 100 310 100 136 q 75 639 100 506 l 210 657 q 201 369 201 527 q 273 368 241 368 q 484 613 423 368 q 499 644 488 629 l 611 644 q 588 587 604 629 q 414 338 511 374 l 414 331 q 522 252 479 312 q 605 75 565 191 q 635 0 617 39 m 565 956 q 471 848 565 948 q 378 736 378 747 l 296 736 q 357 848 296 747 q 418 956 418 949 l 565 956 z "
		},
		"љ": {
			"ha": 980,
			"x_min": 6,
			"x_max": 937,
			"o": "m 832 204 q 646 331 832 331 q 572 321 611 331 q 574 87 572 200 q 664 79 608 79 q 832 204 832 79 m 937 216 q 853 53 937 111 q 662 -4 769 -4 q 463 0 607 -4 q 466 310 466 136 q 468 559 466 468 l 355 559 q 311 411 335 484 q 258 276 286 339 q 200 159 231 212 q 138 68 170 106 q 75 9 107 31 q 13 -12 43 -12 l 6 97 q 46 119 23 98 q 94 177 68 140 q 146 264 119 214 q 199 376 173 315 q 248 504 224 436 q 289 644 271 572 l 486 644 l 577 657 q 572 400 572 572 q 646 413 602 413 q 937 216 937 413 z "
		},
		"њ": {
			"ha": 1009,
			"x_min": 75,
			"x_max": 966,
			"o": "m 966 216 q 882 53 966 111 q 691 -4 798 -4 q 492 0 636 -4 q 498 298 498 130 l 201 298 q 211 0 201 146 l 90 0 q 100 310 100 136 q 75 639 100 506 l 210 657 q 201 385 206 608 l 496 385 q 474 639 492 537 l 606 657 q 601 400 601 572 q 675 413 631 413 q 966 216 966 413 m 861 204 q 675 331 861 331 q 601 321 640 331 q 604 87 601 200 q 693 79 637 79 q 861 204 861 79 z "
		},
		"ћ": {
			"ha": 724,
			"x_min": 0,
			"x_max": 635,
			"o": "m 635 0 l 519 0 q 534 323 534 138 q 497 469 534 431 q 391 507 461 507 q 205 437 288 507 q 211 0 205 157 l 95 0 q 101 506 101 179 q 95 743 101 604 l 0 743 l 4 812 l 92 812 q 81 954 87 882 l 207 961 q 204 812 204 900 l 430 812 l 426 743 l 203 743 q 201 514 201 630 l 205 514 q 416 604 300 604 q 579 555 522 604 q 635 373 635 506 q 634 324 635 360 q 633 275 633 288 q 635 0 633 171 z "
		},
		"ў": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 554 933 q 507 799 554 859 q 346 739 460 739 q 180 799 228 739 q 132 935 132 860 l 229 947 q 346 812 229 812 q 439 847 414 812 q 463 947 463 882 l 554 933 z "
		},
		"џ": {
			"ha": 696,
			"x_min": 75,
			"x_max": 606,
			"o": "m 606 0 l 399 0 q 382 -281 382 -186 l 305 -281 q 288 0 305 -195 l 90 0 q 100 310 100 136 q 75 639 100 506 l 212 657 q 203 310 203 515 q 200 87 203 227 l 495 87 q 492 310 492 224 q 469 639 492 506 l 604 657 q 596 310 596 515 q 606 0 596 147 z "
		},
		"ѣ": {
			"ha": 771,
			"x_min": 30,
			"x_max": 728,
			"o": "m 728 209 q 642 50 728 104 q 448 -4 557 -4 q 214 0 393 -4 q 220 310 220 136 q 223 555 220 448 q 30 551 147 555 l 34 649 q 224 642 157 642 q 206 954 224 831 l 340 961 q 324 642 326 870 q 594 647 448 642 l 589 549 q 321 556 427 556 q 321 387 321 453 q 435 399 391 399 q 728 209 728 399 m 625 197 q 438 317 625 317 q 321 307 399 317 q 323 89 321 186 q 451 81 392 81 q 625 197 625 81 z "
		},
		"ѳ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 611 74 709 174 q 374 -26 514 -26 q 154 63 241 -26 q 67 302 67 153 q 167 574 67 475 q 402 674 267 674 q 618 585 528 674 q 709 342 709 496 m 602 302 l 174 302 q 234 132 176 205 q 389 59 292 59 q 545 134 491 59 q 602 302 599 208 m 593 380 q 528 533 578 478 q 387 589 477 589 q 243 533 294 589 q 179 380 191 477 l 593 380 z "
		},
		"ѵ": {
			"ha": 675,
			"x_min": 30,
			"x_max": 667,
			"o": "m 330 127 q 383 304 330 160 q 479 519 436 449 q 568 630 522 590 q 661 669 614 669 l 667 561 q 625 538 650 559 q 573 480 599 517 q 520 393 547 444 q 467 282 493 342 q 410 136 441 222 q 378 0 378 50 l 258 0 q 144 332 258 50 q 30 644 30 616 l 161 644 q 243 386 161 612 q 324 127 324 160 l 330 127 z "
		},
		"^": {
			"ha": 701,
			"x_min": 20,
			"x_max": 681,
			"o": "m 681 463 l 594 406 l 357 844 l 342 844 l 106 406 l 20 463 l 321 961 l 380 961 l 681 463 z "
		},
		"~": {
			"ha": 701,
			"x_min": 4,
			"x_max": 698,
			"o": "m 698 423 q 469 262 597 262 q 346 287 423 262 q 226 311 269 311 q 70 212 146 311 l 4 247 q 231 425 104 425 q 363 401 277 425 q 493 377 450 377 q 632 457 573 377 l 698 423 z "
		},
		"¦": {
			"ha": 350,
			"x_min": 116,
			"x_max": 234,
			"o": "m 234 -351 l 116 -351 q 125 -55 125 -117 q 116 263 125 6 l 234 263 q 225 -33 225 29 q 234 -351 225 -94 m 234 437 l 116 437 q 125 733 125 671 q 116 1051 125 794 l 234 1051 q 225 755 225 817 q 234 437 225 694 z "
		},
		"\\": {
			"ha": 371,
			"x_min": 11,
			"x_max": 361,
			"o": "m 361 -205 l 252 -205 q 132 425 252 -90 q 11 987 11 940 l 119 987 q 240 349 119 859 q 361 -205 361 -161 z "
		},
		"_": {
			"ha": 701,
			"x_min": 0,
			"x_max": 701,
			"o": "m 701 -347 l 0 -347 l 0 -260 l 701 -260 l 701 -347 z "
		},
		"'": {
			"ha": 353,
			"x_min": 102,
			"x_max": 252,
			"o": "m 252 856 q 166 476 252 710 l 141 476 q 102 856 102 728 q 178 964 102 964 q 239 937 226 964 q 252 856 252 909 z "
		},
		"\"": {
			"ha": 628,
			"x_min": 102,
			"x_max": 526,
			"o": "m 526 856 q 441 476 526 710 l 416 476 q 376 856 376 728 q 453 964 376 964 q 513 937 500 964 q 526 856 526 909 m 252 856 q 166 476 252 710 l 141 476 q 102 856 102 728 q 178 964 102 964 q 239 937 226 964 q 252 856 252 909 z "
		},
		"@": {
			"ha": 1401,
			"x_min": 88,
			"x_max": 1316,
			"o": "m 1316 412 q 1229 107 1316 234 q 999 -20 1141 -20 q 872 26 922 -20 q 823 151 823 72 l 817 151 q 598 -20 739 -20 q 463 57 510 -20 q 415 247 415 134 q 503 535 415 407 q 745 664 591 664 q 877 602 842 664 l 884 602 l 897 644 l 983 659 q 926 268 926 332 q 950 119 926 166 q 1044 73 975 73 q 1156 167 1110 73 q 1202 391 1202 261 q 1081 744 1202 593 q 703 895 959 895 q 334 724 470 895 q 199 323 199 552 q 330 -56 199 102 q 703 -214 461 -214 q 894 -184 809 -214 l 908 -301 q 701 -322 823 -322 q 248 -130 408 -322 q 88 328 88 62 q 251 799 88 598 q 701 1000 414 1000 q 1159 824 1003 1000 q 1316 412 1316 647 m 856 527 q 752 566 823 566 q 586 469 647 566 q 524 254 524 371 q 553 128 524 178 q 636 79 582 79 q 781 201 713 79 q 856 527 856 336 z "
		},
		"©": {
			"ha": 888,
			"x_min": 37,
			"x_max": 852,
			"o": "m 852 406 q 733 119 852 237 q 445 0 614 0 q 156 119 276 0 q 37 406 37 237 q 156 694 37 574 q 445 814 276 814 q 732 694 613 814 q 852 406 852 574 m 789 407 q 689 651 789 550 q 445 753 588 753 q 200 651 302 753 q 99 407 99 550 q 200 162 99 264 q 445 61 302 61 q 689 162 588 61 q 789 407 789 264 m 579 258 l 574 201 q 484 189 516 189 q 308 253 367 189 q 250 409 250 317 q 314 574 250 503 q 491 646 379 646 q 555 636 522 646 l 546 576 q 477 588 507 588 q 358 536 400 588 q 317 419 317 485 q 365 298 317 352 q 494 244 413 244 q 579 258 526 244 z "
		},
		"®": {
			"ha": 888,
			"x_min": 37,
			"x_max": 852,
			"o": "m 852 514 q 733 227 852 346 q 445 109 614 109 q 156 227 276 109 q 37 514 37 346 q 156 803 37 683 q 445 922 276 922 q 732 803 613 922 q 852 514 852 683 m 789 515 q 689 760 789 659 q 445 861 588 861 q 200 760 302 861 q 99 515 99 659 q 200 271 99 372 q 445 170 302 170 q 689 271 588 170 q 789 515 789 372 m 646 311 l 574 311 q 506 473 529 446 q 422 500 483 500 q 377 499 393 500 q 381 311 377 389 l 311 311 q 317 543 317 416 q 311 752 317 662 l 359 752 q 391 753 361 752 q 452 754 421 754 q 600 652 600 754 q 517 532 600 567 l 517 528 q 575 480 554 517 q 646 311 596 443 m 535 629 q 433 703 535 703 q 374 698 394 703 q 376 548 376 646 q 409 547 390 547 q 535 629 535 547 z "
		},
		"™": {
			"ha": 924,
			"x_min": 26,
			"x_max": 892,
			"o": "m 892 496 l 828 496 q 818 706 828 569 q 806 886 807 857 l 803 886 l 789 842 q 710 637 770 781 q 665 496 665 526 l 619 496 q 576 638 619 528 q 504 842 520 785 q 492 886 496 867 l 488 886 q 474 695 487 840 q 463 496 463 557 l 404 496 q 428 682 404 499 q 452 937 452 865 l 539 937 q 593 747 539 894 q 648 570 648 600 l 651 570 q 712 748 651 600 q 773 937 773 895 l 859 937 q 875 684 859 866 q 892 496 892 502 m 366 937 l 363 890 q 224 893 296 893 q 223 728 223 828 q 227 496 223 617 l 165 496 q 169 728 169 612 q 167 893 169 827 q 26 889 116 893 l 28 937 l 366 937 z "
		},
		"℮": {
			"ha": 1133,
			"x_min": 34,
			"x_max": 1099,
			"o": "m 1099 429 l 256 429 l 256 175 q 576 36 377 36 q 890 176 776 36 l 1026 176 q 566 -20 870 -20 q 190 110 345 -20 q 34 453 34 240 q 190 796 34 667 q 576 925 345 925 q 953 788 807 925 q 1099 429 1099 652 m 885 720 q 568 869 776 869 q 256 720 361 869 l 256 487 l 885 487 l 885 720 z "
		},
		"¤": {
			"ha": 678,
			"x_min": 75,
			"x_max": 603,
			"o": "m 603 525 l 528 453 q 559 333 559 404 q 528 205 559 258 l 592 146 l 523 77 l 465 138 q 326 95 404 95 q 203 128 256 95 l 144 66 l 75 134 l 138 193 q 111 305 111 240 q 152 451 111 393 l 86 513 l 155 583 l 221 512 q 345 545 277 545 q 460 515 409 545 l 534 593 l 603 525 m 477 316 q 439 433 477 380 q 334 486 401 486 q 230 436 268 486 q 192 324 192 387 q 231 207 192 260 q 336 155 269 155 q 440 204 402 155 q 477 316 477 254 z "
		},
		"€": {
			"ha": 616,
			"x_min": 20,
			"x_max": 551,
			"o": "m 551 98 l 544 11 q 387 -15 471 -15 q 185 67 262 -15 q 95 294 107 149 l 20 294 l 33 348 l 93 348 q 98 413 93 381 l 20 413 l 33 467 l 106 467 q 214 665 132 593 q 418 736 296 736 q 546 723 501 736 l 529 629 q 395 648 467 648 q 217 467 248 648 q 509 471 363 467 l 498 413 l 212 413 q 212 348 210 380 l 487 348 l 475 290 q 219 294 349 294 q 280 135 227 197 q 404 74 334 74 q 551 98 477 74 z "
		},
		"$": {
			"ha": 616,
			"x_min": 77,
			"x_max": 540,
			"o": "m 540 211 q 353 18 540 42 q 359 -182 353 -94 l 279 -182 q 283 14 284 -91 q 77 36 174 14 l 98 136 q 286 102 186 102 q 437 179 437 102 q 402 247 437 219 q 296 300 373 270 q 161 370 202 338 q 93 504 93 425 q 140 626 93 573 q 285 689 188 679 q 279 897 285 822 l 359 897 q 353 692 353 820 q 516 672 454 690 l 495 574 q 328 604 421 604 q 198 528 198 604 q 225 468 198 490 q 338 413 252 446 q 471 343 428 378 q 540 211 540 288 m 316 -17 m 319 722 z "
		},
		"¢": {
			"ha": 701,
			"x_min": 90,
			"x_max": 606,
			"o": "m 606 135 l 598 44 q 444 14 539 14 q 450 -178 444 -104 l 376 -178 q 380 18 377 -143 q 164 130 239 38 q 90 344 90 222 q 167 571 90 470 q 381 693 245 671 q 376 901 381 784 l 450 901 q 444 699 444 777 q 577 682 515 699 l 559 575 q 415 599 488 599 q 266 530 320 599 q 212 366 212 461 q 277 186 212 262 q 464 110 342 110 q 606 135 515 110 m 408 -26 m 416 674 z "
		},
		"£": {
			"ha": 616,
			"x_min": 22,
			"x_max": 572,
			"o": "m 572 90 l 559 0 l 42 0 l 42 63 q 111 113 82 82 q 140 208 140 143 q 129 338 140 259 q 22 333 83 338 l 26 404 q 124 401 62 401 q 117 517 117 465 q 178 726 117 652 q 354 799 239 799 q 459 793 403 799 l 446 711 q 368 718 417 718 q 258 680 300 718 q 216 530 216 643 q 226 401 216 475 q 372 405 282 401 l 368 335 q 233 338 313 338 q 239 258 239 295 q 163 81 239 130 l 163 74 q 572 90 308 74 z "
		},
		"ƒ": {
			"ha": 701,
			"x_min": 59,
			"x_max": 614,
			"o": "m 614 891 l 600 800 q 538 806 566 806 q 433 763 458 806 q 410 690 420 742 q 401 630 406 664 q 394 556 397 597 q 569 559 463 556 l 566 496 q 391 498 495 498 q 365 185 378 316 q 335 -25 351 54 q 251 -245 304 -184 q 95 -323 199 -306 l 59 -249 q 180 -158 144 -203 q 238 25 216 -113 q 260 213 249 94 q 283 498 271 331 q 160 496 239 498 l 163 559 q 290 556 205 556 q 300 651 294 608 q 315 729 307 694 q 361 834 334 799 q 543 904 417 904 q 614 891 563 904 z "
		},
		"¥": {
			"ha": 616,
			"x_min": 7,
			"x_max": 609,
			"o": "m 609 724 q 549 624 609 718 q 434 432 473 506 q 571 435 486 433 l 571 383 l 409 383 q 377 310 387 336 l 571 310 l 571 259 q 360 261 450 261 q 365 0 360 117 l 246 0 q 250 261 250 140 q 42 259 172 261 l 42 310 l 235 310 q 205 383 224 341 l 42 383 l 42 435 q 181 433 136 433 q 67 625 140 511 q 7 724 7 719 l 146 724 q 234 561 146 720 q 321 341 321 401 l 326 341 q 404 559 326 402 q 482 724 482 716 l 609 724 z "
		},
		"ª": {
			"ha": 418,
			"x_min": 44,
			"x_max": 355,
			"o": "m 355 527 l 275 524 q 270 555 273 530 l 264 555 q 157 518 218 518 q 72 545 100 518 q 44 617 44 572 q 77 704 44 676 q 145 739 110 731 q 265 750 180 747 l 265 754 q 247 814 265 800 q 178 829 229 829 q 57 810 127 829 l 66 881 q 197 899 129 899 q 306 871 266 899 q 347 773 347 844 q 346 749 347 764 q 345 690 346 733 q 347 590 344 621 q 355 527 349 558 m 265 610 q 264 654 264 635 l 264 694 q 178 684 216 693 q 126 625 126 669 q 183 586 126 586 q 265 610 234 586 z "
		},
		"º": {
			"ha": 418,
			"x_min": 28,
			"x_max": 391,
			"o": "m 391 717 q 337 569 391 625 q 202 513 283 513 q 78 562 129 513 q 28 696 28 610 q 83 848 28 794 q 217 903 138 903 q 340 854 290 903 q 391 717 391 805 m 305 705 q 278 800 305 761 q 209 838 251 838 q 141 800 168 838 q 114 711 114 762 q 141 617 114 656 q 210 578 168 578 q 279 616 253 578 q 305 705 305 655 z "
		},
		"№": {
			"ha": 1401,
			"x_min": 147,
			"x_max": 1274,
			"o": "m 765 0 l 670 0 q 479 325 670 13 q 245 740 277 656 l 238 740 q 251 460 251 576 q 260 0 251 232 l 147 0 q 158 464 158 220 q 147 883 158 703 l 277 883 q 450 574 277 863 q 663 176 633 267 l 670 176 q 659 457 659 342 q 649 883 659 708 l 765 883 q 755 464 755 703 q 765 0 755 220 m 1274 685 q 1214 520 1274 579 q 1072 461 1154 461 q 940 514 995 461 q 886 661 886 566 q 945 827 886 768 q 1087 887 1005 887 q 1219 834 1164 887 q 1274 685 1274 781 m 1185 671 q 1157 769 1185 726 q 1079 812 1128 812 q 1003 772 1030 812 q 975 678 975 732 q 1004 579 975 623 q 1082 536 1032 536 q 1158 577 1131 536 q 1185 671 1185 618 m 1257 283 l 876 283 l 876 370 l 1257 370 l 1257 283 z "
		},
		"#": {
			"ha": 701,
			"x_min": 24,
			"x_max": 677,
			"o": "m 677 621 l 677 534 l 547 534 q 516 454 532 497 q 484 368 499 408 l 606 368 l 606 281 l 450 281 q 351 0 361 42 l 263 0 q 372 281 274 26 l 212 281 q 113 0 123 42 l 25 0 q 134 281 36 27 l 24 281 l 24 368 l 168 368 q 191 425 178 394 q 233 534 213 483 l 94 534 l 94 621 l 265 621 q 349 887 345 836 l 436 887 q 341 621 431 859 l 503 621 q 587 887 583 838 l 674 887 q 579 621 669 861 l 677 621 m 471 534 l 309 534 q 278 453 294 496 q 245 368 260 408 l 406 368 q 429 426 417 395 q 471 534 451 484 z "
		},
		"⁰": {
			"ha": 371,
			"x_min": 21,
			"x_max": 349,
			"o": "m 349 658 q 308 486 349 553 q 181 419 267 419 q 21 642 21 419 q 69 824 21 764 q 189 884 117 884 q 309 824 268 884 q 349 658 349 764 m 260 634 q 241 771 260 717 q 184 826 222 826 q 110 665 110 826 q 129 528 110 577 q 184 479 149 479 q 260 634 260 479 z "
		},
		"¹": {
			"ha": 371,
			"x_min": 33,
			"x_max": 279,
			"o": "m 279 420 l 186 420 q 191 636 191 533 q 188 772 191 707 l 52 703 l 33 749 l 224 876 l 279 876 q 275 636 275 781 q 279 420 275 535 z "
		},
		"²": {
			"ha": 371,
			"x_min": 42,
			"x_max": 325,
			"o": "m 325 490 l 316 420 l 42 420 l 50 481 q 114 534 85 506 q 165 591 143 562 q 205 660 191 625 q 218 730 218 695 q 116 817 218 817 q 47 808 92 817 l 55 873 q 95 881 73 879 q 144 884 117 884 q 264 844 222 884 q 306 746 306 805 q 259 606 306 672 q 141 491 212 541 l 141 485 q 234 486 186 485 q 325 490 283 488 z "
		},
		"³": {
			"ha": 371,
			"x_min": 18,
			"x_max": 325,
			"o": "m 325 566 q 252 436 325 492 q 31 373 178 380 l 18 427 q 182 470 130 438 q 234 554 234 502 q 66 641 234 641 l 76 697 q 183 714 146 697 q 220 762 220 732 q 198 805 220 794 q 130 817 176 817 q 43 806 92 817 l 48 871 q 167 884 92 884 q 270 857 237 884 q 303 787 303 830 q 224 690 303 725 l 224 684 q 325 566 325 663 z "
		},
		"⁴": {
			"ha": 371,
			"x_min": 5,
			"x_max": 351,
			"o": "m 351 626 l 342 556 l 285 556 q 286 482 285 524 q 290 393 288 439 l 200 393 q 203 477 202 437 q 203 556 203 518 l 14 556 l 5 614 q 100 747 5 624 q 189 876 189 865 l 290 876 q 287 778 288 840 q 285 621 285 716 q 314 623 299 622 q 351 626 330 624 m 203 621 q 205 703 205 665 q 207 800 206 741 l 203 800 q 177 749 188 764 q 83 627 166 734 l 83 619 l 134 619 q 203 621 160 619 z "
		},
		"⁵": {
			"ha": 371,
			"x_min": 40,
			"x_max": 330,
			"o": "m 330 571 q 250 430 330 481 q 52 373 170 378 l 40 428 q 195 473 152 442 q 239 555 239 504 q 188 626 239 608 q 43 644 138 644 q 57 786 52 728 q 62 876 62 844 l 300 876 l 297 798 q 216 806 257 803 q 132 809 175 808 q 127 760 129 785 q 125 711 125 735 q 276 677 223 709 q 330 571 330 646 z "
		},
		"⁶": {
			"ha": 371,
			"x_min": 15,
			"x_max": 345,
			"o": "m 345 578 q 300 468 345 515 q 178 420 256 420 q 60 470 106 420 q 15 614 15 519 q 280 905 15 889 l 286 850 q 157 804 194 841 q 109 702 119 768 l 115 702 q 201 724 144 724 q 307 681 269 724 q 345 578 345 638 m 256 569 q 230 640 256 614 q 163 666 204 666 q 104 645 127 666 q 124 516 104 552 q 180 479 144 479 q 235 506 215 479 q 256 569 256 532 z "
		},
		"⁷": {
			"ha": 371,
			"x_min": 34,
			"x_max": 337,
			"o": "m 337 876 q 324 796 337 842 q 288 694 311 749 q 218 556 278 672 q 151 391 159 440 l 60 401 q 102 511 60 435 q 157 607 144 587 q 207 703 168 627 q 248 810 246 778 q 157 807 211 810 q 34 800 102 805 l 37 876 l 337 876 z "
		},
		"⁸": {
			"ha": 371,
			"x_min": 10,
			"x_max": 339,
			"o": "m 339 563 q 292 460 339 500 q 173 420 245 420 q 57 455 103 420 q 10 555 10 490 q 35 628 10 595 q 104 679 60 661 l 104 685 q 37 791 37 728 q 79 874 37 844 q 177 905 120 905 q 274 876 233 905 q 315 799 315 846 q 296 736 315 764 q 244 697 277 710 l 244 690 q 339 563 339 638 m 255 551 q 233 609 255 585 q 163 657 211 633 q 94 564 94 621 q 117 500 94 522 q 176 479 140 479 q 230 499 205 479 q 255 551 255 518 m 233 791 q 215 837 233 823 q 175 852 197 852 q 136 840 153 852 q 119 802 119 827 q 186 718 119 752 q 233 791 233 741 z "
		},
		"⁹": {
			"ha": 371,
			"x_min": 5,
			"x_max": 333,
			"o": "m 333 683 q 60 364 333 380 l 47 419 q 240 603 214 431 l 235 603 q 149 578 204 578 q 40 622 75 578 q 5 725 5 665 q 47 838 5 791 q 168 884 89 884 q 286 832 239 884 q 333 683 333 781 m 243 662 q 222 785 243 747 q 163 823 200 823 q 113 800 133 823 q 93 735 93 778 q 117 664 93 691 q 180 636 142 636 q 243 662 219 636 z "
		},
		"⁺": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 638 l 213 638 l 213 507 l 140 507 l 140 638 l 18 638 l 18 710 l 140 710 l 140 840 l 213 840 l 213 710 l 335 710 l 335 638 z "
		},
		"⁻": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 637 l 18 637 l 18 709 l 335 709 l 335 637 z "
		},
		"⁼": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 711 l 18 711 l 18 784 l 335 784 l 335 711 m 335 564 l 18 564 l 18 636 l 335 636 l 335 564 z "
		},
		"⁽": {
			"ha": 371,
			"x_min": 78,
			"x_max": 315,
			"o": "m 273 243 q 185 303 222 267 q 124 384 148 338 q 89 483 100 429 q 78 600 78 538 q 89 725 78 667 q 124 833 100 784 q 186 922 148 882 q 278 991 224 962 l 309 940 q 197 792 231 878 q 163 600 163 706 q 201 425 163 501 q 315 291 239 349 l 273 243 z "
		},
		"⁾": {
			"ha": 371,
			"x_min": 72,
			"x_max": 309,
			"o": "m 309 635 q 298 508 309 567 q 264 400 288 450 q 202 312 240 351 q 108 243 163 273 l 78 294 q 189 442 155 357 q 224 635 224 528 q 186 809 224 732 q 72 943 148 887 l 114 991 q 204 931 167 967 q 264 851 241 896 q 298 751 288 806 q 309 635 309 697 z "
		},
		"₀": {
			"ha": 371,
			"x_min": 21,
			"x_max": 349,
			"o": "m 349 21 q 308 -151 349 -83 q 181 -218 267 -218 q 21 5 21 -218 q 69 188 21 127 q 189 248 117 248 q 309 188 268 248 q 349 21 349 127 m 260 -3 q 241 135 260 80 q 184 189 222 189 q 110 28 110 189 q 129 -109 110 -60 q 184 -158 149 -158 q 260 -3 260 -158 z "
		},
		"₁": {
			"ha": 371,
			"x_min": 33,
			"x_max": 279,
			"o": "m 279 -216 l 186 -216 q 191 -1 191 -104 q 188 136 191 70 l 52 66 l 33 113 l 224 239 l 279 239 q 275 -1 275 144 q 279 -216 275 -102 z "
		},
		"₂": {
			"ha": 371,
			"x_min": 42,
			"x_max": 325,
			"o": "m 325 -147 l 316 -216 l 42 -216 l 50 -155 q 114 -103 85 -131 q 165 -46 143 -75 q 205 23 191 -12 q 218 93 218 58 q 116 180 218 180 q 47 171 92 180 l 55 237 q 95 244 73 242 q 144 247 117 247 q 264 208 222 247 q 306 109 306 168 q 259 -31 306 35 q 141 -146 212 -96 l 141 -152 q 234 -151 186 -152 q 325 -147 283 -149 z "
		},
		"₃": {
			"ha": 371,
			"x_min": 18,
			"x_max": 325,
			"o": "m 325 -71 q 252 -200 325 -144 q 31 -264 178 -256 l 18 -210 q 182 -167 130 -199 q 234 -83 234 -135 q 66 4 234 4 l 76 60 q 183 78 146 60 q 220 125 220 95 q 198 169 220 157 q 130 180 176 180 q 43 169 92 180 l 48 235 q 167 247 92 247 q 270 220 237 247 q 303 150 303 193 q 224 53 303 88 l 224 47 q 325 -71 325 26 z "
		},
		"₄": {
			"ha": 371,
			"x_min": 5,
			"x_max": 351,
			"o": "m 351 -11 l 342 -81 l 285 -81 q 286 -155 285 -113 q 290 -244 288 -197 l 200 -244 q 203 -159 202 -200 q 203 -81 203 -119 l 14 -81 l 5 -23 q 100 111 5 -13 q 189 239 189 229 l 290 239 q 287 141 288 203 q 285 -16 285 79 q 314 -14 299 -15 q 351 -11 330 -13 m 203 -16 q 205 66 205 28 q 207 163 206 104 l 203 163 q 177 112 188 127 q 83 -10 166 98 l 83 -18 l 134 -18 q 203 -16 160 -18 z "
		},
		"₅": {
			"ha": 371,
			"x_min": 40,
			"x_max": 330,
			"o": "m 330 -66 q 250 -207 330 -156 q 52 -264 170 -258 l 40 -209 q 195 -164 152 -195 q 239 -81 239 -133 q 188 -11 239 -28 q 43 7 138 7 q 57 149 52 92 q 62 239 62 207 l 300 239 l 297 161 q 216 169 257 166 q 132 172 175 172 q 127 123 129 148 q 125 74 125 98 q 276 41 223 73 q 330 -66 330 9 z "
		},
		"₆": {
			"ha": 371,
			"x_min": 15,
			"x_max": 345,
			"o": "m 345 -58 q 300 -169 345 -121 q 178 -217 256 -217 q 60 -167 106 -217 q 15 -23 15 -117 q 280 268 15 252 l 286 214 q 157 168 194 204 q 109 65 119 131 l 115 65 q 201 87 144 87 q 307 44 269 87 q 345 -58 345 1 m 256 -68 q 230 3 256 -22 q 163 29 204 29 q 104 8 127 29 q 124 -121 104 -85 q 180 -157 144 -157 q 235 -131 215 -157 q 256 -68 256 -105 z "
		},
		"₇": {
			"ha": 371,
			"x_min": 34,
			"x_max": 337,
			"o": "m 337 239 q 324 159 337 205 q 288 58 311 113 q 218 -81 278 35 q 151 -245 159 -197 l 60 -235 q 102 -126 60 -202 q 157 -30 144 -50 q 207 66 168 -9 q 248 173 246 141 q 157 171 211 173 q 34 163 102 168 l 37 239 l 337 239 z "
		},
		"₈": {
			"ha": 371,
			"x_min": 10,
			"x_max": 339,
			"o": "m 339 -74 q 292 -177 339 -137 q 173 -216 245 -216 q 57 -182 103 -216 q 10 -82 10 -147 q 35 -9 10 -42 q 104 42 60 24 l 104 48 q 37 154 37 92 q 79 237 37 207 q 177 268 120 268 q 274 239 233 268 q 315 162 315 210 q 296 99 315 127 q 244 60 277 73 l 244 54 q 339 -74 339 1 m 255 -86 q 233 -28 255 -52 q 163 20 211 -3 q 94 -73 94 -16 q 117 -136 94 -115 q 176 -157 140 -157 q 230 -138 205 -157 q 255 -86 255 -119 m 233 154 q 215 200 233 186 q 175 215 197 215 q 136 203 153 215 q 119 165 119 191 q 186 81 119 115 q 233 154 233 104 z "
		},
		"₉": {
			"ha": 371,
			"x_min": 5,
			"x_max": 333,
			"o": "m 333 46 q 60 -273 333 -256 l 47 -218 q 240 -34 214 -206 l 235 -34 q 149 -59 204 -59 q 40 -15 75 -59 q 5 88 5 28 q 47 201 5 155 q 168 247 89 247 q 286 195 239 247 q 333 46 333 144 m 243 25 q 222 148 243 111 q 163 186 200 186 q 113 163 133 186 q 93 98 93 141 q 117 27 93 54 q 180 -1 142 -1 q 243 25 219 -1 z "
		},
		"₊": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 1 l 213 1 l 213 -130 l 140 -130 l 140 1 l 18 1 l 18 73 l 140 73 l 140 203 l 213 203 l 213 73 l 335 73 l 335 1 z "
		},
		"₋": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 1 l 18 1 l 18 72 l 335 72 l 335 1 z "
		},
		"₌": {
			"ha": 371,
			"x_min": 18,
			"x_max": 335,
			"o": "m 335 75 l 18 75 l 18 147 l 335 147 l 335 75 m 335 -73 l 18 -73 l 18 -1 l 335 -1 l 335 -73 z "
		},
		"₍": {
			"ha": 371,
			"x_min": 78,
			"x_max": 315,
			"o": "m 273 -394 q 185 -334 222 -370 q 124 -253 148 -298 q 89 -154 100 -208 q 78 -37 78 -99 q 89 89 78 30 q 124 196 100 147 q 186 285 148 245 q 278 355 224 325 l 309 303 q 197 155 231 241 q 163 -37 163 69 q 201 -212 163 -136 q 315 -346 239 -288 l 273 -394 z "
		},
		"₎": {
			"ha": 371,
			"x_min": 72,
			"x_max": 309,
			"o": "m 309 -2 q 298 -129 309 -70 q 264 -236 288 -187 q 202 -325 240 -286 q 108 -393 163 -364 l 78 -342 q 189 -195 155 -280 q 224 -2 224 -109 q 186 173 224 95 q 72 307 148 250 l 114 355 q 204 295 167 330 q 264 214 241 259 q 298 115 288 169 q 309 -2 309 60 z "
		},
		"⁄": {
			"ha": 203,
			"x_min": -292,
			"x_max": 495,
			"o": "m 495 892 q 151 440 495 847 q -193 -28 -193 33 l -292 -15 q 52 436 -292 33 q 396 905 396 840 l 495 892 z "
		},
		"¼": {
			"ha": 1051,
			"x_min": 66,
			"x_max": 969,
			"o": "m 902 892 q 558 440 902 847 q 214 -28 214 33 l 115 -15 q 459 436 115 33 q 803 905 803 840 l 902 892 m 312 420 l 220 420 q 224 636 224 533 q 221 772 224 707 l 85 703 l 66 749 l 257 876 l 312 876 q 309 636 309 781 q 312 420 309 535 m 969 211 l 960 141 l 903 141 q 904 67 903 109 q 907 -22 905 24 l 818 -22 q 821 62 820 22 q 821 141 821 103 l 631 141 l 623 199 q 718 332 623 209 q 806 461 806 450 l 908 461 q 904 363 906 425 q 903 206 903 301 q 932 208 917 207 q 969 211 947 209 m 821 205 q 823 288 823 250 q 825 385 824 326 l 821 385 q 795 334 806 349 q 701 212 784 319 l 701 204 l 751 204 q 821 205 778 204 z "
		},
		"½": {
			"ha": 1051,
			"x_min": 66,
			"x_max": 945,
			"o": "m 902 892 q 558 440 902 847 q 214 -28 214 33 l 115 -15 q 459 436 115 33 q 803 905 803 840 l 902 892 m 313 420 l 220 420 q 224 636 224 533 q 222 772 224 707 l 85 703 l 66 749 l 258 876 l 313 876 q 309 636 309 781 q 313 420 309 535 m 945 70 l 936 1 l 662 1 l 669 62 q 734 114 705 86 q 785 171 763 142 q 825 240 811 205 q 838 310 838 275 q 736 397 838 397 q 667 388 711 397 l 675 454 q 715 461 692 459 q 764 464 737 464 q 884 425 842 464 q 926 326 926 385 q 879 186 926 252 q 761 71 831 121 l 761 65 q 854 66 806 65 q 945 70 903 68 z "
		},
		"¾": {
			"ha": 1051,
			"x_min": 75,
			"x_max": 968,
			"o": "m 902 892 q 558 440 902 847 q 214 -28 214 33 l 115 -15 q 459 436 115 33 q 803 905 803 840 l 902 892 m 381 566 q 308 436 381 492 q 87 373 235 380 l 75 427 q 238 470 186 438 q 290 554 290 502 q 123 641 290 641 l 132 697 q 240 714 203 697 q 277 762 277 732 q 254 805 277 794 q 186 817 232 817 q 100 806 149 817 l 104 871 q 223 884 149 884 q 326 857 293 884 q 359 787 359 830 q 281 690 359 725 l 281 684 q 381 566 381 663 m 968 212 l 960 142 l 902 142 q 903 67 902 110 q 907 -22 905 25 l 817 -22 q 820 63 819 22 q 821 142 821 104 l 631 142 l 623 199 q 717 333 623 210 q 806 462 806 451 l 907 462 q 904 363 905 425 q 902 207 902 302 q 931 209 916 208 q 968 212 947 210 m 821 206 q 823 289 822 251 q 824 385 823 326 l 821 385 q 794 335 805 349 q 701 212 783 320 l 701 205 l 751 205 q 821 206 777 205 z "
		},
		"%": {
			"ha": 701,
			"x_min": 37,
			"x_max": 664,
			"o": "m 384 724 q 338 609 384 658 q 210 560 292 560 q 82 608 128 560 q 37 723 37 656 q 82 838 37 789 q 210 887 128 887 q 338 839 292 887 q 384 724 384 791 m 664 157 q 618 42 664 90 q 490 -7 572 -7 q 362 41 408 -7 q 317 155 317 89 q 362 271 317 222 q 490 319 408 319 q 618 271 572 319 q 664 157 664 223 m 651 876 q 387 447 651 816 q 122 0 122 78 l 42 7 q 307 443 42 73 q 571 883 571 813 l 651 876 m 586 154 q 561 230 586 197 q 490 262 535 262 q 421 230 446 262 q 395 154 395 197 q 420 80 395 111 q 490 49 445 49 q 561 80 536 49 q 586 154 586 111 m 305 722 q 280 797 305 765 q 210 829 255 829 q 140 797 165 829 q 115 722 115 765 q 140 648 115 679 q 210 616 165 616 q 280 648 256 616 q 305 722 305 679 z "
		},
		"‰": {
			"ha": 1051,
			"x_min": 37,
			"x_max": 1038,
			"o": "m 384 724 q 338 609 384 658 q 210 560 292 560 q 82 608 128 560 q 37 723 37 656 q 82 838 37 789 q 210 887 128 887 q 338 839 292 887 q 384 724 384 791 m 1038 157 q 992 42 1038 90 q 865 -7 947 -7 q 737 41 783 -7 q 691 155 691 89 q 737 271 691 222 q 865 319 783 319 q 992 271 947 319 q 1038 157 1038 223 m 664 157 q 618 42 664 90 q 490 -7 572 -7 q 362 41 408 -7 q 317 155 317 89 q 362 271 317 222 q 490 319 408 319 q 618 271 572 319 q 664 157 664 223 m 651 876 q 387 447 651 816 q 122 0 122 78 l 42 7 q 307 443 42 73 q 571 883 571 813 l 651 876 m 586 154 q 561 230 586 197 q 490 262 535 262 q 421 230 446 262 q 395 154 395 197 q 420 80 395 111 q 490 49 445 49 q 561 80 536 49 q 586 154 586 111 m 960 154 q 935 230 960 197 q 865 262 909 262 q 794 230 820 262 q 769 154 769 197 q 794 80 769 111 q 865 49 819 49 q 935 80 910 49 q 960 154 960 111 m 305 722 q 280 797 305 765 q 210 829 255 829 q 140 797 165 829 q 115 722 115 765 q 140 648 115 679 q 210 616 165 616 q 280 648 256 616 q 305 722 305 679 m 701 0 z "
		},
		"+": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 297 l 394 297 l 394 49 l 307 49 l 307 297 l 73 297 l 73 384 l 307 384 l 307 632 l 394 632 l 394 384 l 628 384 l 628 297 z "
		},
		"−": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 297 l 73 297 l 73 384 l 628 384 l 628 297 z "
		},
		"±": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 439 l 394 439 l 394 225 l 307 225 l 307 439 l 73 439 l 73 526 l 307 526 l 307 741 l 394 741 l 394 526 l 628 526 l 628 439 m 628 35 l 73 35 l 73 121 l 628 121 l 628 35 z "
		},
		"×": {
			"ha": 694,
			"x_min": 113,
			"x_max": 587,
			"o": "m 587 516 l 412 340 l 577 175 l 516 114 l 351 279 l 175 104 l 113 165 l 289 341 l 123 507 l 184 568 l 350 402 l 526 578 l 587 516 z "
		},
		"÷": {
			"ha": 701,
			"x_min": 78,
			"x_max": 623,
			"o": "m 623 298 l 78 298 l 78 385 l 623 385 l 623 298 m 420 123 q 399 68 420 92 q 342 45 378 45 q 294 65 311 45 q 277 114 277 85 q 298 166 277 144 q 356 189 319 189 q 403 170 387 189 q 420 123 420 151 m 425 567 q 405 512 425 536 q 347 489 384 489 q 300 509 317 489 q 283 558 283 530 q 303 611 283 588 q 361 633 324 633 q 409 614 392 633 q 425 567 425 595 z "
		},
		"=": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 437 l 73 437 l 73 524 l 628 524 l 628 437 m 628 157 l 73 157 l 73 243 l 628 243 l 628 157 z "
		},
		"≠": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 157 l 332 157 q 273 -56 273 -18 l 182 -43 q 240 157 182 -14 l 73 157 l 73 243 l 270 243 q 304 339 286 288 q 339 437 323 392 l 73 437 l 73 524 l 369 524 q 427 739 427 698 l 519 725 q 460 524 519 699 l 628 524 l 628 437 l 430 437 q 396 342 414 393 q 361 243 377 290 l 628 243 l 628 157 z "
		},
		"≈": {
			"ha": 701,
			"x_min": 1,
			"x_max": 695,
			"o": "m 695 574 q 467 409 594 409 q 343 437 420 409 q 222 465 266 465 q 67 360 142 465 l 1 394 q 229 576 101 576 q 361 549 275 576 q 490 522 447 522 q 629 608 570 522 l 695 574 m 695 267 q 467 105 594 105 q 343 133 420 105 q 222 161 266 161 q 65 55 142 161 l 1 92 q 229 272 101 272 q 361 244 275 272 q 490 216 447 216 q 629 304 570 216 l 695 267 z "
		},
		"<": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 101 l 572 17 l 73 318 l 73 377 l 572 678 l 628 595 l 188 355 l 188 339 l 628 101 z "
		},
		">": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 318 l 129 17 l 73 101 l 514 340 l 514 356 l 73 595 l 129 678 l 628 377 l 628 318 z "
		},
		"≤": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 594 241 l 545 150 l 106 390 l 106 449 l 545 689 l 594 600 l 222 427 l 222 411 l 594 241 m 628 35 l 73 35 l 73 121 l 628 121 l 628 35 z "
		},
		"≥": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 594 390 l 156 150 l 106 241 l 479 411 l 479 427 l 106 600 l 156 689 l 594 449 l 594 390 m 628 35 l 73 35 l 73 121 l 628 121 l 628 35 z "
		},
		"¬": {
			"ha": 701,
			"x_min": 73,
			"x_max": 628,
			"o": "m 628 101 l 547 101 l 547 434 l 73 434 l 73 538 l 628 538 l 628 101 z "
		},
		"°": {
			"ha": 371,
			"x_min": 1,
			"x_max": 370,
			"o": "m 370 869 q 317 735 370 793 q 170 677 264 677 q 46 728 90 677 q 1 848 1 779 q 54 980 1 924 q 201 1036 106 1036 q 326 987 281 1036 q 370 869 370 937 m 288 863 q 263 928 288 901 q 193 956 238 956 q 111 925 140 956 q 82 852 82 894 q 106 786 82 813 q 175 758 131 758 q 258 790 228 758 q 288 863 288 821 z "
		},
		"ℓ": {
			"ha": 505,
			"x_min": 51,
			"x_max": 454,
			"o": "m 454 818 q 357 529 454 676 q 158 292 260 382 q 155 213 155 241 q 175 116 155 151 q 249 80 195 80 q 329 94 283 80 l 311 5 q 220 -16 269 -16 q 89 45 127 -16 q 51 235 51 106 q 136 792 51 610 q 333 975 220 975 q 423 933 392 975 q 454 818 454 891 m 369 803 q 356 875 369 855 q 322 895 343 895 q 224 771 273 895 q 161 366 176 647 q 301 570 233 444 q 369 803 369 696 z "
		},
		"∞": {
			"ha": 1050,
			"x_min": 52,
			"x_max": 1000,
			"o": "m 1000 334 q 936 161 1000 234 q 755 88 871 88 q 528 237 593 88 l 514 237 q 296 88 415 88 q 116 161 180 88 q 52 332 52 233 q 116 505 52 432 q 296 577 180 577 q 528 444 465 577 l 543 444 q 755 577 643 577 q 936 505 871 577 q 1000 334 1000 433 m 482 311 q 310 484 435 484 q 198 437 239 484 q 157 328 157 390 q 197 224 157 267 q 310 181 237 181 q 482 311 414 181 m 895 330 q 854 437 895 391 q 741 484 813 484 q 570 367 642 484 q 741 181 646 181 q 855 225 814 181 q 895 330 895 269 z "
		},
		"∂": {
			"ha": 766,
			"x_min": 77,
			"x_max": 698,
			"o": "m 698 381 q 615 91 698 208 q 382 -26 532 -26 q 156 67 235 -26 q 77 292 77 160 q 157 533 77 428 q 371 637 236 637 q 549 576 506 637 l 556 576 q 208 884 509 884 l 229 961 q 538 875 435 961 q 698 381 698 741 m 572 355 q 566 492 572 434 q 382 548 494 548 q 251 472 299 548 q 202 297 202 395 q 249 136 202 203 q 382 68 296 68 q 525 155 477 68 q 572 355 572 241 z "
		},
		"∫": {
			"ha": 701,
			"x_min": 77,
			"x_max": 628,
			"o": "m 628 961 l 614 870 q 552 876 580 876 q 438 819 468 876 q 409 556 409 762 l 409 94 q 351 -245 409 -167 q 149 -323 292 -323 q 77 -311 128 -323 l 91 -220 q 153 -226 125 -226 q 266 -169 237 -226 q 296 94 296 -113 l 296 556 q 354 896 296 817 q 556 974 412 974 q 628 961 576 974 z "
		},
		"√": {
			"ha": 701,
			"x_min": 21,
			"x_max": 681,
			"o": "m 681 953 q 522 454 681 876 q 363 0 363 33 l 273 0 q 147 332 273 44 q 21 644 21 619 l 142 644 q 231 411 142 638 q 319 101 319 184 l 328 101 q 411 375 328 155 q 533 717 494 595 q 573 953 573 838 l 681 953 z "
		},
		"∆": {
			"ha": 880,
			"x_min": 50,
			"x_max": 823,
			"o": "m 823 0 l 50 0 q 214 441 50 24 q 377 883 377 859 l 510 883 q 666 448 510 860 q 823 0 823 37 m 663 94 q 531 491 630 226 q 431 798 431 755 l 425 798 q 321 494 425 756 q 184 94 217 231 l 663 94 z "
		},
		"Ω": {
			"ha": 927,
			"x_min": 22,
			"x_max": 905,
			"o": "m 905 97 l 898 0 l 532 0 l 523 90 q 639 169 590 120 q 754 469 754 285 q 666 715 754 627 q 457 804 577 804 q 258 722 342 804 q 174 490 174 639 q 290 184 174 314 q 405 90 338 130 l 397 0 l 29 0 l 22 97 q 271 90 161 90 l 271 97 q 56 463 56 231 q 179 782 56 667 q 472 897 301 897 q 754 791 636 897 q 871 493 871 685 q 643 98 871 254 l 643 91 q 905 97 781 91 z "
		},
		"µ": {
			"ha": 765,
			"x_min": 79,
			"x_max": 671,
			"o": "m 671 -1 l 564 -5 q 549 66 549 50 l 544 66 q 366 0 460 0 q 197 66 254 0 l 191 66 q 220 -309 191 -160 l 92 -322 q 101 184 101 -22 q 79 638 101 469 l 217 643 q 213 410 213 488 q 250 149 213 212 q 384 87 287 87 q 541 142 481 87 q 527 638 541 511 l 657 644 q 650 361 650 498 q 671 -1 650 184 z "
		},
		"∏": {
			"ha": 991,
			"x_min": 108,
			"x_max": 898,
			"o": "m 898 -326 l 773 -326 q 780 313 780 -136 q 777 798 780 648 l 214 798 q 226 325 226 655 q 233 -326 226 -127 l 108 -326 q 116 337 116 -57 q 108 883 116 659 l 898 883 q 889 337 889 667 q 898 -326 889 -62 z "
		},
		"∑": {
			"ha": 991,
			"x_min": 66,
			"x_max": 909,
			"o": "m 909 -193 l 903 -326 l 66 -326 l 66 -245 q 576 294 341 56 l 576 309 q 84 826 118 804 l 84 883 l 872 883 l 868 787 q 323 797 667 795 l 322 787 q 727 349 369 723 l 727 297 q 233 -197 399 14 l 233 -202 q 909 -193 595 -202 z "
		},
		"◊": {
			"ha": 701,
			"x_min": 84,
			"x_max": 616,
			"o": "m 616 425 l 384 -14 l 318 -14 l 84 425 l 84 444 l 319 898 l 381 898 l 616 444 l 616 425 m 513 433 l 343 765 l 336 765 l 189 433 l 355 98 l 359 98 l 513 433 z "
		},
		"‽": {
			"ha": 490,
			"x_min": 41,
			"x_max": 443,
			"o": "m 443 694 q 245 439 443 519 l 234 364 l 188 364 q 153 589 153 517 q 212 705 153 705 q 267 619 267 705 q 254 505 267 581 l 257 500 q 334 673 334 544 q 41 820 334 820 l 58 905 q 443 694 443 905 m 296 100 q 269 29 296 60 q 195 -1 242 -1 q 133 25 155 -1 q 111 88 111 52 q 138 157 111 127 q 213 186 165 186 q 274 161 253 186 q 296 100 296 136 z "
		},
		"℗": {
			"ha": 888,
			"x_min": 37,
			"x_max": 852,
			"o": "m 852 406 q 733 119 852 237 q 445 0 614 0 q 156 119 276 0 q 37 406 37 237 q 156 694 37 574 q 445 814 276 814 q 732 694 613 814 q 852 406 852 574 m 789 407 q 689 651 789 550 q 445 753 588 753 q 200 651 302 753 q 99 407 99 550 q 200 162 99 264 q 445 61 302 61 q 689 162 588 61 q 789 407 789 264 m 616 528 q 561 416 616 458 q 412 374 506 374 q 384 375 393 374 q 389 196 384 301 l 319 196 q 323 428 323 292 q 319 637 323 545 l 367 637 q 412 638 375 637 q 474 640 448 640 q 578 610 539 640 q 616 528 616 581 m 553 509 q 441 589 553 589 q 380 584 412 589 q 383 425 383 535 q 412 425 395 425 q 553 509 553 425 z "
		},
		"̉": {
			"ha": 384,
			"x_min": 88,
			"x_max": 305,
			"o": "m 305 915 q 273 847 305 875 q 183 804 240 819 l 178 764 l 127 758 l 113 846 q 183 873 162 857 q 204 918 204 890 q 175 964 204 945 q 88 983 145 983 l 100 1034 q 252 1005 199 1034 q 305 915 305 976 z "
		},
		"̣": {
			"ha": 382,
			"x_min": 112,
			"x_max": 271,
			"o": "m 271 -151 q 248 -211 271 -185 q 185 -236 226 -236 q 131 -214 151 -236 q 112 -161 112 -192 q 135 -102 112 -127 q 199 -77 158 -77 q 251 -99 232 -77 q 271 -151 271 -121 z "
		},
		"Ơ": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 z "
		},
		"Ư": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 z "
		},
		"ơ": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 z "
		},
		"ư": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 z "
		},
		"Ạ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 507 -151 q 485 -211 507 -185 q 422 -236 463 -236 q 368 -214 387 -236 q 349 -161 349 -192 q 372 -102 349 -127 q 435 -77 395 -77 q 488 -99 469 -77 q 507 -151 507 -121 z "
		},
		"Ả": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 557 1107 q 525 1039 557 1067 q 435 996 492 1011 l 431 956 l 380 951 l 366 1038 q 435 1066 414 1049 q 456 1110 456 1083 q 427 1157 456 1138 q 340 1176 397 1176 l 353 1227 q 504 1198 451 1227 q 557 1107 557 1168 z "
		},
		"Ấ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 625 960 l 548 960 q 428 1067 541 969 q 308 960 315 969 l 231 960 q 295 1052 231 969 q 362 1146 359 1135 l 494 1146 q 561 1052 497 1135 q 625 960 625 969 m 758 1252 q 698 1164 758 1245 q 638 1074 638 1082 l 573 1074 q 612 1164 573 1083 q 651 1252 651 1245 l 758 1252 z "
		},
		"Ầ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 205 1252 q 244 1164 205 1245 q 283 1074 283 1083 l 218 1074 q 158 1164 218 1082 q 98 1252 98 1245 l 205 1252 m 625 960 l 548 960 q 428 1067 541 969 q 308 960 315 969 l 231 960 q 295 1052 231 969 q 362 1146 359 1135 l 494 1146 q 561 1052 497 1135 q 625 960 625 969 z "
		},
		"Ẩ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 625 960 l 548 960 q 428 1067 541 969 q 308 960 315 969 l 231 960 q 295 1052 231 969 q 362 1146 359 1135 l 494 1146 q 561 1052 497 1135 q 625 960 625 969 m 723 1204 q 643 1109 723 1132 l 646 1073 l 595 1065 l 572 1144 q 623 1215 623 1159 q 603 1253 623 1237 q 551 1268 583 1268 l 560 1314 q 723 1204 723 1314 z "
		},
		"Ẫ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 625 960 l 548 960 q 428 1067 541 969 q 308 960 315 969 l 231 960 q 295 1052 231 969 q 362 1146 359 1135 l 494 1146 q 561 1052 497 1135 q 625 960 625 969 m 660 1293 q 507 1184 593 1184 q 429 1196 476 1184 q 352 1208 382 1208 q 248 1148 298 1208 l 210 1173 q 362 1282 277 1282 q 440 1271 393 1282 q 517 1259 488 1259 q 622 1318 571 1259 l 660 1293 z "
		},
		"Ậ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 631 960 l 554 960 q 434 1067 547 969 q 314 960 321 969 l 237 960 q 301 1052 237 969 q 368 1146 365 1135 l 500 1146 q 567 1052 503 1135 q 631 960 631 969 m 507 -151 q 485 -211 507 -185 q 422 -236 463 -236 q 368 -214 387 -236 q 349 -161 349 -192 q 372 -102 349 -127 q 435 -77 395 -77 q 488 -99 469 -77 q 507 -151 507 -121 z "
		},
		"Ắ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 636 1112 q 429 964 572 964 q 220 1112 279 964 l 288 1146 q 427 1048 336 1048 q 568 1146 511 1048 l 636 1112 m 576 1322 q 516 1235 576 1316 q 456 1145 456 1153 l 391 1145 q 430 1235 391 1154 q 469 1322 469 1316 l 576 1322 z "
		},
		"Ằ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 288 1146 q 429 1048 345 1048 q 568 1146 519 1048 l 636 1112 q 427 964 577 964 q 220 1112 284 964 l 288 1146 m 387 1322 q 426 1235 387 1316 q 465 1145 465 1154 l 399 1145 q 340 1235 399 1153 q 280 1322 280 1316 l 387 1322 z "
		},
		"Ẳ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 527 1224 q 507 1172 527 1194 q 447 1139 488 1150 l 450 1103 l 399 1095 l 376 1174 q 427 1230 427 1186 q 407 1260 427 1247 q 355 1272 387 1272 l 364 1316 q 527 1224 527 1316 m 288 1128 q 429 1047 345 1047 q 568 1128 519 1047 l 636 1098 q 427 964 577 964 q 220 1098 284 964 l 288 1128 z "
		},
		"Ẵ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 288 1128 q 429 1047 345 1047 q 568 1128 519 1047 l 636 1098 q 427 964 577 964 q 220 1098 284 964 l 288 1128 m 660 1293 q 507 1184 593 1184 q 429 1196 476 1184 q 352 1208 382 1208 q 248 1148 298 1208 l 210 1173 q 362 1282 277 1282 q 440 1271 393 1282 q 517 1259 488 1259 q 622 1318 571 1259 l 660 1293 z "
		},
		"Ặ": {
			"ha": 856,
			"x_min": 7,
			"x_max": 848,
			"o": "m 848 0 l 705 0 q 620 286 705 45 l 229 286 q 144 0 144 49 l 7 0 q 182 434 7 25 q 357 883 357 842 l 515 883 q 682 440 515 843 q 848 0 848 37 m 589 374 q 429 798 429 772 l 422 798 q 257 374 422 777 l 589 374 m 642 1112 q 434 964 577 964 q 225 1112 284 964 l 293 1146 q 433 1048 342 1048 q 574 1146 517 1048 l 642 1112 m 507 -151 q 485 -211 507 -185 q 422 -236 463 -236 q 368 -214 387 -236 q 349 -161 349 -192 q 372 -102 349 -127 q 435 -77 395 -77 q 488 -99 469 -77 q 507 -151 507 -121 z "
		},
		"Ẹ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 482 -151 q 460 -211 482 -185 q 397 -236 437 -236 q 343 -214 362 -236 q 323 -161 323 -192 q 347 -102 323 -127 q 410 -77 370 -77 q 463 -99 444 -77 q 482 -151 482 -121 z "
		},
		"Ẻ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 508 1107 q 475 1039 508 1067 q 386 996 443 1011 l 381 956 l 330 951 l 316 1038 q 386 1066 365 1049 q 407 1110 407 1083 q 377 1157 407 1138 q 291 1176 348 1176 l 303 1227 q 455 1198 401 1227 q 508 1107 508 1168 z "
		},
		"Ẽ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 647 1112 q 477 987 572 987 q 390 1003 443 987 q 305 1019 338 1019 q 189 962 245 1019 l 146 996 q 316 1122 221 1122 q 403 1105 351 1122 q 488 1089 456 1089 q 605 1146 548 1089 l 647 1112 z "
		},
		"Ế": {
			"ha": 723,
			"x_min": 127,
			"x_max": 715,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 583 960 l 505 960 q 385 1067 498 969 q 265 960 272 969 l 188 960 q 252 1052 188 969 q 319 1146 316 1135 l 451 1146 q 518 1052 454 1135 q 583 960 583 969 m 715 1252 q 655 1164 715 1245 q 595 1074 595 1082 l 530 1074 q 569 1164 530 1083 q 608 1252 608 1245 l 715 1252 z "
		},
		"Ề": {
			"ha": 723,
			"x_min": 56,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 163 1252 q 202 1164 163 1245 q 241 1074 241 1083 l 176 1074 q 116 1164 176 1082 q 56 1252 56 1245 l 163 1252 m 583 960 l 506 960 q 386 1067 499 969 q 266 960 273 969 l 189 960 q 253 1052 189 969 q 320 1146 317 1135 l 452 1146 q 519 1052 455 1135 q 583 960 583 969 z "
		},
		"Ể": {
			"ha": 723,
			"x_min": 127,
			"x_max": 680,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 583 960 l 505 960 q 385 1067 498 969 q 265 960 272 969 l 188 960 q 252 1052 188 969 q 319 1146 316 1135 l 451 1146 q 518 1052 454 1135 q 583 960 583 969 m 680 1204 q 600 1109 680 1132 l 604 1073 l 553 1065 l 529 1144 q 580 1215 580 1159 q 560 1253 580 1237 q 508 1268 541 1268 l 517 1314 q 680 1204 680 1314 z "
		},
		"Ễ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 583 960 l 505 960 q 385 1067 498 969 q 265 960 272 969 l 188 960 q 252 1052 188 969 q 319 1146 316 1135 l 451 1146 q 518 1052 454 1135 q 583 960 583 969 m 617 1293 q 465 1184 550 1184 q 386 1196 433 1184 q 309 1208 339 1208 q 205 1148 256 1208 l 167 1173 q 319 1282 234 1282 q 398 1271 351 1282 q 475 1259 445 1259 q 579 1318 528 1259 l 617 1293 z "
		},
		"Ệ": {
			"ha": 723,
			"x_min": 127,
			"x_max": 678,
			"o": "m 678 102 l 674 0 l 127 0 q 137 464 137 210 q 127 883 137 703 l 640 883 l 635 782 q 239 790 448 790 q 243 506 243 685 q 565 514 424 506 l 565 413 q 243 419 414 419 q 250 92 243 245 q 678 102 475 92 m 600 960 l 523 960 q 403 1067 516 969 q 283 960 290 969 l 205 960 q 270 1052 205 969 q 337 1146 334 1135 l 469 1146 q 536 1052 472 1135 q 600 960 600 969 m 483 -151 q 460 -211 483 -185 q 397 -236 438 -236 q 343 -214 363 -236 q 324 -161 324 -192 q 347 -102 324 -127 q 411 -77 370 -77 q 464 -99 444 -77 q 483 -151 483 -121 z "
		},
		"Ỉ": {
			"ha": 384,
			"x_min": 91,
			"x_max": 308,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 308 1107 q 275 1039 308 1067 q 186 996 243 1011 l 181 956 l 130 951 l 116 1038 q 186 1066 165 1049 q 207 1110 207 1083 q 177 1157 207 1138 q 91 1176 148 1176 l 103 1227 q 255 1198 201 1227 q 308 1107 308 1168 z "
		},
		"Ị": {
			"ha": 384,
			"x_min": 113,
			"x_max": 271,
			"o": "m 256 0 l 127 0 q 138 464 138 220 q 127 883 138 704 l 256 883 q 247 464 247 698 q 256 0 247 218 m 271 -151 q 249 -211 271 -185 q 186 -236 227 -236 q 132 -214 151 -236 q 113 -161 113 -192 q 136 -102 113 -127 q 199 -77 159 -77 q 252 -99 233 -77 q 271 -151 271 -121 z "
		},
		"Ọ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 561 -151 q 538 -211 561 -185 q 475 -236 516 -236 q 421 -214 441 -236 q 402 -161 402 -192 q 425 -102 402 -127 q 489 -77 448 -77 q 542 -99 522 -77 q 561 -151 561 -121 z "
		},
		"Ỏ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 591 1107 q 558 1039 591 1067 q 469 996 526 1011 l 464 956 l 413 951 l 399 1038 q 469 1066 448 1049 q 490 1110 490 1083 q 460 1157 490 1138 q 374 1176 431 1176 l 386 1227 q 537 1198 484 1227 q 591 1107 591 1168 z "
		},
		"Ố": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 679 960 l 602 960 q 481 1067 595 969 q 361 960 368 969 l 284 960 q 348 1052 284 969 q 416 1146 412 1135 l 547 1146 q 615 1052 551 1135 q 679 960 679 969 m 811 1252 q 751 1164 811 1245 q 692 1074 692 1082 l 627 1074 q 665 1164 627 1083 q 705 1252 705 1245 l 811 1252 z "
		},
		"Ồ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 258 1252 q 298 1164 258 1245 q 336 1074 336 1083 l 271 1074 q 212 1164 271 1082 q 152 1252 152 1245 l 258 1252 m 679 960 l 602 960 q 481 1067 595 969 q 361 960 368 969 l 284 960 q 348 1052 284 969 q 416 1146 412 1135 l 547 1146 q 615 1052 551 1135 q 679 960 679 969 z "
		},
		"Ổ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 679 960 l 602 960 q 481 1067 595 969 q 361 960 368 969 l 284 960 q 348 1052 284 969 q 416 1146 412 1135 l 547 1146 q 615 1052 551 1135 q 679 960 679 969 m 777 1204 q 696 1109 777 1132 l 700 1073 l 649 1065 l 625 1144 q 676 1215 676 1159 q 656 1253 676 1237 q 604 1268 637 1268 l 614 1314 q 777 1204 777 1314 z "
		},
		"Ỗ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 679 960 l 602 960 q 481 1067 595 969 q 361 960 368 969 l 284 960 q 348 1052 284 969 q 416 1146 412 1135 l 547 1146 q 615 1052 551 1135 q 679 960 679 969 m 713 1293 q 561 1184 646 1184 q 483 1196 530 1184 q 406 1208 435 1208 q 301 1148 352 1208 l 263 1173 q 416 1282 330 1282 q 494 1271 447 1282 q 571 1259 541 1259 q 675 1318 625 1259 l 713 1293 z "
		},
		"Ộ": {
			"ha": 964,
			"x_min": 67,
			"x_max": 897,
			"o": "m 897 455 q 768 105 897 236 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 214 q 195 771 67 641 q 492 901 323 901 q 775 780 653 901 q 897 455 897 660 m 776 439 q 684 710 776 614 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 280 164 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 685 960 l 608 960 q 488 1067 601 969 q 368 960 374 969 l 290 960 q 354 1052 290 969 q 422 1146 418 1135 l 553 1146 q 621 1052 557 1135 q 685 960 685 969 m 562 -151 q 539 -211 562 -185 q 476 -236 517 -236 q 422 -214 441 -236 q 403 -161 403 -192 q 426 -102 403 -127 q 490 -77 449 -77 q 542 -99 523 -77 q 562 -151 562 -121 z "
		},
		"Ớ": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 715 1146 q 625 1055 715 1138 q 528 960 534 971 l 446 960 q 507 1055 446 971 q 568 1146 568 1139 l 715 1146 z "
		},
		"Ờ": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 543 960 l 461 960 q 364 1055 454 971 q 274 1146 274 1138 l 420 1146 q 481 1055 420 1139 q 543 960 543 971 z "
		},
		"Ở": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 629 1107 q 596 1039 629 1067 q 507 996 564 1011 l 502 956 l 451 951 l 437 1038 q 507 1066 486 1049 q 528 1110 528 1083 q 498 1157 528 1138 q 412 1176 469 1176 l 424 1227 q 575 1198 522 1227 q 629 1107 629 1168 z "
		},
		"Ỡ": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 766 1112 q 597 987 692 987 q 510 1003 562 987 q 425 1019 457 1019 q 308 962 365 1019 l 266 996 q 435 1122 340 1122 q 523 1105 470 1122 q 608 1089 575 1089 q 724 1146 667 1089 l 766 1112 z "
		},
		"Ợ": {
			"ha": 1026,
			"x_min": 67,
			"x_max": 1026,
			"o": "m 1026 854 q 1017 790 1026 821 q 989 730 1008 760 q 942 671 970 700 q 875 612 913 642 q 897 455 897 539 q 768 104 897 235 q 472 -26 640 -26 q 189 94 311 -26 q 67 419 67 215 q 195 770 67 641 q 492 901 323 901 q 774 780 654 901 q 850 675 821 733 q 901 730 883 702 q 919 787 919 758 q 875 818 890 797 q 861 863 861 839 q 884 926 861 901 q 913 946 897 940 q 945 952 929 952 q 976 946 960 952 q 1005 923 993 940 q 1026 854 1026 895 m 776 439 q 684 710 776 615 q 472 806 592 806 q 274 705 361 806 q 187 435 187 604 q 279 163 187 260 q 492 68 372 68 q 689 170 603 68 q 776 439 776 273 m 561 -151 q 538 -211 561 -185 q 475 -236 516 -236 q 421 -214 441 -236 q 402 -161 402 -192 q 425 -102 402 -127 q 489 -77 448 -77 q 542 -99 522 -77 q 561 -151 561 -121 z "
		},
		"Ụ": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 553 -151 q 531 -211 553 -185 q 468 -236 509 -236 q 414 -214 433 -236 q 395 -161 395 -192 q 418 -102 395 -127 q 481 -77 441 -77 q 534 -99 515 -77 q 553 -151 553 -121 z "
		},
		"Ủ": {
			"ha": 948,
			"x_min": 113,
			"x_max": 836,
			"o": "m 836 883 q 831 644 833 755 q 830 436 830 532 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 529 q 113 883 115 755 l 241 883 q 233 478 233 625 q 245 286 233 360 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 583 1107 q 551 1039 583 1067 q 461 996 518 1011 l 456 956 l 406 951 l 391 1038 q 461 1066 440 1049 q 482 1110 482 1083 q 453 1157 482 1138 q 366 1176 423 1176 l 378 1227 q 530 1198 477 1227 q 583 1107 583 1168 z "
		},
		"Ứ": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 692 1146 q 602 1055 692 1138 q 505 960 511 971 l 423 960 q 484 1055 423 971 q 545 1146 545 1139 l 692 1146 z "
		},
		"Ừ": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 537 960 l 456 960 q 359 1055 449 971 q 269 1146 269 1138 l 415 1146 q 476 1055 415 1139 q 537 960 537 971 z "
		},
		"Ử": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 599 1107 q 566 1039 599 1067 q 477 996 534 1011 l 472 956 l 421 951 l 407 1038 q 477 1066 456 1049 q 498 1110 498 1083 q 468 1157 498 1138 q 382 1176 439 1176 l 394 1227 q 546 1198 492 1227 q 599 1107 599 1168 z "
		},
		"Ữ": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 745 1112 q 575 987 670 987 q 488 1003 541 987 q 403 1019 435 1019 q 286 962 343 1019 l 244 996 q 414 1122 319 1122 q 501 1105 448 1122 q 586 1089 553 1089 q 703 1146 646 1089 l 745 1112 z "
		},
		"Ự": {
			"ha": 1072,
			"x_min": 113,
			"x_max": 1072,
			"o": "m 836 883 q 833 757 834 818 q 831 639 831 696 q 884 669 859 651 q 926 708 908 687 q 954 749 944 728 q 964 787 964 770 q 922 816 937 796 q 906 863 906 836 q 929 926 906 901 q 958 946 941 939 q 991 952 975 952 q 1024 945 1008 952 q 1050 923 1040 937 q 1072 854 1072 895 q 1061 787 1072 819 q 1034 727 1051 755 q 995 675 1017 699 q 947 633 972 652 q 878 588 909 603 q 831 568 848 574 q 830 501 830 534 q 830 436 830 468 q 471 -18 830 -18 q 311 8 378 -18 q 201 91 244 35 q 138 230 158 146 q 118 429 118 314 q 117 642 118 530 q 113 883 115 754 l 241 883 q 233 478 233 625 q 236 371 233 418 q 245 286 239 323 q 286 162 256 212 q 360 92 315 113 q 474 71 405 71 q 592 92 547 71 q 666 160 637 113 q 707 283 694 208 q 719 479 719 358 q 716 651 719 551 q 709 883 714 751 l 836 883 m 553 -151 q 531 -211 553 -185 q 468 -236 509 -236 q 414 -214 433 -236 q 395 -161 395 -192 q 418 -102 395 -127 q 481 -77 441 -77 q 534 -99 515 -77 q 553 -151 553 -121 z "
		},
		"Ỵ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 461 -151 q 439 -211 461 -185 q 376 -236 416 -236 q 322 -214 341 -236 q 302 -161 302 -192 q 326 -102 302 -127 q 389 -77 349 -77 q 442 -99 422 -77 q 461 -151 461 -121 z "
		},
		"Ỹ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 625 1112 q 455 987 550 987 q 368 1003 420 987 q 283 1019 315 1019 q 166 962 223 1019 l 124 996 q 294 1122 199 1122 q 381 1105 328 1122 q 466 1089 433 1089 q 583 1146 526 1089 l 625 1112 z "
		},
		"Ỷ": {
			"ha": 764,
			"x_min": 15,
			"x_max": 749,
			"o": "m 749 883 q 666 736 749 858 q 512 503 548 565 q 429 288 429 361 q 438 0 429 148 l 308 0 q 317 289 317 140 q 239 515 317 370 q 93 748 195 595 q 15 883 15 866 l 154 883 q 271 667 154 865 q 388 405 388 469 l 395 405 q 506 663 395 469 q 618 883 618 856 l 749 883 m 491 1107 q 458 1039 491 1067 q 369 996 426 1011 l 364 956 l 313 951 l 299 1038 q 369 1066 348 1049 q 390 1110 390 1083 q 360 1157 390 1138 q 274 1176 331 1176 l 286 1227 q 438 1198 385 1227 q 491 1107 491 1168 z "
		},
		"ạ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 413 -151 q 391 -211 413 -185 q 328 -236 368 -236 q 274 -214 293 -236 q 254 -161 254 -192 q 277 -102 254 -127 q 341 -77 300 -77 q 394 -99 374 -77 q 413 -151 413 -121 z "
		},
		"ả": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 454 915 q 421 847 454 875 q 332 804 389 819 l 327 764 l 276 758 l 262 846 q 332 873 311 857 q 353 918 353 890 q 323 964 353 945 q 237 983 294 983 l 249 1034 q 400 1005 347 1034 q 454 915 454 976 z "
		},
		"ấ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 685,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 685 1075 q 610 977 685 1068 q 536 877 536 886 l 471 877 q 519 977 471 887 q 568 1075 568 1068 l 685 1075 m 524 736 l 454 736 q 327 878 454 745 q 200 736 200 745 l 130 736 q 194 845 130 745 q 261 956 258 945 l 393 956 q 460 845 396 945 q 524 736 524 745 z "
		},
		"ầ": {
			"ha": 682,
			"x_min": -31,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 85 1075 q 134 977 85 1068 q 183 877 183 887 l 118 877 q 43 977 118 886 q -31 1075 -31 1068 l 85 1075 m 524 736 l 454 736 q 327 878 454 745 q 200 736 200 745 l 130 736 q 194 845 130 745 q 261 956 258 945 l 393 956 q 460 845 396 945 q 524 736 524 745 z "
		},
		"ẩ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 626,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 524 736 l 454 736 q 327 878 454 745 q 200 736 200 745 l 130 736 q 194 845 130 745 q 261 956 258 945 l 393 956 q 460 845 396 945 q 524 736 524 745 m 626 1010 q 546 914 626 937 l 549 878 l 498 871 l 475 949 q 526 1021 526 964 q 506 1058 526 1042 q 454 1074 486 1074 l 463 1120 q 626 1010 626 1120 z "
		},
		"ẫ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 524 736 l 454 736 q 327 878 454 745 q 200 736 200 745 l 130 736 q 194 845 130 745 q 261 956 258 945 l 393 956 q 460 845 396 945 q 524 736 524 745 m 559 1137 q 406 1015 492 1015 q 328 1028 375 1015 q 251 1042 281 1042 q 146 975 197 1042 l 109 1003 q 261 1124 176 1124 q 339 1111 292 1124 q 416 1098 387 1098 q 521 1164 470 1098 l 559 1137 z "
		},
		"ậ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 413 -151 q 391 -211 413 -185 q 328 -236 368 -236 q 274 -214 293 -236 q 254 -161 254 -192 q 277 -102 254 -127 q 341 -77 300 -77 q 394 -99 374 -77 q 413 -151 413 -121 m 525 736 l 454 736 q 328 878 454 745 q 201 736 201 745 l 130 736 q 194 845 130 745 q 262 956 258 945 l 393 956 q 461 845 397 945 q 525 736 525 745 z "
		},
		"ắ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 523 1139 q 448 1041 523 1132 q 374 941 374 950 l 309 941 q 357 1041 309 951 q 406 1139 406 1132 l 523 1139 m 556 909 q 349 754 492 754 q 140 909 199 754 l 208 943 q 347 838 256 838 q 488 943 431 838 l 556 909 z "
		},
		"ằ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 290 1139 q 338 1041 290 1132 q 387 941 387 951 l 322 941 q 248 1041 322 950 q 173 1139 173 1132 l 290 1139 m 208 943 q 349 838 264 838 q 488 943 439 838 l 556 909 q 347 754 497 754 q 140 909 204 754 l 208 943 z "
		},
		"ẳ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 556 909 q 349 754 492 754 q 140 909 199 754 l 208 943 q 347 838 256 838 q 488 943 431 838 l 556 909 m 442 1074 q 362 978 442 1001 l 366 942 l 315 935 l 291 1013 q 342 1084 342 1028 q 322 1122 342 1106 q 270 1137 302 1137 l 279 1183 q 442 1074 442 1183 z "
		},
		"ẵ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 549 909 q 342 754 485 754 q 133 909 192 754 l 201 943 q 340 838 250 838 q 481 943 425 838 l 549 909 m 573 1124 q 420 1002 506 1002 q 342 1016 389 1002 q 265 1029 295 1029 q 161 962 212 1029 l 123 990 q 275 1112 190 1112 q 354 1098 307 1112 q 431 1085 401 1085 q 535 1152 484 1085 l 573 1124 z "
		},
		"ặ": {
			"ha": 682,
			"x_min": 60,
			"x_max": 599,
			"o": "m 599 0 l 492 -4 q 484 59 484 29 l 477 59 q 250 -17 394 -17 q 116 29 172 -17 q 60 159 60 75 q 148 327 60 264 q 475 394 236 391 q 477 431 477 410 q 433 543 477 515 q 298 570 389 570 q 89 544 192 570 l 100 637 q 334 667 202 667 q 521 617 455 667 q 587 447 587 567 q 584 331 587 415 q 581 220 581 248 q 599 0 581 96 m 479 132 q 475 317 475 235 q 281 298 348 317 q 170 168 170 264 q 300 76 170 76 q 479 132 412 76 m 413 -151 q 391 -211 413 -185 q 328 -236 368 -236 q 274 -214 293 -236 q 254 -161 254 -192 q 277 -102 254 -127 q 341 -77 300 -77 q 394 -99 374 -77 q 413 -151 413 -121 m 549 909 q 341 754 484 754 q 132 909 191 754 l 200 943 q 340 838 249 838 q 481 943 424 838 l 549 909 z "
		},
		"ẹ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 459 -151 q 437 -211 459 -185 q 374 -236 414 -236 q 320 -214 339 -236 q 300 -161 300 -192 q 323 -102 300 -127 q 387 -77 347 -77 q 440 -99 420 -77 q 459 -151 459 -121 z "
		},
		"ẻ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 490 915 q 457 847 490 875 q 368 804 425 819 l 363 764 l 312 758 l 298 846 q 368 873 347 857 q 389 918 389 890 q 359 964 389 945 q 273 983 330 983 l 285 1034 q 436 1005 383 1034 q 490 915 490 976 z "
		},
		"ẽ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 606 926 q 436 777 531 777 q 349 793 401 777 q 264 809 296 809 q 147 728 204 809 l 105 762 q 275 911 180 911 q 362 895 309 911 q 447 879 414 879 q 564 960 507 879 l 606 926 z "
		},
		"ế": {
			"ha": 713,
			"x_min": 67,
			"x_max": 735,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 735 1075 q 661 977 735 1068 q 586 877 586 886 l 521 877 q 570 977 521 887 q 618 1075 618 1068 l 735 1075 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 z "
		},
		"ề": {
			"ha": 713,
			"x_min": 19,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 136 1075 q 184 977 136 1068 q 233 877 233 887 l 168 877 q 94 977 168 886 q 19 1075 19 1068 l 136 1075 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 z "
		},
		"ể": {
			"ha": 713,
			"x_min": 67,
			"x_max": 676,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 m 676 1010 q 596 914 676 937 l 600 878 l 549 871 l 525 949 q 576 1021 576 964 q 556 1058 576 1042 q 504 1074 536 1074 l 513 1120 q 676 1010 676 1120 z "
		},
		"ễ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 m 609 1137 q 456 1015 542 1015 q 378 1028 425 1015 q 301 1042 331 1042 q 197 975 248 1042 l 159 1003 q 311 1124 226 1124 q 390 1111 342 1124 q 467 1098 437 1098 q 571 1164 520 1098 l 609 1137 z "
		},
		"ệ": {
			"ha": 713,
			"x_min": 67,
			"x_max": 646,
			"o": "m 646 398 q 643 319 646 370 l 177 311 q 254 145 184 212 q 439 79 323 79 q 632 104 542 79 l 621 8 q 429 -18 554 -18 q 160 78 252 -18 q 67 313 67 174 q 152 567 67 460 q 378 674 236 674 q 577 597 509 674 q 646 398 646 519 m 532 397 q 373 587 532 587 q 181 389 210 587 l 532 397 m 574 736 l 504 736 q 377 878 504 745 q 250 736 250 745 l 180 736 q 244 845 180 745 q 311 956 308 945 l 443 956 q 510 845 446 945 q 574 736 574 745 m 459 -151 q 437 -211 459 -185 q 374 -236 414 -236 q 320 -214 339 -236 q 300 -161 300 -192 q 323 -102 300 -127 q 387 -77 347 -77 q 440 -99 420 -77 q 459 -151 459 -121 z "
		},
		"ỉ": {
			"ha": 302,
			"x_min": 48,
			"x_max": 265,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 265 915 q 233 847 265 875 q 143 804 200 819 l 138 764 l 87 758 l 73 846 q 143 873 122 857 q 164 918 164 890 q 135 964 164 945 q 48 983 105 983 l 60 1034 q 212 1005 159 1034 q 265 915 265 976 z "
		},
		"ị": {
			"ha": 302,
			"x_min": 73,
			"x_max": 241,
			"o": "m 212 0 l 90 0 q 99 310 99 136 q 75 639 99 506 l 211 657 q 203 310 203 515 q 212 0 203 147 m 241 848 q 218 788 241 813 q 155 762 196 762 q 101 784 121 762 q 82 838 82 806 q 105 897 82 871 q 169 922 128 922 q 221 900 202 922 q 241 848 241 878 m 231 -151 q 209 -211 231 -185 q 146 -236 186 -236 q 92 -214 111 -236 q 73 -161 73 -192 q 96 -102 73 -127 q 159 -77 119 -77 q 212 -99 193 -77 q 231 -151 231 -121 z "
		},
		"ọ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 467 -151 q 445 -211 467 -185 q 382 -236 422 -236 q 328 -214 347 -236 q 309 -161 309 -192 q 332 -102 309 -127 q 395 -77 355 -77 q 448 -99 429 -77 q 467 -151 467 -121 z "
		},
		"ỏ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 501 915 q 469 847 501 875 q 379 804 436 819 l 374 764 l 323 758 l 309 846 q 379 873 358 857 q 400 918 400 890 q 371 964 400 945 q 284 983 341 983 l 296 1034 q 448 1005 395 1034 q 501 915 501 976 z "
		},
		"ố": {
			"ha": 776,
			"x_min": 67,
			"x_max": 759,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 759 1075 q 684 977 759 1068 q 610 877 610 886 l 545 877 q 593 977 545 887 q 642 1075 642 1068 l 759 1075 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 z "
		},
		"ồ": {
			"ha": 776,
			"x_min": 43,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 159 1075 q 208 977 159 1068 q 257 877 257 887 l 192 877 q 117 977 192 886 q 43 1075 43 1068 l 159 1075 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 z "
		},
		"ổ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 m 700 1010 q 620 914 700 937 l 623 878 l 572 871 l 549 949 q 600 1021 600 964 q 580 1058 600 1042 q 528 1074 560 1074 l 537 1120 q 700 1010 700 1120 z "
		},
		"ỗ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 m 633 1137 q 480 1015 566 1015 q 402 1028 449 1015 q 325 1042 355 1042 q 220 975 271 1042 l 182 1003 q 335 1124 250 1124 q 413 1111 366 1124 q 490 1098 460 1098 q 595 1164 544 1098 l 633 1137 z "
		},
		"ộ": {
			"ha": 776,
			"x_min": 67,
			"x_max": 709,
			"o": "m 709 342 q 609 71 709 168 q 374 -26 509 -26 q 158 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 709 342 709 500 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 433 q 237 141 184 223 q 389 59 290 59 q 539 137 487 59 q 591 318 591 216 m 467 -151 q 445 -211 467 -185 q 382 -236 422 -236 q 328 -214 347 -236 q 309 -161 309 -192 q 332 -102 309 -127 q 395 -77 355 -77 q 448 -99 429 -77 q 467 -151 467 -121 m 598 736 l 528 736 q 401 878 528 745 q 274 736 274 745 l 203 736 q 268 845 203 745 q 335 956 332 945 l 467 956 q 534 845 470 945 q 598 736 598 745 z "
		},
		"ớ": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 m 637 956 q 544 848 637 948 q 450 736 450 747 l 369 736 q 430 848 369 747 q 491 956 491 949 l 637 956 z "
		},
		"ờ": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 m 458 736 l 377 736 q 283 848 377 747 q 190 956 190 948 l 336 956 q 397 848 336 949 q 458 736 458 747 z "
		},
		"ở": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 m 500 915 q 468 847 500 875 q 378 804 435 819 l 374 764 l 323 758 l 309 846 q 378 873 357 857 q 399 918 399 890 q 370 964 399 945 q 283 983 340 983 l 296 1034 q 447 1005 394 1034 q 500 915 500 976 z "
		},
		"ỡ": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 m 671 926 q 502 777 597 777 q 415 793 467 777 q 330 809 362 809 q 213 728 270 809 l 171 762 q 340 911 245 911 q 428 895 375 911 q 513 879 480 879 q 629 960 572 879 l 671 926 z "
		},
		"ợ": {
			"ha": 871,
			"x_min": 67,
			"x_max": 871,
			"o": "m 707 378 q 708 360 708 369 q 709 342 709 351 q 609 71 709 168 q 374 -26 509 -26 q 157 60 248 -26 q 67 302 67 146 q 167 576 67 477 q 402 674 267 674 q 618 587 528 674 q 696 450 675 532 q 746 506 728 477 q 764 563 764 534 q 721 594 735 573 q 706 640 706 615 q 730 703 706 677 q 758 722 742 716 q 790 728 774 728 q 822 722 805 728 q 850 699 838 716 q 871 630 871 671 q 831 500 871 560 q 707 378 790 440 m 591 318 q 538 506 591 424 q 387 589 485 589 q 236 511 289 589 q 184 330 184 432 q 237 141 184 223 q 389 59 290 59 q 539 137 488 59 q 591 318 591 216 m 467 -151 q 445 -211 467 -185 q 382 -236 422 -236 q 328 -214 347 -236 q 309 -161 309 -192 q 332 -102 309 -127 q 395 -77 355 -77 q 448 -99 429 -77 q 467 -151 467 -121 z "
		},
		"ụ": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 451 -151 q 429 -211 451 -185 q 366 -236 406 -236 q 312 -214 331 -236 q 292 -161 292 -192 q 315 -102 292 -127 q 379 -77 338 -77 q 432 -99 412 -77 q 451 -151 451 -121 z "
		},
		"ủ": {
			"ha": 744,
			"x_min": 88,
			"x_max": 661,
			"o": "m 661 1 l 556 -3 q 547 59 547 35 l 540 59 q 321 -17 450 -17 q 150 40 203 -17 q 97 268 97 96 q 98 340 97 292 q 100 406 100 389 q 88 641 100 506 l 214 646 q 206 422 206 515 q 234 143 206 208 q 357 79 261 79 q 536 133 466 79 q 530 641 536 510 l 652 646 q 646 293 646 518 q 661 1 646 149 m 485 915 q 452 847 485 875 q 363 804 420 819 l 358 764 l 307 758 l 293 846 q 363 873 342 857 q 384 918 384 890 q 354 964 384 945 q 268 983 325 983 l 280 1034 q 432 1005 378 1034 q 485 915 485 976 z "
		},
		"ứ": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 m 588 956 q 494 848 588 948 q 401 736 401 747 l 319 736 q 380 848 319 747 q 441 956 441 949 l 588 956 z "
		},
		"ừ": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 m 435 736 l 354 736 q 260 848 354 747 q 167 956 167 948 l 313 956 q 374 848 313 949 q 435 736 435 747 z "
		},
		"ử": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 m 484 915 q 452 847 484 875 q 362 804 419 819 l 357 764 l 307 758 l 292 846 q 362 873 341 857 q 383 918 383 890 q 354 964 383 945 q 267 983 324 983 l 279 1034 q 431 1005 378 1034 q 484 915 484 976 z "
		},
		"ữ": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 m 653 926 q 484 777 578 777 q 396 793 449 777 q 311 809 344 809 q 195 728 252 809 l 153 762 q 322 911 227 911 q 409 895 357 911 q 494 879 462 879 q 611 960 554 879 l 653 926 z "
		},
		"ự": {
			"ha": 885,
			"x_min": 88,
			"x_max": 885,
			"o": "m 661 1 l 556 -3 q 547 59 547 36 l 540 59 q 321 -17 450 -17 q 150 39 204 -17 q 97 268 97 96 q 97 298 97 280 q 98 340 98 317 q 99 381 99 364 q 100 406 100 397 q 97 515 100 456 q 88 641 94 573 l 214 646 q 206 422 206 514 q 233 143 206 208 q 357 79 261 79 q 536 133 466 79 q 535 449 536 323 q 530 641 533 575 l 652 646 q 649 555 650 605 q 647 444 648 505 q 699 469 675 454 q 741 499 723 483 q 768 531 758 515 q 778 562 778 547 q 734 591 749 572 q 720 640 720 611 q 743 701 720 675 q 771 721 755 714 q 805 727 788 727 q 838 720 821 727 q 864 698 854 713 q 879 667 873 684 q 885 627 885 650 q 875 567 885 595 q 848 513 865 538 q 808 467 831 488 q 762 429 786 446 q 693 390 724 403 q 646 371 663 376 l 646 293 q 650 148 646 220 q 661 1 654 75 m 451 -151 q 429 -211 451 -185 q 366 -236 406 -236 q 312 -214 331 -236 q 292 -161 292 -192 q 315 -102 292 -127 q 379 -77 338 -77 q 432 -99 412 -77 q 451 -151 451 -121 z "
		},
		"ỵ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 576 -151 q 553 -211 576 -185 q 490 -236 531 -236 q 436 -214 456 -236 q 417 -161 417 -192 q 440 -102 417 -127 q 504 -77 463 -77 q 556 -99 537 -77 q 576 -151 576 -121 z "
		},
		"ỹ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 583 926 q 413 777 508 777 q 326 793 378 777 q 241 809 273 809 q 124 728 181 809 l 82 762 q 252 911 157 911 q 339 895 286 911 q 424 879 391 879 q 541 960 484 879 l 583 926 z "
		},
		"ỷ": {
			"ha": 646,
			"x_min": 30,
			"x_max": 616,
			"o": "m 616 644 q 513 368 616 601 q 368 -8 396 101 q 281 -233 321 -185 q 87 -300 227 -300 l 82 -205 q 223 -147 167 -205 q 279 -3 279 -90 q 155 355 279 73 q 30 644 30 638 l 170 644 q 256 397 170 626 q 341 116 341 169 l 348 116 q 420 372 348 160 q 492 644 492 583 l 616 644 m 436 915 q 404 847 436 875 q 314 804 371 819 l 309 764 l 258 758 l 244 846 q 314 873 293 857 q 335 918 335 890 q 306 964 335 945 q 219 983 276 983 l 231 1034 q 383 1005 330 1034 q 436 915 436 976 z "
		},
		"₫": {
			"ha": 770,
			"x_min": 67,
			"x_max": 766,
			"o": "m 674 1 l 573 -3 q 568 59 568 26 l 560 59 q 347 -18 489 -18 q 143 73 219 -18 q 67 291 67 164 q 151 541 67 434 q 384 648 235 648 q 548 603 500 648 l 553 603 q 552 743 553 680 l 370 743 l 374 812 l 550 812 q 545 951 548 880 l 673 958 q 664 812 667 890 l 766 812 l 762 743 l 662 743 q 660 507 660 633 q 674 1 660 224 m 565 134 q 553 520 565 345 q 410 566 498 566 q 243 490 298 566 q 188 308 188 415 q 241 142 188 211 q 389 74 294 74 q 565 134 511 74 m 667 -193 l 116 -193 l 116 -106 l 667 -106 l 667 -193 z "
		},
		"○": {
			"ha": 764,
			"x_min": 38,
			"x_max": 726,
			"o": "m 382 623 q 286 603 331 623 q 208 551 241 584 q 156 472 175 517 q 136 376 136 427 q 156 281 136 326 q 208 203 175 236 q 286 150 241 170 q 382 131 331 131 q 478 150 433 131 q 556 203 523 170 q 609 281 589 236 q 628 376 628 326 q 609 472 628 427 q 556 551 589 517 q 478 603 523 584 q 382 623 433 623 m 382 721 q 516 694 453 721 q 625 620 578 667 q 699 510 672 573 q 726 376 726 448 q 699 242 726 305 q 625 133 672 180 q 516 60 578 87 q 382 33 453 33 q 248 60 311 33 q 139 133 185 87 q 65 242 92 180 q 38 376 38 305 q 65 510 38 448 q 139 620 92 573 q 248 694 185 667 q 382 721 311 721 z "
		},
		"Ϟ": {
			"ha": 745,
			"x_min": 47,
			"x_max": 698,
			"o": "m 698 439 q 577 220 637 332 q 460 0 517 109 l 324 0 q 385 102 354 50 q 448 208 416 155 q 509 314 479 262 q 568 416 540 367 l 86 416 l 47 478 q 159 676 104 578 q 270 883 214 774 l 402 883 q 288 695 343 788 q 180 506 233 602 l 659 506 l 698 439 z "
		},
		"ϟ": {
			"ha": 658,
			"x_min": 51,
			"x_max": 607,
			"o": "m 607 227 q 492 -50 547 88 q 385 -326 437 -188 l 269 -303 q 378 -58 325 -178 q 483 186 432 62 l 77 186 l 51 237 q 142 444 98 339 q 233 659 186 549 l 345 639 q 258 458 300 547 q 178 277 217 369 l 580 277 l 607 227 z "
		},
		"Ϡ": {
			"ha": 762,
			"x_min": 14,
			"x_max": 695,
			"o": "m 203 574 l 446 731 q 338 788 399 769 q 205 806 277 806 q 113 797 159 806 q 22 766 66 787 l 14 871 q 63 885 39 879 q 114 894 88 890 q 169 899 140 897 q 230 901 197 901 q 409 872 324 901 q 557 786 493 844 q 658 643 621 729 q 695 443 695 557 q 683 313 695 375 q 650 196 671 252 q 598 92 628 141 q 532 0 568 43 l 398 0 q 475 101 442 50 q 530 205 508 151 q 563 316 552 258 q 574 439 574 374 q 574 458 574 449 q 573 475 574 467 l 352 330 l 307 403 l 557 566 q 507 669 540 624 l 248 499 l 203 574 z "
		},
		"ϡ": {
			"ha": 728,
			"x_min": 7,
			"x_max": 661,
			"o": "m 283 -293 q 394 -122 346 -205 q 476 46 442 -39 q 527 221 509 131 q 547 410 545 311 l 325 264 l 279 338 l 543 508 q 519 629 537 572 l 221 434 l 176 509 l 490 711 q 369 841 447 798 q 192 884 292 884 q 103 875 145 884 q 16 845 61 866 l 7 947 q 55 960 32 954 q 102 968 78 965 q 152 972 125 971 q 210 974 178 974 q 390 941 307 974 q 533 843 473 909 q 627 677 593 777 q 661 443 661 577 q 641 221 661 326 q 585 22 621 116 q 503 -156 550 -72 q 401 -317 455 -240 l 283 -293 z "
		},
		"⓿": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 814 450 q 765 651 814 578 q 620 724 715 724 q 474 651 532 724 q 416 429 416 578 q 610 159 416 159 q 765 241 715 159 q 814 450 814 322 m 707 420 q 614 232 707 232 q 547 292 570 232 q 524 458 524 351 q 614 654 524 654 q 683 587 659 654 q 707 420 707 521 z "
		},
		"❶": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 694 172 q 690 435 690 312 q 694 726 690 610 l 627 726 l 395 572 l 418 515 l 584 600 q 587 435 587 520 q 582 172 587 309 l 694 172 z "
		},
		"❷": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 799 257 q 689 253 748 255 q 576 252 630 252 l 576 259 q 719 399 661 319 q 776 568 776 479 q 726 688 776 640 q 580 736 673 736 q 519 733 547 736 q 471 724 492 730 l 462 644 q 545 654 515 654 q 669 549 669 654 q 653 464 669 507 q 605 380 637 421 q 543 311 578 345 q 465 248 507 277 l 455 173 l 788 173 l 799 257 z "
		},
		"❸": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 815 351 q 693 494 815 467 l 693 500 q 789 618 789 543 q 748 703 789 671 q 623 736 708 736 q 479 721 532 736 l 473 641 q 578 654 532 654 q 661 641 634 654 q 688 589 688 627 q 643 530 688 551 q 513 509 598 509 l 501 441 q 705 336 705 441 q 642 233 705 272 q 443 181 578 195 l 458 115 q 726 193 637 125 q 815 351 815 260 z "
		},
		"❹": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 800 425 q 755 422 773 423 q 719 420 736 420 q 721 610 719 535 q 726 730 723 685 l 602 730 q 494 573 602 716 q 380 411 380 423 l 389 340 l 620 340 q 619 245 620 294 q 616 142 618 195 l 725 142 q 721 250 722 199 q 719 340 719 302 l 789 340 l 800 425 m 620 419 q 535 417 568 417 l 474 417 l 474 427 q 588 575 575 557 q 620 636 602 593 l 625 636 q 623 519 623 565 q 620 419 622 473 z "
		},
		"❺": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 798 359 q 733 488 798 450 q 549 528 669 527 q 552 588 550 558 q 558 648 554 618 q 660 644 610 647 q 758 634 709 641 l 762 730 l 473 730 q 467 620 473 690 q 450 447 461 550 q 626 426 565 447 q 688 340 688 404 q 635 240 688 277 q 446 185 582 202 l 461 118 q 701 187 604 125 q 798 359 798 249 z "
		},
		"❻": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 808 340 q 763 466 808 413 q 634 518 717 518 q 529 491 566 518 l 523 491 q 580 615 535 570 q 738 671 625 660 l 730 737 q 408 384 408 718 q 464 209 408 269 q 607 148 519 148 q 755 206 701 148 q 808 340 808 264 m 701 329 q 676 252 701 284 q 608 220 651 220 q 541 264 566 220 q 516 421 517 309 q 589 447 545 447 q 669 416 638 447 q 701 329 701 385 z "
		},
		"❼": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 439 730 l 436 637 q 585 646 519 643 q 696 649 651 649 q 646 519 694 610 q 585 402 599 427 q 519 286 570 378 q 467 153 467 193 l 578 140 q 660 341 587 200 q 744 509 732 481 q 789 632 773 576 q 804 730 804 688 l 439 730 z "
		},
		"❽": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 815 320 q 700 475 815 412 l 700 484 q 763 530 741 499 q 787 607 787 564 q 737 700 787 665 q 618 736 687 736 q 499 699 549 736 q 449 597 449 661 q 530 469 449 522 l 530 461 q 446 399 476 440 q 416 311 416 359 q 472 189 416 231 q 614 147 529 147 q 758 195 701 147 q 815 320 815 243 m 713 306 q 683 242 713 266 q 617 219 653 219 q 546 244 574 219 q 517 321 517 270 q 602 435 517 391 q 687 376 660 406 q 713 306 713 347 m 687 597 q 630 508 687 536 q 549 610 549 550 q 569 656 549 642 q 616 671 590 671 q 665 654 644 671 q 687 597 687 636 z "
		},
		"❾": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 821 492 q 764 673 821 610 q 621 736 707 736 q 473 680 524 736 q 422 543 422 624 q 465 417 422 471 q 597 364 507 364 q 701 395 665 364 l 708 395 q 473 172 677 186 l 489 104 q 821 492 821 125 m 712 467 q 635 435 682 435 q 559 469 589 435 q 529 555 529 502 q 553 635 529 608 q 614 662 578 662 q 686 616 659 662 q 712 467 712 570 z "
		},
		"❿": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 965 450 q 916 651 965 578 q 770 724 866 724 q 625 651 683 724 q 566 429 566 578 q 760 159 566 159 q 915 241 865 159 q 965 450 965 322 m 857 420 q 764 232 857 232 q 697 292 721 232 q 674 458 674 351 q 764 654 674 654 q 833 587 810 654 q 857 420 857 521 z "
		},
		"⓫": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 323 556 l 410 600 q 413 427 413 513 q 408 165 413 302 l 517 165 q 513 427 513 304 q 517 719 513 602 l 454 719 l 296 614 l 323 556 m 659 556 l 746 600 q 749 427 749 513 q 744 165 749 302 l 852 165 q 848 427 848 304 q 852 719 848 602 l 789 719 l 632 614 l 659 556 z "
		},
		"⓬": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 935 249 q 825 245 884 247 q 711 243 766 243 l 711 251 q 854 391 797 311 q 911 560 911 471 q 861 680 911 632 q 715 728 809 728 q 655 725 682 728 q 606 715 628 722 l 597 635 q 681 646 651 646 q 805 541 805 646 q 789 456 805 498 q 741 372 772 413 q 678 302 713 336 q 600 239 643 269 l 591 165 l 924 165 l 935 249 z "
		},
		"⓭": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 951 342 q 829 486 951 459 l 829 492 q 924 610 924 535 q 884 695 924 663 q 759 728 844 728 q 614 713 668 728 l 609 633 q 714 646 668 646 q 797 633 770 646 q 824 581 824 619 q 779 522 824 543 q 648 501 734 501 l 637 433 q 840 328 840 433 q 777 225 840 264 q 578 173 714 186 l 593 107 q 862 184 773 117 q 951 342 951 252 z "
		},
		"⓮": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 956 414 q 911 411 929 412 q 875 409 892 410 q 877 599 875 524 q 882 719 879 674 l 758 719 q 650 562 758 705 q 536 400 536 412 l 545 330 l 776 330 q 775 234 776 283 q 772 131 774 184 l 881 131 q 877 239 878 188 q 875 330 875 291 l 945 330 l 956 414 m 776 408 q 691 406 724 406 l 630 406 l 630 416 q 744 564 731 547 q 776 625 758 582 l 781 625 q 779 508 779 554 q 776 408 778 463 z "
		},
		"⓯": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 933 348 q 869 477 933 439 q 685 517 804 516 q 688 577 686 547 q 694 637 690 608 q 795 633 745 636 q 894 623 845 630 l 897 719 l 609 719 q 603 609 609 679 q 585 436 597 539 q 762 415 701 436 q 823 329 823 393 q 770 229 823 267 q 582 174 718 191 l 597 107 q 837 176 740 114 q 933 348 933 238 z "
		},
		"⓰": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 944 352 q 898 477 944 425 q 770 530 852 530 q 665 503 701 530 l 659 503 q 716 627 671 582 q 873 683 761 671 l 866 749 q 544 395 544 730 q 599 220 544 281 q 743 159 654 159 q 890 217 837 159 q 944 352 944 275 m 836 340 q 811 264 836 296 q 744 232 787 232 q 677 276 701 232 q 652 433 652 320 q 724 458 680 458 q 805 427 774 458 q 836 340 836 396 z "
		},
		"⓱": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 575 719 l 572 627 q 721 635 654 632 q 832 638 787 638 q 782 508 829 600 q 721 391 734 416 q 654 275 706 367 q 603 142 603 182 l 713 130 q 795 330 723 189 q 880 498 868 471 q 924 621 909 565 q 940 719 940 677 l 575 719 z "
		},
		"⓲": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 951 331 q 836 486 951 422 l 836 494 q 899 541 876 510 q 922 618 922 575 q 872 711 922 675 q 754 747 823 747 q 635 709 685 747 q 585 608 585 672 q 666 479 585 532 l 666 472 q 582 410 612 451 q 551 321 551 370 q 608 200 551 242 q 749 158 665 158 q 894 206 837 158 q 951 331 951 254 m 849 317 q 819 253 849 277 q 753 230 789 230 q 682 255 710 230 q 653 332 653 281 q 737 446 653 402 q 822 387 795 417 q 849 317 849 357 m 823 608 q 766 519 823 547 q 684 621 684 561 q 705 667 684 652 q 751 682 726 682 q 801 665 779 682 q 823 608 823 647 z "
		},
		"⓳": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 286 556 l 373 600 q 376 427 376 513 q 371 165 376 302 l 479 165 q 475 427 475 304 q 479 719 475 602 l 416 719 l 259 614 l 286 556 m 957 484 q 900 665 957 602 q 756 728 842 728 q 609 672 660 728 q 558 535 558 616 q 601 409 558 463 q 733 356 643 356 q 837 387 800 356 l 844 387 q 609 163 812 178 l 625 96 q 957 484 957 117 m 848 458 q 770 427 818 427 q 694 460 724 427 q 665 547 665 494 q 689 627 665 600 q 750 654 713 654 q 821 608 795 654 q 848 458 848 562 z "
		},
		"⓴": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 589 249 q 490 245 543 247 q 387 243 436 243 l 387 251 q 516 391 465 311 q 568 560 568 471 q 523 680 568 632 q 391 728 476 728 q 336 725 361 728 q 292 715 312 722 l 284 635 q 359 646 332 646 q 472 541 472 646 q 457 456 472 498 q 414 372 442 413 q 357 302 389 336 q 286 239 325 269 l 278 165 l 580 165 l 589 249 m 995 450 q 950 651 995 578 q 819 724 906 724 q 687 651 740 724 q 634 429 634 578 q 810 159 634 159 q 950 241 905 159 q 995 450 995 322 m 897 420 q 814 232 897 232 q 753 292 774 232 q 732 458 732 351 q 814 654 732 654 q 876 587 855 654 q 897 420 897 521 z "
		},
		"⓪": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 814 450 q 765 241 814 322 q 610 159 715 159 q 416 429 416 159 q 474 651 416 578 q 620 724 532 724 q 765 651 715 724 q 814 450 814 578 m 707 420 q 683 587 707 521 q 614 654 659 654 q 524 458 524 654 q 547 292 524 351 q 614 232 570 232 q 707 420 707 232 z "
		},
		"①": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 694 172 l 582 172 q 587 435 587 309 q 584 600 587 520 l 418 515 l 395 572 l 627 726 l 694 726 q 690 435 690 610 q 694 172 690 312 z "
		},
		"②": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 799 257 l 788 173 l 455 173 l 465 248 q 543 311 507 277 q 605 380 578 345 q 653 464 637 421 q 669 549 669 507 q 545 654 669 654 q 462 644 515 654 l 471 724 q 519 733 492 730 q 580 736 547 736 q 726 688 673 736 q 776 568 776 640 q 719 399 776 479 q 576 259 661 319 l 576 252 q 689 253 630 252 q 799 257 748 255 z "
		},
		"③": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 815 351 q 726 193 815 260 q 458 115 637 125 l 443 181 q 642 233 578 195 q 705 336 705 272 q 501 441 705 441 l 513 509 q 643 530 598 509 q 688 589 688 551 q 661 641 688 627 q 578 654 634 654 q 473 641 532 654 l 479 721 q 623 736 532 736 q 748 703 708 736 q 789 618 789 671 q 693 500 789 543 l 693 494 q 815 351 815 467 z "
		},
		"④": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 800 425 l 789 340 l 719 340 q 721 250 719 302 q 725 142 722 199 l 616 142 q 619 245 618 195 q 620 340 620 294 l 389 340 l 380 411 q 494 573 380 423 q 602 730 602 716 l 726 730 q 721 610 723 685 q 719 420 719 535 q 755 422 736 420 q 800 425 773 423 m 620 419 q 623 519 622 473 q 625 636 623 565 l 620 636 q 588 575 602 593 q 474 427 575 557 l 474 417 l 535 417 q 620 419 568 417 z "
		},
		"⑤": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 798 359 q 701 187 798 249 q 461 118 604 125 l 446 185 q 635 240 582 202 q 688 340 688 277 q 626 426 688 404 q 450 447 565 447 q 467 620 461 550 q 473 730 473 690 l 762 730 l 758 634 q 660 644 709 641 q 558 648 610 647 q 552 588 554 618 q 549 528 550 558 q 733 488 669 527 q 798 359 798 450 z "
		},
		"⑥": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 808 340 q 755 206 808 264 q 607 148 701 148 q 464 209 519 148 q 408 384 408 269 q 730 737 408 718 l 738 671 q 580 615 625 660 q 523 491 535 570 l 529 491 q 634 518 566 518 q 763 466 717 518 q 808 340 808 413 m 701 329 q 669 416 701 385 q 589 447 638 447 q 516 421 545 447 q 541 264 517 309 q 608 220 566 220 q 676 252 651 220 q 701 329 701 284 z "
		},
		"⑦": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 804 730 q 789 632 804 688 q 744 509 773 576 q 660 341 732 481 q 578 140 587 200 l 467 153 q 519 286 467 193 q 585 402 570 378 q 646 519 599 427 q 696 649 694 610 q 585 646 651 649 q 436 637 519 643 l 439 730 l 804 730 z "
		},
		"⑧": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 815 320 q 758 195 815 243 q 614 147 701 147 q 472 189 529 147 q 416 311 416 231 q 446 399 416 359 q 530 461 476 440 l 530 469 q 449 597 449 522 q 499 699 449 661 q 618 736 549 736 q 737 700 687 736 q 787 607 787 665 q 763 530 787 564 q 700 484 741 499 l 700 475 q 815 320 815 412 m 713 306 q 687 376 713 347 q 602 435 660 406 q 517 321 517 391 q 546 244 517 270 q 617 219 574 219 q 683 242 653 219 q 713 306 713 266 m 687 597 q 665 654 687 636 q 616 671 644 671 q 569 656 590 671 q 549 610 549 642 q 630 508 549 550 q 687 597 687 536 z "
		},
		"⑨": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 821 492 q 489 104 821 125 l 473 172 q 708 395 677 186 l 701 395 q 597 364 665 364 q 465 417 507 364 q 422 543 422 471 q 473 680 422 624 q 621 736 524 736 q 764 673 707 736 q 821 492 821 610 m 712 467 q 686 616 712 570 q 614 662 659 662 q 553 635 578 662 q 529 555 529 608 q 559 469 529 502 q 635 435 589 435 q 712 467 682 435 z "
		},
		"⑩": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 965 450 q 915 241 965 322 q 760 159 865 159 q 566 429 566 159 q 625 651 566 578 q 770 724 683 724 q 916 651 866 724 q 965 450 965 578 m 857 420 q 833 587 857 521 q 764 654 810 654 q 674 458 674 654 q 697 292 674 351 q 764 232 721 232 q 857 420 857 232 z "
		},
		"⑪": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 296 614 l 454 719 l 517 719 q 513 427 513 602 q 517 165 513 304 l 408 165 q 413 427 413 302 q 410 600 413 513 l 323 556 l 296 614 m 632 614 l 789 719 l 852 719 q 848 427 848 602 q 852 165 848 304 l 744 165 q 749 427 749 302 q 746 600 749 513 l 659 556 l 632 614 z "
		},
		"⑫": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 935 249 l 924 165 l 591 165 l 600 239 q 678 302 643 269 q 741 372 713 336 q 789 456 772 413 q 805 541 805 498 q 681 646 805 646 q 597 635 651 646 l 606 715 q 655 725 628 722 q 715 728 682 728 q 861 680 809 728 q 911 560 911 632 q 854 391 911 471 q 711 251 797 311 l 711 243 q 825 245 766 243 q 935 249 884 247 z "
		},
		"⑬": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 951 342 q 862 184 951 252 q 593 107 773 117 l 578 173 q 777 225 714 186 q 840 328 840 264 q 637 433 840 433 l 648 501 q 779 522 734 501 q 824 581 824 543 q 797 633 824 619 q 714 646 770 646 q 609 633 668 646 l 614 713 q 759 728 668 728 q 884 695 844 728 q 924 610 924 663 q 829 492 924 535 l 829 486 q 951 342 951 459 z "
		},
		"⑭": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 956 414 l 945 330 l 875 330 q 877 239 875 291 q 881 131 878 188 l 772 131 q 775 234 774 184 q 776 330 776 283 l 545 330 l 536 400 q 650 562 536 412 q 758 719 758 705 l 882 719 q 877 599 879 674 q 875 409 875 524 q 911 411 892 410 q 956 414 929 412 m 776 408 q 779 508 778 463 q 781 625 779 554 l 776 625 q 744 564 758 582 q 630 416 731 547 l 630 406 l 691 406 q 776 408 724 406 z "
		},
		"⑮": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 933 348 q 837 176 933 238 q 597 107 740 114 l 582 174 q 770 229 718 191 q 823 329 823 267 q 762 415 823 393 q 585 436 701 436 q 603 609 597 539 q 609 719 609 679 l 897 719 l 894 623 q 795 633 845 630 q 694 637 745 636 q 688 577 690 608 q 685 517 686 547 q 869 477 804 516 q 933 348 933 439 z "
		},
		"⑯": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 944 352 q 890 217 944 275 q 743 159 837 159 q 599 220 654 159 q 544 395 544 281 q 866 749 544 730 l 873 683 q 716 627 761 671 q 659 503 671 582 l 665 503 q 770 530 701 530 q 898 477 852 530 q 944 352 944 425 m 836 340 q 805 427 836 396 q 724 458 774 458 q 652 433 680 458 q 677 276 652 320 q 744 232 701 232 q 811 264 787 232 q 836 340 836 296 z "
		},
		"⑰": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 940 719 q 924 621 940 677 q 880 498 909 565 q 795 330 868 471 q 713 130 723 189 l 603 142 q 654 275 603 182 q 721 391 706 367 q 782 508 734 416 q 832 638 829 600 q 721 635 787 638 q 572 627 654 632 l 575 719 l 940 719 z "
		},
		"⑱": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 951 331 q 894 206 951 254 q 749 158 837 158 q 608 200 665 158 q 551 321 551 242 q 582 410 551 370 q 666 472 612 451 l 666 479 q 585 608 585 532 q 635 709 585 672 q 754 747 685 747 q 872 711 823 747 q 922 618 922 675 q 899 541 922 575 q 836 494 876 510 l 836 486 q 951 331 951 422 m 849 317 q 822 387 849 357 q 737 446 795 417 q 653 332 653 402 q 682 255 653 281 q 753 230 710 230 q 819 253 789 230 q 849 317 849 277 m 823 608 q 801 665 823 647 q 751 682 779 682 q 705 667 726 682 q 684 621 684 652 q 766 519 684 561 q 823 608 823 547 z "
		},
		"⑲": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 259 614 l 416 719 l 479 719 q 475 427 475 602 q 479 165 475 304 l 371 165 q 376 427 376 302 q 373 600 376 513 l 286 556 l 259 614 m 957 484 q 625 96 957 117 l 609 163 q 844 387 812 178 l 837 387 q 733 356 800 356 q 601 409 643 356 q 558 535 558 463 q 609 672 558 616 q 756 728 660 728 q 900 665 842 728 q 957 484 957 602 m 848 458 q 821 608 848 562 q 750 654 795 654 q 689 627 713 654 q 665 547 665 600 q 694 460 665 494 q 770 427 724 427 q 848 458 818 427 z "
		},
		"⑳": {
			"ha": 1230,
			"x_min": 67,
			"x_max": 1163,
			"o": "m 67 441 q 86 591 67 520 q 141 723 106 663 q 226 833 176 784 q 336 918 275 883 q 468 971 397 952 q 615 989 538 989 q 762 971 692 989 q 894 918 833 952 q 1004 833 955 883 q 1089 723 1054 784 q 1144 591 1124 663 q 1163 441 1163 520 q 1144 292 1163 363 q 1089 160 1124 220 q 1004 50 1054 99 q 894 -35 955 0 q 762 -88 833 -69 q 615 -106 692 -106 q 468 -88 538 -106 q 336 -35 397 -69 q 226 50 275 0 q 141 160 176 99 q 86 292 106 220 q 67 441 67 363 m 138 441 q 155 310 138 372 q 202 193 172 247 q 275 96 232 140 q 371 22 318 53 q 486 -25 425 -8 q 615 -41 547 -41 q 744 -25 683 -41 q 859 22 806 -8 q 955 96 912 53 q 1028 193 998 140 q 1075 310 1059 247 q 1092 441 1092 372 q 1075 573 1092 511 q 1028 690 1059 636 q 955 787 998 743 q 859 861 912 830 q 744 908 806 891 q 615 924 683 924 q 486 908 547 924 q 371 861 425 891 q 275 787 318 830 q 202 690 232 743 q 155 573 172 636 q 138 441 138 511 m 589 249 l 580 165 l 278 165 l 286 239 q 357 302 325 269 q 414 372 389 336 q 457 456 442 413 q 472 541 472 498 q 359 646 472 646 q 284 635 332 646 l 292 715 q 336 725 312 722 q 391 728 361 728 q 523 680 476 728 q 568 560 568 632 q 516 391 568 471 q 387 251 465 311 l 387 243 q 490 245 436 243 q 589 249 543 247 m 995 450 q 950 241 995 322 q 810 159 905 159 q 634 429 634 159 q 687 651 634 578 q 819 724 740 724 q 950 651 906 724 q 995 450 995 578 m 897 420 q 876 587 897 521 q 814 654 855 654 q 732 458 732 654 q 753 292 732 351 q 814 232 774 232 q 897 420 897 232 z "
		}
	},
	"familyName": "Candara",
	"ascender": 1006,
	"descender": -382,
	"underlinePosition": -133,
	"underlineThickness": 20,
	"boundingBox": {
		"yMin": -581,
		"xMin": -959,
		"yMax": 1950,
		"xMax": 2284
	},
	"resolution": 1000,
	"original_font_information": {
		"format": 0,
		"copyright": "© 2008 Microsoft Corporation. All Rights Reserved.",
		"fontFamily": "Candara",
		"fontSubfamily": "Regular",
		"uniqueID": "Microsoft: Candara: 2005",
		"fullName": "Candara",
		"version": "Version 5.61",
		"postScriptName": "Candara",
		"trademark": "Candara is either a registered trademark or a trademark of Microsoft Corporation in the United States and/or other countries.",
		"manufacturer": "Microsoft Corporation",
		"designer": "Gary Munch",
		"description": "Candara is a casual humanist sans with verticals showing a graceful entasis on stems, high-branching arcades in the lowercase, large apertures in all open forms, and unique ogee curves on diagonals. The resultant texture is lively but not intrusive, and makes for a  friendly and readable text.\r\n",
		"manufacturerURL": "http://www.microsoft.com/typography/ctfonts",
		"designerURL": "http://www.munchfonts.com",
		"licence": "You may use this font as permitted by the EULA for the product in which this font is included to display and print content. You may only (i) embed this font in content as permitted by the embedding restrictions included in this font; and (ii) temporarily download this font to a printer or other output device to help print content.",
		"licenceURL": "http://www.microsoft.com/typography/fonts/default.aspx"
	},
	"cssFontWeight": "normal",
	"cssFontStyle": "normal"
}
//	MEIRO
//	Primitives - a collection of primitives - objects to be used in the models
//
//	http://stackoverflow.com/questions/31923047/creating-custom-object3d-class
//
//
//	MEIRO - Functions
//	 ├─ RandomColor()
//	 └─ RandomMilkyColor()
//
//	MEIRO - Classes
//	 ├─ Point()
//	 ├─ Cube(size)
//	 ├─ Cylinder(size,height)
//	 ├─ Line & DottedLine(from,to)
//	 │   ├─ setFromTo(from,to)
//	 │   ├─ setTo(to)
//	 │   ├─ setFrom(from)
//	 │   ├─ getFrom()
//	 │   └─ getTo()
//	 ├─ Polygon(n)
//	 │   ├─ getPoint(index)
//	 │   └─ setPoint(index,point)
//	 ├─ Pie(size,height)
//	 │   └─ setRange(alpha,beta)
//	 ├─ CirclePie(size)
//	 │   └─ setRange(alpha,beta)
//	 ├─ Text(string)
//	 ├─ Label(string,size,x,y,z)
//	 │   └─ rotateLabel()
//	 ├─ Axes2D(rangeX,rangeY,drawLabels,drawArrows,drawAxes)
//	 │   └─ rotateLabels()
//	 ├─ Axes3D(rangeX,rangeY,rangeZ,drawLabels)
//	 │   ├─ setColor(color)
//	 │   ├─ setLabels(labelX,labelY,labelZ)
//	 │   └─ rotateLabels()
//	 ├─ AxesPolar(radius)
//	 │   └─ rotateLabels()
//	 ├─ AxesSpherical(radius)
//	 │   └─ rotateLabels()
//	 ├─ PaperPlane(color)
//	 ├─ Pawn(color)
//	 │   └─ split(k)	k=[0..1]
//	 ├─ Turtle(size)
//	 │   ├─ fd(length)
//	 │   ├─ bk(length)
//	 │   ├─ sl(length)
//	 │   ├─ sr(length)
//	 │   ├─ su(length)
//	 │   ├─ sd(length)
//	 │   ├─ lt(angle)
//	 │   ├─ rt(angle)
//	 │   ├─ lr(angle)
//	 │   ├─ rr(angle)
//	 │   ├─ upp(angle)
//	 │   ├─ dn(angle)
//	 │   ├─ getPosition()
//	 │   └─ setPosition(pos)
//	 ├─ Screen(width,height)
//	 ├─ Vector(direction,length,color,width)
//	 │   ├─ setDirection(direction)
//	 │   └─ setLength(length)
//	 ├─ Graph(vertices,edges)
//	 ├─ Basis()
//	 │   ├─ reset()
//	 │   ├─ clone()
//	 │   ├─ copy()
//	 │   ├─ translateX(dX)
//	 │   ├─ translateY(dY)
//	 │   ├─ translateZ(dZ)
//	 │   ├─ translate(dX,dY,dZ)
//	 │   ├─ rotateX(angle)
//	 │   ├─ rotateY(angle)
//	 │   ├─ rotateZ(angle)
//	 │   ├─ random(rangeX,rangeY,rangeZ)
//	 │   ├─ lerp(otherBasis,k)
//	 │   ├─ lerpBases(firstBasis,otherBasis,k)
//	 │   ├─ setFromObject(object)
//	 │   ├─ apply(object)
//	 │   ├─ applyScaled(object,scale)
//	 │   └─ position(x,y,z)
//	 └─ Bezier3D = function(n,precision)
//	     ├─ setControlPoint(i,j,x,y,z)
//	     └─ recalculate()
//
// 2017.05 - P. Boytchev

MEIRO.initPrimitives = function()
{
	if (options.textures)
	{
		MEIRO.TEXTURE = {
			CUBE: MEIRO.proceduralCubeTexture(MEIRO.TEXTURE_SIZE),
		};
	}
	
	MEIRO.ARROW_LENGTH = 0.35;
	MEIRO.PRIMITIVE = { };
	MEIRO.PRIMITIVE.FONT = new THREE.Font(MEIRO.FONT_JSON);
	
	MEIRO.PRIMITIVE.LABEL = {
		font:	MEIRO.PRIMITIVE.FONT,
		size:	0.4,
		height:	0.04,
		curveSegments: options.lowpoly?1:6,
		bevelEnabled: false};

	MEIRO.PRIMITIVE.GEOMETRY = {
		CUBE: new THREE.BoxGeometry(1,1,1),
		CYLINDER: new THREE.CylinderGeometry(1,1,1,options.lowpoly?6:32,1,false),
		TUBE: new THREE.CylinderGeometry(1,1,1,options.lowpoly?6:20,1,true),
		PIE: function(){return new THREE.CylinderGeometry(1,1,1,options.lowpoly?6:32,1,false,0,2*Math.PI-EPS)}, //function!!!
		//ISOSPHERE: new THREE.IcosahedronGeometry(1,3),
		SPHERE: new THREE.SphereGeometry(1,options.lowpoly?6:32,options.lowpoly?6:32),
		SPHERE_HALF: new THREE.SphereGeometry(1,options.lowpoly?6:32,options.lowpoly?4:16,0,2*Math.PI,0,Math.PI/2),
		ARROW: new THREE.ConeGeometry(0.085,MEIRO.ARROW_LENGTH,options.lowpoly?6:12),
		X: (function() {
				var geom = new THREE.TextGeometry( 'X', MEIRO.PRIMITIVE.LABEL);
				geom.translate(-0.15,0,0);
				return geom;
			})(),
		Y: (function() {
				var geom = new THREE.TextGeometry( 'Y', MEIRO.PRIMITIVE.LABEL);
				geom.translate(-0.15,0,0);
				return geom;
			})(),
		Z: (function() {
				var geom = new THREE.TextGeometry( 'Z', MEIRO.PRIMITIVE.LABEL);
				geom.translate(-0.15,0,0);
				return geom;
			})(),
		O: (function() {
				var geom = new THREE.TextGeometry( 'O', MEIRO.PRIMITIVE.LABEL);
				geom.translate(0.15,0,0);
				return geom;
			})(),
		R: new THREE.TextGeometry( 'R', MEIRO.PRIMITIVE.LABEL),
		ALPHA: new THREE.TextGeometry( 'α', MEIRO.PRIMITIVE.LABEL),
		BETA: new THREE.TextGeometry( 'β', MEIRO.PRIMITIVE.LABEL),
		CIRCLE: (function(){
			var geometry = new THREE.Geometry();
			for (var a=0; a<360-EPS; )
			{
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
				a += 5;
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
			}
			return geometry;
		})(),
		CIRCLE_HALF: (function(){
			var geometry = new THREE.Geometry();
			for (var a=0; a<180-EPS; )
			{
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
				a += 5;
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
			}
			return geometry;
		})(),
		CIRCLE_PIE: function(){
			var geometry = new THREE.Geometry();
			for (var a=0; a<360; a += 10)
			{
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
			}
			geometry.vertices.push( new THREE.Vector3(0,0,0) );
			return geometry;
		}, //function!!
		RADIALS: (function(){
			var geometry = new THREE.Geometry();
			for (var a=0; a<180-EPS; a += 15)
			{
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
				geometry.vertices.push( new THREE.Vector3(-Math.cos(alpha),-Math.sin(alpha),0) );
			}
			return geometry;
		})(),
		RADIALS_HALF: (function(){
			var geometry = new THREE.Geometry();
			for (var a=0; a<180-EPS; a += 15)
			{
				var alpha = THREE.Math.degToRad(a);
				geometry.vertices.push( new THREE.Vector3(Math.cos(alpha),Math.sin(alpha),0) );
				geometry.vertices.push( new THREE.Vector3(0,0,0) );
			}
			return geometry;
		})(),
		PAPER_PLANE: (function(){
			var w=0.5, h=0.4, v=0.9*h, g=0.1;
			var geometry = new THREE.Geometry();
			geometry.vertices.push(
				new THREE.Vector3(1,0,0),	//0
				new THREE.Vector3(0,v,-w),	//1       1_--2   4--_5
				new THREE.Vector3(0,h,-g),	//2            \ /
				new THREE.Vector3(0,0,0),	//3             3
				new THREE.Vector3(0,h,g),	//4
				new THREE.Vector3(0,v,w)	//5
			);
			geometry.faces.push(
				new THREE.Face3(0,1,2),
				new THREE.Face3(0,2,3),
				new THREE.Face3(0,3,4),
				new THREE.Face3(0,4,5)
			);
			geometry.computeFaceNormals();
			return geometry;
		})(),
	};

	MEIRO.PRIMITIVE.STYLE = {
		POINT: new THREE.MeshPhongMaterial({color: 'red', shininess: 100}),
		CUBE: new THREE.MeshPhongMaterial({color:'white'}),
		CYLINDER: new THREE.MeshLambertMaterial({color:'white'}),
		PIE: new THREE.MeshLambertMaterial({color:'white'}),
		SOLID_LINE: new THREE.LineBasicMaterial( {
						color: 'red',
					}),
		DOTTED_LINE: new THREE.LineDashedMaterial( {
						color: 'red',
						transparent: true,
						opacity: 0.6,
						linewidth: 1,
						scale: 5,
						dashSize: 0.4,
						gapSize: 0.6,
					}),
		SPHERE: new THREE.MeshLambertMaterial({color:'white'}),
		TEXT: new THREE.MeshLambertMaterial({color:'gold'}),
		AXIS: new THREE.MeshBasicMaterial({color:'black'}),
		GRID: new THREE.LineBasicMaterial({color:'black',transparent:true,opacity:0.4,depthWrite:false}),
		WIREFRAME_GRID: new THREE.MeshNormalMaterial({transparent:true,opacity:0.1,depthWrite:false,wireframe:true}),
		PAWN: new THREE.MeshPhongMaterial({color:'black',shininess:200}),
		SOLID_PLATE: new THREE.MeshNormalMaterial(),
		PLATE: new THREE.MeshNormalMaterial({
					transparent:true,
					opacity:0.1,
					depthTest: false,
					side: THREE.DoubleSide,
				}),
		CONTOUR: new THREE.MeshBasicMaterial({
					color: 'red',
					transparent: true,
					opacity: 0.5,
				}),
		LABEL: new THREE.MeshPhongMaterial({color:'darkred'}),
		BEZIER3D: new THREE.MeshPhongMaterial( {color:'cornflowerblue', side:THREE.DoubleSide, shininess:200} ),
	};

	if (options.textures)
	{
		MEIRO.PRIMITIVE.STYLE.CUBE.transparent = true;
		MEIRO.PRIMITIVE.STYLE.CUBE.map = MEIRO.TEXTURE.CUBE;
	}
}


MEIRO.RandomColor = function()
{
	return new THREE.Color(Math.random(),Math.random(),Math.random());
}

MEIRO.RandomMilkyColor = function()
{
	return new THREE.Color(0.6+0.4*Math.random(),0.6+0.4*Math.random(),0.6+0.4*Math.random());
}



// ===========================================================================
// Cube class.
// ===========================================================================
MEIRO.Cube = function(size)
{
	this.type = 'meiro.cube';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.CUBE;
	this.material = MEIRO.PRIMITIVE.STYLE.CUBE;
	
	THREE.Mesh.call(this, this.geometry, this.material);
	this.scale.set(size,size,size);
}
MEIRO.Cube.prototype = Object.create(THREE.Mesh.prototype);


// ===========================================================================
// Cylinder class.
// ===========================================================================
MEIRO.Cylinder = function(size,height)
{
	this.type = 'meiro.cylinder';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.CYLINDER;
	this.material = MEIRO.PRIMITIVE.STYLE.CYLINDER;
	
	THREE.Mesh.call(this, this.geometry, this.material);
	this.scale.set(size,height,size);
}
MEIRO.Cylinder.prototype = Object.create(THREE.Mesh.prototype);


// ===========================================================================
// Pie class.
// ===========================================================================
MEIRO.Pie = function(size,height)
{
	this.type = 'meiro.pie';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.PIE(); //function!!
	this.material = MEIRO.PRIMITIVE.STYLE.PIE;
	
	var v = this.geometry.vertices;
	var log = [];
	for (var i=0; i<v.length/2-1; i++)
	{
		log.push({
			x:v[i].x.toFixed(3), a:(Math.asin(v[i].x)*180/Math.PI).toFixed(3),
			y:v[i].y,
			z:v[i].z.toFixed(3), b:(Math.acos(v[i].z)*180/Math.PI).toFixed(3),
			r:Math.sqrt(v[i].x*v[i].x+v[i].z*v[i].z).toFixed(3),
		});
	}
	
	THREE.Mesh.call(this, this.geometry, this.material);
	this.scale.set(size,height,size);
}
MEIRO.Pie.prototype = Object.create(THREE.Mesh.prototype);


MEIRO.Pie.prototype.setRange = function(alpha, beta)
{
	var v = this.geometry.vertices;
	var n = v.length/2-1;
	for (var i=0; i<n; i++)
	{
		var angle = alpha + (beta-alpha)*i/(n-1);
		v[i+n].x = v[i].x = Math.cos(angle);
		v[i+n].z = v[i].z = Math.sin(angle);
	}
	this.geometry.verticesNeedUpdate = true;
}


// ===========================================================================
// CirclePie class.
// ===========================================================================
MEIRO.CirclePie = function(size)
{
	this.type = 'meiro.circlepie';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.CIRCLE_PIE();//function!!
	this.material = MEIRO.PRIMITIVE.STYLE.GRID;

	THREE.Line.call(this, this.geometry, this.material);
	this.scale.set(size,size,size);
}
MEIRO.CirclePie.prototype = Object.create(THREE.Line.prototype);


MEIRO.CirclePie.prototype.setRange = function(alpha, beta)
{
	var v = this.geometry.vertices;
	var n = v.length-1;
	for (var i=0; i<n; i++)
	{
		var angle = alpha + (beta-alpha)*i/(n-1);
		v[i].x = Math.cos(angle);
		v[i].y = Math.sin(angle);
	}
	this.geometry.verticesNeedUpdate = true;
}


// ===========================================================================
// DottedLine class.
// ===========================================================================
MEIRO.DottedLine = function(from,to)
{
	this.type = 'meiro.dottedline';
	
	if (!from) from = new THREE.Vector3(0,0,0);
	if (!to) to = from;
	
	this.geometry = new THREE.Geometry();
	this.geometry.vertices.push(from,to);
	this.geometry.computeLineDistances();
	
	this.material = MEIRO.PRIMITIVE.STYLE.DOTTED_LINE;
	THREE.Line.call(this, this.geometry, this.material);
}
MEIRO.DottedLine.prototype = Object.create(THREE.Line.prototype);


MEIRO.DottedLine.prototype.setFromTo = function(from,to)
{
	this.geometry.vertices[0] = from;
	this.geometry.vertices[1] = to;
	this.geometry.verticesNeedUpdate = true;
	this.geometry.lineDistancesNeedUpdate = true;
	this.geometry.computeLineDistances();
}

MEIRO.DottedLine.prototype.getFrom = function()
{
	return this.geometry.vertices[0].clone();
}

MEIRO.DottedLine.prototype.getTo = function()
{
	return this.geometry.vertices[1].clone();
}


MEIRO.DottedLine.prototype.setFromToXZ = function(from)
{
	this.geometry.vertices[0] = from;
	this.geometry.vertices[1].x = from.x;
	this.geometry.vertices[1].y = 0;
	this.geometry.vertices[1].z = from.z;
	this.geometry.verticesNeedUpdate = true;
	this.geometry.lineDistancesNeedUpdate = true;
	this.geometry.computeLineDistances();
}


MEIRO.DottedLine.prototype.setFrom = function(from)
{
	this.geometry.vertices[0] = from;
	this.geometry.verticesNeedUpdate = true;
	this.geometry.lineDistancesNeedUpdate = true;
	this.geometry.computeLineDistances();
}


MEIRO.DottedLine.prototype.setTo = function(to)
{
	this.geometry.vertices[1] = to;
	this.geometry.verticesNeedUpdate = true;
	this.geometry.lineDistancesNeedUpdate = true;
	this.geometry.computeLineDistances();
}

MEIRO.Line = function(from,to)
{
	this.type = 'meiro.line';
	
	MEIRO.DottedLine.call(this, from, to);
	this.material = MEIRO.PRIMITIVE.STYLE.SOLID_LINE;
}
MEIRO.Line.prototype = Object.create(MEIRO.DottedLine.prototype);


// ===========================================================================
// Polygon class.
// ===========================================================================
MEIRO.Polygon = function(n)
{
	this.type = 'meiro.polygon';
	
	this.n = n;
	
	this.geometry = new THREE.Geometry();
	for (var i=0; i<this.n; i++)
		this.geometry.vertices.push(new THREE.Vector3());
	
	this.material = MEIRO.PRIMITIVE.STYLE.SOLID_LINE;
	THREE.Line.call(this, this.geometry, this.material);
}
MEIRO.Polygon.prototype = Object.create(THREE.Line.prototype);


MEIRO.Polygon.prototype.setPoint = function(index,point)
{
	this.geometry.vertices[index] = point;
	this.geometry.verticesNeedUpdate = true;
}

MEIRO.Polygon.prototype.getPoint = function(index)
{
	return this.geometry.vertices[index];
}



// ===========================================================================
// Sphere class.
// ===========================================================================
MEIRO.Sphere = function(size)
{
	this.type = 'meiro.sphere';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.SPHERE;
	this.material = MEIRO.PRIMITIVE.STYLE.SPHERE;
	
	THREE.Mesh.call(this, this.geometry, this.material);
	this.scale.set(size,size,size);
}
MEIRO.Sphere.prototype = Object.create(THREE.Mesh.prototype);


// ===========================================================================
// Point class.
// ===========================================================================
MEIRO.Point = function()
{
	this.type = 'meiro.point';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.SPHERE;
	this.material = MEIRO.PRIMITIVE.STYLE.POINT;
	
	THREE.Mesh.call(this, this.geometry, this.material);
	this.scale.set(0.2,0.2,0.2);
}
MEIRO.Point.prototype = Object.create(THREE.Mesh.prototype);


// ===========================================================================
// 3D Text class.
// ===========================================================================
MEIRO.Text = function(string)
{
	this.type = 'meiro.text';
	
	this.geometry = new THREE.TextGeometry( string, {
		font: MEIRO.PRIMITIVE.FONT,
		size: 1,
		height: 0.3, //depth
		curveSegments: options.lowpoly?1:10,
		bevelEnabled: false
	});

	this.material = MEIRO.PRIMITIVE.STYLE.TEXT;
	
	THREE.Mesh.call(this, this.geometry, this.material);
}
MEIRO.Text.prototype = Object.create(THREE.Mesh.prototype);


// ===========================================================================
// Label class.
// ===========================================================================
MEIRO.Label = function(string,size,x,y,z)
{
	this.type = 'meiro.label';
	
	this.geometry = new THREE.TextGeometry( string, {
		font: MEIRO.PRIMITIVE.FONT,
		size: size,
		height: 0.01, //depth
		curveSegments: options.lowpoly?1:8,
		bevelEnabled: false
	});
	this.geometry.translate(x||0,y||0,z||0);

	this.material = MEIRO.PRIMITIVE.STYLE.LABEL;
	
	THREE.Mesh.call(this, this.geometry, this.material);
}
MEIRO.Label.prototype = Object.create(THREE.Mesh.prototype);


MEIRO.Label.prototype.rotateLabel = function()
{
	var angle = controls.viewAngle();
	this.rotation.y = angle;
}


// ===========================================================================
// 2D Axes class.
// ===========================================================================
MEIRO.Axes2D = function(rangeX,rangeY,drawLabels,drawArrows,drawAxes)
{
	var EXT = 0.3;	// extent of axes beyond the grid
	var W = 0.04;	// width of axes
	
	if (typeof drawLabels === 'undefined') drawLabels=true;
	if (typeof drawArrows === 'undefined') drawArrows=true;
	if (typeof drawAxes === 'undefined') drawAxes=true;

	this.type = 'meiro.axes2d';

	THREE.Object3D.call(this);
	
	// Step 1. the grid
	var geometry = new THREE.Geometry();
	{
		for (var x=rangeX[0]; x<=rangeX[1]+EPS; x++) if (x || !drawAxes)
		{
			geometry.vertices.push( new THREE.Vector3(x,rangeY[0]-EXT/2,0) );
			geometry.vertices.push( new THREE.Vector3(x,rangeY[1]+EXT/2,0) );
		}
		for (var y=rangeY[0]; y<=rangeY[1]+EPS; y++) if (y || !drawAxes)
		{
			geometry.vertices.push( new THREE.Vector3(rangeX[0]-EXT/2,y,0) );
			geometry.vertices.push( new THREE.Vector3(rangeX[1]+EXT/2,y,0) );
		}
	}
	this.add( new THREE.LineSegments(geometry, MEIRO.PRIMITIVE.STYLE.GRID) );

	
	// Step 2. the axes
	var axes = new THREE.Geometry();
	if (drawAxes)
	{
		{
			var axis = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CUBE, MEIRO.PRIMITIVE.STYLE.AXIS);
			// axis X
			axis.scale.set(rangeX[1]-rangeX[0]+2*EXT,W,W);
			axis.position.set(rangeX[1]/2+rangeX[0]/2,0,0);
			axes.mergeMesh(axis);
			// axis Y
			axis.scale.set(W,rangeY[1]-rangeY[0]+2*EXT,W);
			axis.position.set(0,rangeY[1]/2+rangeY[0]/2,0);
			axes.mergeMesh(axis);
		}
	}
	if (drawArrows)
	{
		var arrow = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ARROW, MEIRO.PRIMITIVE.STYLE.AXIS);

		// arrow X-
		arrow.position.set(rangeX[0]-EXT,0,0);
		arrow.rotation.set(0,0,Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow X+
		arrow.position.set(rangeX[1]+EXT,0,0);
		arrow.rotation.set(0,0,-Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow Y-
		arrow.position.set(0,rangeY[0]-EXT,0);
		arrow.rotation.set(0,0,Math.PI);
		axes.mergeMesh(arrow);
		// arrow Y+
		arrow.position.set(0,rangeY[1]+EXT,0);
		arrow.rotation.set(0,0,0);
		axes.mergeMesh(arrow);
	}
	this.add( new THREE.Mesh(axes, MEIRO.PRIMITIVE.STYLE.AXIS) );
	
	// Step 3. The labels
	if (drawLabels)
	{
		// label O
		this.labelO = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.O, MEIRO.PRIMITIVE.STYLE.AXIS);
		this.labelO.position.set(0.1,0.1,-0.02);
		this.add(this.labelO);
		// label X
		this.labelX = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.X, MEIRO.PRIMITIVE.STYLE.AXIS);
		this.labelX.position.set(rangeX[1]+0.5,-0.18,-0.02);
		this.add(this.labelX);
		// label Y
		this.labelY = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.Y, MEIRO.PRIMITIVE.STYLE.AXIS);
		this.labelY.position.set(-0.15,rangeY[1]+0.6,-0.02);
		this.add(this.labelY);
	}
}
MEIRO.Axes2D.prototype = Object.create(THREE.Object3D.prototype);


MEIRO.Axes2D.prototype.rotateLabels = function()
{
	var angle = controls.viewAngle();
	if (this.rotationDir<0) angle = Math.PI-angle;
	this.labelO.rotation.y = angle;
	this.labelX.rotation.y = angle;
	this.labelY.rotation.y = angle;
}



// ===========================================================================
// 3D Axes class.
// ===========================================================================
MEIRO.Axes3D = function(rangeX,rangeY,rangeZ)
{
	var EXT = 0.3;	// extent of axes beyond the grid
	var W = 0.04;	// width of axes

	this.type = 'meiro.axes3d';
	this.rotationDir = 1;
	
	THREE.Object3D.call(this);
	
	// Step 1. the grid
	var geometry = new THREE.Geometry();
	{
		for (var x=rangeX[0]; x<=rangeX[1]+EPS; x++) if (x)
		{
			geometry.vertices.push( new THREE.Vector3(x,0,rangeZ[0]-EXT/2) );
			geometry.vertices.push( new THREE.Vector3(x,0,rangeZ[1]+EXT/2) );
		}
		for (var z=rangeZ[0]; z<=rangeZ[1]+EPS; z++) if (z)
		{
			geometry.vertices.push( new THREE.Vector3(rangeX[0]-EXT/2,0,z) );
			geometry.vertices.push( new THREE.Vector3(rangeX[1]+EXT/2,0,z) );
		}
	}
	this.grid = new THREE.LineSegments(geometry, MEIRO.PRIMITIVE.STYLE.GRID); 
	this.add( this.grid );

	
	// Step 2. the axes
	var axes = new THREE.Geometry();
	{
		var axis = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CUBE, MEIRO.PRIMITIVE.STYLE.AXIS);
		var arrow = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ARROW, MEIRO.PRIMITIVE.STYLE.AXIS);
		
		// axis X
		axis.scale.set(rangeX[1]-rangeX[0]+2*EXT,W,W);
		axis.position.set(rangeX[1]/2+rangeX[0]/2,0,0);
		axes.mergeMesh(axis);
		// axis Y
		if (rangeY[0]>EPS)
		{
			axis.scale.set(W,rangeY[1]-rangeY[0]+2*EXT,W);
			axis.position.set(0,rangeY[1]/2+rangeY[0]/2,0);
		}
		else
		{
			axis.scale.set(W,rangeY[1]-rangeY[0]+EXT,W);
			axis.position.set(0,rangeY[1]/2+rangeY[0]/2+EXT/2,0);
		}
		axes.mergeMesh(axis);
		// axis Z
		axis.scale.set(W,W,rangeZ[1]-rangeZ[0]+2*EXT);
		axis.position.set(0,0,rangeZ[1]/2+rangeZ[0]/2);
		axes.mergeMesh(axis);

		// arrow X-
		arrow.position.set(rangeX[0]-EXT,0,0);
		arrow.rotation.set(0,0,Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow X+
		arrow.position.set(rangeX[1]+EXT,0,0);
		arrow.rotation.set(0,0,-Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow Y-
		if (rangeY[0]>EPS)
		{
			arrow.position.set(0,rangeY[0]-EXT,0);
			arrow.rotation.set(0,0,Math.PI);
			axes.mergeMesh(arrow);
		}
		// arrow Y+
		arrow.position.set(0,rangeY[1]+EXT,0);
		arrow.rotation.set(0,0,0);
		axes.mergeMesh(arrow);
		// arrow Z-
		arrow.position.set(0,0,rangeZ[0]-EXT);
		arrow.rotation.set(-Math.PI/2,0,0);
		axes.mergeMesh(arrow);
		// arrow Z+
		arrow.position.set(0,0,rangeZ[1]+EXT);
		arrow.rotation.set(Math.PI/2,0,0);
		axes.mergeMesh(arrow);
	}
	this.axes = new THREE.Mesh(axes, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.add( this.axes );
	
	// Step 3. The labels
	// label O
	this.labelO = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.O, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelO.position.set(0.1,0.1,-0.02);
	this.add(this.labelO);
	// label X
	this.labelX = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.X, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelX.position.set(rangeX[1]+EXT,0.2,0);
	this.add(this.labelX);
	// label Y
	this.labelY = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.Y, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelY.position.set(0,rangeY[1]+EXT+0.2,0);
	this.add(this.labelY);
	// label Z
	this.labelZ = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.Z, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelZ.rotation.y = Math.PI/2;
	this.labelZ.position.set(0,0.2,rangeZ[1]+EXT);
	this.add(this.labelZ);
}
MEIRO.Axes3D.prototype = Object.create(THREE.Object3D.prototype);


MEIRO.Axes3D.prototype.rotateLabels = function()
{
	var angle = controls.viewAngle();
	if (this.rotationDir<0) angle = Math.PI-angle;
	this.labelO.rotation.y = angle;
	this.labelX.rotation.y = angle;
	this.labelY.rotation.y = angle;
	this.labelZ.rotation.y = angle;
}


MEIRO.Axes3D.prototype.setColor = function(color)
{
	this.grid.material = new THREE.LineBasicMaterial({color:color,transparent:true,opacity:0.4,depthWrite:false});
	this.axes.material = new THREE.MeshBasicMaterial({color:color});
	this.labelX.material = this.axes.material;
	this.labelY.material = this.axes.material;
	this.labelZ.material = this.axes.material;
}


MEIRO.Axes3D.prototype.setLabels = function(labelX,labelY,labelZ)
{
	this.labelX.geometry = new THREE.TextGeometry( labelX, MEIRO.PRIMITIVE.LABEL);
	this.labelX.geometry.translate(-0.15,0,0);
	this.labelY.geometry = new THREE.TextGeometry( labelY, MEIRO.PRIMITIVE.LABEL);
	this.labelY.geometry.translate(-0.15,0,0);
	this.labelZ.geometry = new THREE.TextGeometry( labelZ, MEIRO.PRIMITIVE.LABEL);
	this.labelZ.geometry.translate(-0.15,0,0);
}


// ===========================================================================
// Polar Axes class.
// ===========================================================================
MEIRO.AxesPolar = function(radius)
{
	var EXT = 0.3;	// extent of axes beyond the grid
	var W = 0.04;	// width of axes
	
	this.type = 'meiro.axespolar';

	THREE.Object3D.call(this);
	
	// Step 1. the grid
	var geometry = new THREE.Geometry();
	{
		// radials
		var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.RADIALS,MEIRO.PRIMITIVE.STYLE.GRID);
		mesh.scale.set(radius+EXT/2,radius+EXT/2,1);
		geometry.mergeMesh(mesh);
		// concentrics
		for (var r=1; r<=radius+EPS; r++)
		{
			var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CIRCLE,MEIRO.PRIMITIVE.STYLE.GRID);
			mesh.scale.set(r,r,r);
			geometry.mergeMesh(mesh);
		}
	}
	this.add( new THREE.LineSegments(geometry, MEIRO.PRIMITIVE.STYLE.GRID) );

	
	// Step 2. the axes
	var axes = new THREE.Geometry();
	{
		var axis = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CUBE, MEIRO.PRIMITIVE.STYLE.AXIS);
		var arrow = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ARROW, MEIRO.PRIMITIVE.STYLE.AXIS);
		
		// axis R
		axis.scale.set(radius+EXT,W,W);
		axis.position.set(radius/2+EXT/2,0,0);
		axes.mergeMesh(axis);
		// axis Alpha
		var axis = new THREE.Mesh(new THREE.TorusGeometry(radius,W/1.75,6,20,1), MEIRO.PRIMITIVE.STYLE.AXIS);
		axes.mergeMesh(axis);
		
		// arrow R
		arrow.position.set(radius+EXT,0,0);
		arrow.rotation.set(0,0,-Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow Alpha
		arrow.position.set(radius*Math.cos(1),radius*Math.sin(1),0);
		arrow.rotation.set(0,0,1);
		axes.mergeMesh(arrow);
	}
	this.add( new THREE.Mesh(axes, MEIRO.PRIMITIVE.STYLE.AXIS) );
	
	
	// Step 3. The labels
	// label O
	this.labelO = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.O, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelO.position.set(0.1,0.1,-0.02);
	this.add(this.labelO);
	// label R
	this.labelR = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.R, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelR.position.set(radius+0.5,0.18,-0.02);
	this.add(this.labelR);
	// label Alpha
	this.labelA = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ALPHA, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelA.position.set(radius*Math.cos(1),radius*Math.sin(1)+0.2,-0.02);
	this.add(this.labelA);
}
MEIRO.AxesPolar.prototype = Object.create(THREE.Object3D.prototype);

MEIRO.AxesPolar.prototype.rotateLabels = function()
{
	var angle = controls.viewAngle();
	this.labelO.rotation.y = angle;
	this.labelR.rotation.y = angle;
	this.labelA.rotation.y = angle;
}


// ===========================================================================
// Spherical Axes class.
// ===========================================================================
MEIRO.AxesSpherical = function(radius)
{
	var EXT = 0.3;	// extent of axes beyond the grid
	var W = 0.04;	// width of axes
	
	this.type = 'meiro.axesspherical';

	THREE.Object3D.call(this);
	
	// Step 1. the grid
	var geometry = new THREE.Geometry();
	{
		// radials
		var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.RADIALS_HALF,MEIRO.PRIMITIVE.STYLE.GRID);
		mesh.scale.set(radius+EXT/2,radius+EXT/2,1);
		geometry.mergeMesh(mesh);
		var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.RADIALS,MEIRO.PRIMITIVE.STYLE.GRID);
		mesh.scale.set(radius+EXT/2,radius+EXT/2,1);
		mesh.rotation.x = Math.PI/2;
		geometry.mergeMesh(mesh);
		// concentrics
		for (var r=1; r<=radius+EPS; r++)
		{
			var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CIRCLE_HALF,MEIRO.PRIMITIVE.STYLE.GRID);
			mesh.scale.set(r,r,r);
			geometry.mergeMesh(mesh);
			var mesh = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CIRCLE,MEIRO.PRIMITIVE.STYLE.GRID);
			mesh.scale.set(r,r,r);
			mesh.rotation.x = Math.PI/2;
			geometry.mergeMesh(mesh);
		}
	}
	this.add( new THREE.LineSegments(geometry, MEIRO.PRIMITIVE.STYLE.GRID) );

	
	// Step 2. the axes
	var axes = new THREE.Geometry();
	{
		var axis = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CUBE, MEIRO.PRIMITIVE.STYLE.AXIS);
		var arrow = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ARROW, MEIRO.PRIMITIVE.STYLE.AXIS);
		
		// axis R
		axis.scale.set(radius+EXT,W,W);
		axis.position.set(radius/2+EXT/2,0,0);
		axes.mergeMesh(axis);
		// axis R2
		axis.scale.set(W,radius+EXT,W);
		axis.position.set(0,radius/2+EXT/2,0);
		axes.mergeMesh(axis);
		// axis Beta
		var axis = new THREE.Mesh(new THREE.TorusGeometry(radius,W/1.75,6,20,1), MEIRO.PRIMITIVE.STYLE.AXIS);
		axes.mergeMesh(axis);
		// axis Alpha
		axis.rotation.x = -Math.PI/2;
		axes.mergeMesh(axis);
		
		// arrow R2
		arrow.position.set(0,radius+EXT,0);
		axes.mergeMesh(arrow);
		// arrow R
		arrow.position.set(radius+EXT,0,0);
		arrow.rotation.set(0,0,-Math.PI/2);
		axes.mergeMesh(arrow);
		// arrow Alpha
		arrow.position.set(radius*Math.cos(1),0,-radius*Math.sin(1));
		arrow.rotation.set(-Math.PI/2,0,1);
		axes.mergeMesh(arrow);
		// arrow Beta
		arrow.position.set(radius*Math.cos(1),radius*Math.sin(1),0);
		arrow.rotation.set(0,0,1);
		axes.mergeMesh(arrow);
	}
	this.add( new THREE.Mesh(axes, MEIRO.PRIMITIVE.STYLE.AXIS) );
	
	
	// Step 3. The labels
	// label O
	this.labelO = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.O, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelO.position.set(0.1,0.1,-0.02);
	this.add(this.labelO);
	// label R
	this.labelR = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.R, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelR.position.set(radius+0.5,0.2,-0.02);
	this.add(this.labelR);
	// label Alpha
	this.labelA = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ALPHA, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelA.position.set(radius*Math.cos(1),0.2,-radius*Math.sin(1));
	this.add(this.labelA);
	// label Beta
	this.labelB = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.BETA, MEIRO.PRIMITIVE.STYLE.AXIS);
	this.labelB.position.set(radius*Math.cos(1),radius*Math.sin(1)+0.3,-0.02);
	this.add(this.labelB);
}
MEIRO.AxesSpherical.prototype = Object.create(THREE.Object3D.prototype);

MEIRO.AxesSpherical.prototype.rotateLabels = function()
{
	var angle = controls.viewAngle();
	this.labelO.rotation.y = angle;
	this.labelR.rotation.y = angle;
	this.labelA.rotation.y = angle;
	this.labelB.rotation.y = angle;
}



// ===========================================================================
// Paper plane class
// ===========================================================================
MEIRO.PaperPlane = function(color)
{
	this.type = 'meiro.paperplane';
	
	this.geometry = MEIRO.PRIMITIVE.GEOMETRY.PAPER_PLANE;
	this.material = new THREE.MeshLambertMaterial({color:color,side:THREE.DoubleSide});

	THREE.Mesh.call(this, this.geometry, this.material);

	var frame = new THREE.Mesh(this.geometry,new THREE.MeshBasicMaterial({color:'black',wireframe:true}));
	this.add(frame);
}
MEIRO.PaperPlane.prototype = Object.create(THREE.Mesh.prototype);



// ===========================================================================
// Pawn class
// ===========================================================================
MEIRO.Pawn = function(color)
{
	this.type = 'meiro.pawn';
	
	THREE.Object3D.call(this);

	var h = options.lowpoly?8:30; // horizontal segments
	var v = options.lowpoly?8:15; // vertical segments
	
	var material = new THREE.MeshPhongMaterial({color:color, shininess:100});
	
	this.head = new THREE.Mesh( new THREE.SphereGeometry(0.5,h,v), material );
	this.head.position.set(0,3,0);

	this.body = new THREE.Mesh( new THREE.ConeGeometry(0.8,3,options.lowpoly?h:2*h,1,true), material );
	this.body.position.set(0,1.6,0);

	this.neck = new THREE.Mesh( new THREE.SphereGeometry(1,h,v/2), material );
	this.neck.position.set(0,2.43,0);
	this.neck.scale.set(0.5,0.12,0.5);

	this.waist = new THREE.Mesh( new THREE.SphereGeometry(1,h,v/2), material );
	this.waist.position.set(0,0.55,0);
	this.waist.scale.set(0.86,0.3,0.86);

	this.bottom = new THREE.Mesh( new THREE.SphereGeometry(1,h,v,0,Math.PI*2,0,Math.PI/2), material );
	this.bottom.scale.set(1.1,0.7,1.1);
	
	var material = new THREE.MeshPhongMaterial({color:color, shininess:100, side:THREE.DoubleSide});
	this.feet = new THREE.Mesh( new THREE.CircleGeometry(1.1,h), material );
	this.feet.rotation.x = Math.PI/2;

	this.add(this.head,this.neck,this.waist,this.bottom,this.body,this.feet);
}
MEIRO.Pawn.prototype = Object.create(THREE.Object3D.prototype);


MEIRO.Pawn.prototype.split = function(k)
{
	//k = THREE.Math.smootherstep(k,0,1);
	var hDist = 4*k;
	
	this.head.position.x = hDist; 
	this.neck.position.z = hDist; 
	this.waist.position.x = -hDist; 
	this.bottom.position.z = -hDist; 
	
	this.head.position.y = (3-0.4)*(1-k)+0.4; 
	this.neck.position.y = (2.43-0.2)*(1-k)+0.2; 
	this.waist.position.y = (0.55-0.2)*(1-k)+0.2; 
	this.feet.position.y = (-1.75)*(k); 
}




// ===========================================================================
// Turtle class
// ===========================================================================
MEIRO.Turtle = function(size)
{
	this.type = 'meiro.turtle';
	
	THREE.Object3D.call(this);

	// ориентация
	this.basis = new MEIRO.Basis();
	
	if (size>0)
	{
		// костенурка
		var material = new THREE.MeshNormalMaterial({shading:THREE.FlatShading});
		var geometry = new THREE.IcosahedronGeometry(size,1);
		for (var i=0; i<geometry.vertices.length; i++)
		{
			var v = geometry.vertices[i];
			v.x *= 1.1;
			if (v.y<0) v.y *= 0.3;
		}
		this.add(new THREE.Mesh(geometry,material));

		// глава
		geometry = new THREE.IcosahedronGeometry(size,0);
		var head = new THREE.Mesh(geometry,material);
		head.position.set(1.1*size,0.2*size,0);
		head.scale.set(0.6,0.2,0.4);
		head.rotation.set(0,0,0.3);
		this.add(head);

		// опашка
		var tail = new THREE.Mesh(geometry,material);
		tail.position.set(-0.9*size,-0.1*size,0);
		tail.scale.set(0.3,0.1,0.2);
		this.add(tail);

		// крака
		var legs = new THREE.Mesh(geometry,material);
		legs.position.set(0,-0.1*size,0);
		legs.rotation.set(0,Math.PI/3,0);
		legs.scale.set(1.5,0.2,0.2);
		this.add(legs);
		legs = legs.clone();
		legs.rotation.set(0,-Math.PI/3,0);
		this.add(legs);
	}
		
	this.matrixAutoUpdate = false;
}
MEIRO.Turtle.prototype = Object.create(THREE.Object3D.prototype);


MEIRO.Turtle.prototype.fd = function(length)
{
	this.basis.translateX(length);
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.bk = function(length)
{
	this.basis.translateX(-length);
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.su = function(length)
{
	this.basis.translateY(length);
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.sd = function(length)
{
	this.basis.translateY(-length);
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.sr = function(length)
{
	this.basis.translateZ(length);
	this.basis.apply(this);
}

MEIRO.Turtle.prototype.sl = function(length)
{
	this.basis.translateZ(-length);
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.lt = function(angle)
{
	this.basis.rotateY(THREE.Math.degToRad(angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.rt = function(angle)
{
	this.basis.rotateY(THREE.Math.degToRad(-angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.lr = function(angle)
{
	this.basis.rotateX(THREE.Math.degToRad(angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.rr = function(angle)
{
	this.basis.rotateX(THREE.Math.degToRad(-angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.upp = function(angle)
{
	this.basis.rotateZ(THREE.Math.degToRad(-angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.dn = function(angle)
{
	this.basis.rotateZ(THREE.Math.degToRad(angle));
	this.basis.apply(this);
}


MEIRO.Turtle.prototype.getPosition = function()
{
	return this.basis.o.clone();
}


MEIRO.Turtle.prototype.setPosition = function(pos)
{
	return this.basis.o.copy(pos);
}



// ===========================================================================
// Graph class
// ===========================================================================
MEIRO.Graph = function(scale,vertices,edges)
{
	this.type = 'meiro.graph';
	
	THREE.Object3D.call(this);

	// върхове
	var material = new THREE.MeshPhongMaterial({color:'orange',shininess:200});
	this.vertex = [];
	var n = Math.floor(vertices.length/3);
	for (var i=0; i<n; i++)
	{
		this.vertex.push( new MEIRO.Sphere(0.2) );
		this.vertex[i].material = material;
		this.vertex[i].position.set(vertices[3*i],vertices[3*i+1],vertices[3*i+2]);
		this.vertex[i].position.multiplyScalar(scale);
		this.add(this.vertex[i]);
	}
	
	// ребра
	var material = new THREE.MeshPhongMaterial({color:'cornflowerblue',shininess:200});
	var geometry = MEIRO.PRIMITIVE.GEOMETRY.CYLINDER.clone().rotateX(Math.PI/2);
	this.edge = [];
	for (var i=0,j=0; i<edges.length; i+=2,j++)
	{
		var p1 = this.vertex[ edges[i]   ].position;
		var p2 = this.vertex[ edges[i+1] ].position;
		
		this.edge.push( new THREE.Mesh(geometry,material));
		this.edge[j].scale.set(0.08,0.08,p1.distanceTo(p2));

		this.edge[j].position.lerpVectors(p1,p2,0.5);
		this.edge[j].lookAtPos = p2;
		this.edge[j].lookAt(p2);
		this.add(this.edge[j]);
	}
}
MEIRO.Graph.prototype = Object.create(THREE.Object3D.prototype);



// ===========================================================================
// Screen class
// ===========================================================================
MEIRO.Screen = function(width,height)
{
	var th = 0.2; // thickness
	
	this.type = 'meiro.screen';
	
	THREE.Object3D.call(this);

	this.corner1 = new MEIRO.Sphere(th); this.corner1.position.set(+width/2,+height/2,0);
	this.corner2 = new MEIRO.Sphere(th); this.corner2.position.set(+width/2,-height/2,0);
	this.corner3 = new MEIRO.Sphere(th); this.corner3.position.set(-width/2,+height/2,0);
	this.corner4 = new MEIRO.Sphere(th); this.corner4.position.set(-width/2,-height/2,0);
	
	this.edge1 = new MEIRO.Cylinder(th,height); this.edge1.position.set(+width/2,0,0);
	this.edge2 = new MEIRO.Cylinder(th,height); this.edge2.position.set(-width/2,0,0);
	
	this.plate = new MEIRO.Cube(1);
	this.plate.scale.set(width,height,th/2);
	this.plate.material = MEIRO.PRIMITIVE.STYLE.PLATE;
	
	this.add(this.corner1,this.corner2,this.corner3,this.corner4,this.edge1,this.edge2,this.plate);
}
MEIRO.Screen.prototype = Object.create(THREE.Object3D.prototype);




// ===========================================================================
// Vector class
// ===========================================================================

MEIRO.Vector = function(direction,length,color,width)
{
	if (!width) width=1;
	this.width = width;
	var W = 0.06*width;	// width of axes
	var A = 0.10; // arrow length
	
	this.type = 'meiro.vector';
	this.direction = direction.clone().normalize();
	
	THREE.Object3D.call(this);
	
	var material = MEIRO.PRIMITIVE.STYLE.AXIS.clone();
	if (color)
		material.color = new THREE.Color(color);
	
	this.axis = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.CUBE, material);
	this.arrow = new THREE.Mesh(MEIRO.PRIMITIVE.GEOMETRY.ARROW, material);

	// axis
	this.axis.scale.set(W,W,length-width*MEIRO.ARROW_LENGTH);
	this.axis.position.set(0,0,(length-width*MEIRO.ARROW_LENGTH)/2);
	
	// arrow
	this.arrow.position.set(0,0,length-width*MEIRO.ARROW_LENGTH/2);
	this.arrow.rotation.set(Math.PI/2,0,0);
	this.arrow.scale.set(width,width,width);

	this.add(this.axis,this.arrow);
	this.lookAt(direction);
}
MEIRO.Vector.prototype = Object.create(THREE.Object3D.prototype);

MEIRO.Vector.prototype.setDirection = function(direction)
{
	this.direction = new THREE.Vector3().copy(direction).normalize().add(this.position);
	this.lookAt(this.direction);
}

MEIRO.Vector.prototype.setLength = function(length)
{
	this.axis.scale.z = length-this.width*MEIRO.ARROW_LENGTH;
	this.axis.position.z = (length-this.width*MEIRO.ARROW_LENGTH)/2;
	
	this.arrow.position.z = length-this.width*MEIRO.ARROW_LENGTH/2;
}



// ===========================================================================
// Basis class (non-graphical)
// ===========================================================================

MEIRO.Basis = function()
{
	this.reset();
}

MEIRO.Basis.prototype.reset = function()
{
	// axes lengths are 1
	this.x = new THREE.Vector3(1,0,0);
	this.y = new THREE.Vector3(0,1,0);
	this.z = new THREE.Vector3(0,0,1);
	
	this.o = new THREE.Vector3(0,0,0);
}

MEIRO.Basis.prototype.clone = function()
{
	var n = new MEIRO.Basis();
	n.x.copy(this.x);
	n.y.copy(this.y);
	n.z.copy(this.z);
	n.o.copy(this.o);
	return n;
}

MEIRO.Basis.prototype.copy = function(n)
{
	this.x.copy(n.x);
	this.y.copy(n.y);
	this.z.copy(n.z);
	this.o.copy(n.o);
}

MEIRO.Basis.prototype.translateX = function(dX)
{
	// move along local X
	this.o.addScaledVector(this.x,dX);
}

MEIRO.Basis.prototype.translateY = function(dY)
{
	// move along local Y
	this.o.addScaledVector(this.y,dY);
}

MEIRO.Basis.prototype.translateZ = function(dZ)
{
	// move along local Z
	this.o.addScaledVector(this.z,dZ);
}

MEIRO.Basis.prototype.translate = function(dX,dY,dZ)
{
	// move along local axes
	this.o.addScaledVector(this.x,dX);
	this.o.addScaledVector(this.y,dY);
	this.o.addScaledVector(this.z,dZ);
}

MEIRO.Basis.prototype.rotateX = function(angle)
{
	// rotate around local X
	this.y.applyAxisAngle(this.x,angle);
	this.z.applyAxisAngle(this.x,angle);
}

MEIRO.Basis.prototype.rotateY = function(angle)
{
	// rotate around local Y
	this.x.applyAxisAngle(this.y,angle);
	this.z.applyAxisAngle(this.y,angle);
}

MEIRO.Basis.prototype.rotateZ = function(angle)
{
	// rotate around local Z
	this.x.applyAxisAngle(this.z,angle);
	this.y.applyAxisAngle(this.z,angle);
}

MEIRO.Basis.prototype.random = function(rangeX,rangeY,rangeZ)
{
	this.o.x = THREE.Math.randInt(rangeX[0],rangeX[1]);
	this.o.y = THREE.Math.randInt(rangeY[0],rangeY[1]);
	this.o.z = THREE.Math.randInt(rangeZ[0],rangeZ[1]);
	
	// randomize x axis
	this.x.set(THREE.Math.randFloat(-1,1),THREE.Math.randFloat(0,1),THREE.Math.randFloat(-1,1));
	this.x.normalize();
	
	// randomize y axis, but make it perpendicular to x and pointing to y+
	this.y.set(THREE.Math.randFloat(-1,1),THREE.Math.randFloat(-1,1),THREE.Math.randFloat(-1,1));
	this.y.cross(this.x);	
	if (this.y.y<0) this.y.multiplyScalar(-1);
	this.y.normalize();
	
	//calculate z axis as perpendicular to both x and y
	this.z.copy(this.x);
	this.z.cross(this.y);
	this.z.normalize();
}

// lerp this basis towards another basis
MEIRO.Basis.prototype.lerp = function(otherBasis,k)
{
	this.o.lerp(otherBasis.o,k);
	this.x.lerp(otherBasis.x,k);
	this.y.lerp(otherBasis.y,k);
	this.z.lerp(otherBasis.z,k);
	
	// make axes orthogonal keeping y unchanged
	this.y.normalize();
	
	// X = YxZ
	this.x.copy(this.y);
	this.x.cross(this.z);
	this.x.normalize();
	
	// Z = XxY
	this.z.copy(this.x);
	this.z.cross(this.y);
	this.z.normalize();
}

// lerp two bases 
MEIRO.Basis.prototype.lerpBases = function(firstBasis,otherBasis,k)
{
	this.o.lerpVectors(firstBasis,otherBasis.o,k);
	this.x.lerpVectors(firstBasis,otherBasis.x,k);
	this.y.lerpVectors(firstBasis,otherBasis.y,k);
	this.z.lerpVectors(firstBasis,otherBasis.z,k);
	
	// make axes orthogonal keeping y unchanged
	this.y.normalize();
	
	// X = YxZ
	this.x.copy(this.y);
	this.x.cross(this.z);
	this.x.normalize();
	
	// Z = XxY
	this.z.copy(this.x);
	this.z.cross(this.y);
	this.z.normalize();
}


// set basis from object's matrix
MEIRO.Basis.prototype.setFromObject = function(object)
{
	object.matrix.extractBasis(this.x,this.y,this.z);
	this.o.setFromMatrixPosition(object.matrix);
}

// apply to object's matrix
MEIRO.Basis.prototype.apply = function(object)
{
	object.matrix.makeBasis(this.x,this.y,this.z);
	object.matrix.setPosition(this.o);
	object.updateMatrixWorld();
}

// apply to object's matrix
MEIRO.Basis.prototype.applyScaled = function(object,scale)
{
	var x = this.x.clone().multiplyScalar(scale);
	var y = this.y.clone().multiplyScalar(scale);
	var z = this.z.clone().multiplyScalar(scale);
	object.matrix.makeBasis(x,y,z);
	object.matrix.setPosition(this.o);
	object.updateMatrixWorld();
}


// calculate position
MEIRO.Basis.prototype.position = function(x,y,z)
{
	var p = this.o.clone();
	p.addScaledVector(this.x,x);
	p.addScaledVector(this.y,y);
	p.addScaledVector(this.z,z);
	return p;
}


// ===========================================================================
// Bezier3D class
// ===========================================================================
MEIRO.Bezier3D = function(n,precision)
{
	this.type = 'meiro.bezier3d';
	
	this.n = n;
	
	var points = [];
	for (var i=0; i<n; i++)
	{
		points.push( [] );
		for (var j=0; j<n; j++)
			points[i].push( new THREE.Vector4(i-(this.n-1)/2,0,j-(this.n-1)/2,1) );
	}

	var knots = [];
	for (var i=0; i<2*n; i++)
		knots.push( (i<n)?0:1 );
	
	var that = this;
	this.surface = new THREE.NURBSSurface(n-1,n-1,knots,knots,points);
	function getSurfacePoint(u,v)
	{
		return that.surface.getPoint(u,v);
	}

	if (!precision)
		precision = options.lowpoly?10:30;
		
	this.geometry = new THREE.ParametricBufferGeometry( getSurfacePoint, precision, precision );
	this.material = MEIRO.PRIMITIVE.STYLE.BEZIER3D;

	THREE.Mesh.call(this, this.geometry, this.material);
}
MEIRO.Bezier3D.prototype = Object.create(THREE.Mesh.prototype);


MEIRO.Bezier3D.prototype.setControlPoint = function(i,j,x,y,z)
{
	var p = this.surface.controlPoints;
	p[i][j].x = x;
	p[i][j].y = y;
	p[i][j].z = z;
}


MEIRO.Bezier3D.prototype.recalculate = function()
{
	var EPS = 0.00001;
	var normal = new THREE.Vector3();
	var p0 = new THREE.Vector3(), p1 = new THREE.Vector3();
	var pu = new THREE.Vector3(), pv = new THREE.Vector3();
	var geom = this.geometry;
	var pos = geom.attributes.position.array;
	var nor = geom.attributes.normal.array;
	var param = geom.parameters;
	var i, j, k=0,m=0;

	for (i=0; i<=param.stacks; i++)
	{
		var v = i/param.stacks;
		for (j=0; j<=param.slices; j++)
		{
			var u = j/param.slices;
			p0 = param.func(u,v);
			pos[k++] = p0.x;
			pos[k++] = p0.y;
			pos[k++] = p0.z;

			if (u-EPS>=0)
			{
				p1 = param.func(u-EPS,v);
				pu.subVectors(p0,p1);
			}
			else
			{
				p1 = param.func(u+EPS,v);
				pu.subVectors(p1,p0);
			}

			if (v-EPS>=0)
			{
				p1 = param.func(u,v-EPS);
				pv.subVectors(p0,p1);
			}
			else
			{
				p1 = param.func(u,v+EPS);
				pv.subVectors(p1,p0);
			}

			normal.crossVectors(pu,pv).normalize();
			nor[m++] = normal.x;
			nor[m++] = normal.y;
			nor[m++] = normal.z;
		}
	}	
	geom.attributes.position.needsUpdate = true;
	geom.attributes.normal.needsUpdate = true;
}
/**
 * @author alteredq / http://alteredqualia.com/
 *
 * Full-screen textured quad shader
 */

THREE.CopyShader = {

	uniforms: {

		"tDiffuse": { value: null },
		"opacity":  { value: 1.0 }

	},

	vertexShader: [

		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [

		"uniform float opacity;",

		"uniform sampler2D tDiffuse;",

		"varying vec2 vUv;",

		"void main() {",

			"vec4 texel = texture2D( tDiffuse, vUv );",
			"gl_FragColor = opacity * texel;",

		"}"

	].join( "\n" )

};
/**
 * @author alteredq / http://alteredqualia.com/
 */

THREE.EffectComposer = function ( renderer, renderTarget ) {

	this.renderer = renderer;

	if ( renderTarget === undefined ) {

		var parameters = {
			minFilter: THREE.LinearFilter,
			magFilter: THREE.LinearFilter,
			format: THREE.RGBAFormat,
			stencilBuffer: false
		};
		var size = renderer.getSize();
		renderTarget = new THREE.WebGLRenderTarget( size.width, size.height, parameters );

	}

	this.renderTarget1 = renderTarget;
	this.renderTarget2 = renderTarget.clone();

	this.writeBuffer = this.renderTarget1;
	this.readBuffer = this.renderTarget2;

	this.passes = [];

	if ( THREE.CopyShader === undefined )
		console.error( "THREE.EffectComposer relies on THREE.CopyShader" );

	this.copyPass = new THREE.ShaderPass( THREE.CopyShader );

};

Object.assign( THREE.EffectComposer.prototype, {

	swapBuffers: function() {

		var tmp = this.readBuffer;
		this.readBuffer = this.writeBuffer;
		this.writeBuffer = tmp;

	},

	addPass: function ( pass ) {

		this.passes.push( pass );

		var size = this.renderer.getSize();
		pass.setSize( size.width, size.height );

	},

	insertPass: function ( pass, index ) {

		this.passes.splice( index, 0, pass );

	},

	render: function ( delta ) {

		var maskActive = false;

		var pass, i, il = this.passes.length;

		for ( i = 0; i < il; i ++ ) {

			pass = this.passes[ i ];

			if ( pass.enabled === false ) continue;

			pass.render( this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive );

			if ( pass.needsSwap ) {

				if ( maskActive ) {

					var context = this.renderer.context;

					context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );

					this.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, delta );

					context.stencilFunc( context.EQUAL, 1, 0xffffffff );

				}

				this.swapBuffers();

			}

			if ( THREE.MaskPass !== undefined ) {

				if ( pass instanceof THREE.MaskPass ) {

					maskActive = true;

				} else if ( pass instanceof THREE.ClearMaskPass ) {

					maskActive = false;

				}

			}

		}

	},

	reset: function ( renderTarget ) {

		if ( renderTarget === undefined ) {

			var size = this.renderer.getSize();

			renderTarget = this.renderTarget1.clone();
			renderTarget.setSize( size.width, size.height );

		}

		this.renderTarget1.dispose();
		this.renderTarget2.dispose();
		this.renderTarget1 = renderTarget;
		this.renderTarget2 = renderTarget.clone();

		this.writeBuffer = this.renderTarget1;
		this.readBuffer = this.renderTarget2;

	},

	setSize: function ( width, height ) {

		this.renderTarget1.setSize( width, height );
		this.renderTarget2.setSize( width, height );

		for ( var i = 0; i < this.passes.length; i ++ ) {

			this.passes[i].setSize( width, height );

		}

	}

} );


THREE.Pass = function () {

	// if set to true, the pass is processed by the composer
	this.enabled = true;

	// if set to true, the pass indicates to swap read and write buffer after rendering
	this.needsSwap = true;

	// if set to true, the pass clears its buffer before rendering
	this.clear = false;

	// if set to true, the result of the pass is rendered to screen
	this.renderToScreen = false;

};

Object.assign( THREE.Pass.prototype, {

	setSize: function( width, height ) {},

	render: function ( renderer, writeBuffer, readBuffer, delta, maskActive ) {

		console.error( "THREE.Pass: .render() must be implemented in derived pass." );

	}

} );
/**
 * @author alteredq / http://alteredqualia.com/
 */

THREE.RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {

	THREE.Pass.call( this );

	this.scene = scene;
	this.camera = camera;

	this.overrideMaterial = overrideMaterial;

	this.clearColor = clearColor;
	this.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;

	this.clear = true;
	this.clearDepth = false;
	this.needsSwap = false;

};

THREE.RenderPass.prototype = Object.assign( Object.create( THREE.Pass.prototype ), {

	constructor: THREE.RenderPass,

	render: function ( renderer, writeBuffer, readBuffer, delta, maskActive ) {
		if (!this.scene)
		{
			if (!controls || !controls.room || !controls.room.model) return;
			// use controls.room.model.image instead of this.scene
			var oldAutoClear = renderer.autoClear;
			renderer.autoClear = false;
			controls.room.model.image.overrideMaterial = this.overrideMaterial;
			var oldClearColor, oldClearAlpha;
			renderer.render( controls.room.model.image, this.camera, this.renderToScreen ? null : readBuffer, false );
			controls.room.model.image.overrideMaterial = null;
			renderer.autoClear = oldAutoClear;
			return;
		}
		
		var oldAutoClear = renderer.autoClear;
		renderer.autoClear = false;

		this.scene.overrideMaterial = this.overrideMaterial;

		var oldClearColor, oldClearAlpha;

		if ( this.clearColor ) {

			oldClearColor = renderer.getClearColor().getHex();
			oldClearAlpha = renderer.getClearAlpha();

			renderer.setClearColor( this.clearColor, this.clearAlpha );

		}

		if ( this.clearDepth ) {

			renderer.clearDepth();

		}

		renderer.render( this.scene, this.camera, this.renderToScreen ? null : readBuffer, this.clear );

		if ( this.clearColor ) {

			renderer.setClearColor( oldClearColor, oldClearAlpha );

		}

		this.scene.overrideMaterial = null;
		renderer.autoClear = oldAutoClear;
	}

} );
/**
 * @author alteredq / http://alteredqualia.com/
 */

THREE.ShaderPass = function ( shader, textureID ) {

	THREE.Pass.call( this );

	this.textureID = ( textureID !== undefined ) ? textureID : "tDiffuse";

	if ( shader instanceof THREE.ShaderMaterial ) {

		this.uniforms = shader.uniforms;

		this.material = shader;

	} else if ( shader ) {

		this.uniforms = THREE.UniformsUtils.clone( shader.uniforms );

		this.material = new THREE.ShaderMaterial( {

			defines: shader.defines || {},
			uniforms: this.uniforms,
			vertexShader: shader.vertexShader,
			fragmentShader: shader.fragmentShader

		} );

	}

	this.camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );
	this.scene = new THREE.Scene();

	this.quad = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), null );
	this.quad.frustumCulled = false; // Avoid getting clipped
	this.scene.add( this.quad );

};

THREE.ShaderPass.prototype = Object.assign( Object.create( THREE.Pass.prototype ), {

	constructor: THREE.ShaderPass,

	render: function( renderer, writeBuffer, readBuffer, delta, maskActive ) {

		if ( this.uniforms[ this.textureID ] ) {

			this.uniforms[ this.textureID ].value = readBuffer.texture;

		}

		this.quad.material = this.material;

		if ( this.renderToScreen ) {

			renderer.render( this.scene, this.camera );

		} else {

			renderer.render( this.scene, this.camera, writeBuffer, this.clear );

		}

	}

} );
﻿//	MEIRO
//	Ambient Occlusion
//
//	MEIRO.AO() class
//	 ├─ screenAO
//	 ├─ render(screen, camera)
//	 └─
//
//	MEIRO.FSSAO class - default FSSAO
//	 ├─ shader
//	 ├─ render(scene,camera)
//	 └─ onWindowResize()
//
//	MEIRO.SAO class
//	 ├─ shader
//	 ├─ render(scene,camera)
//	 └─ onWindowResize()
//
//	2017.05 - P. Boytchev


// AO constructor
MEIRO.AO = function()
{
	if (options.SSAO || options.SAO || options.NNAO) 
	{
		// initialize AO parameters
		params = {
			combine: true, //PB:was: false,
			
			widthMultiplier: 1.0,
			heightMultiplier: 1.0,
			
			renderMode: 'ScalableAmbientObscurance', //PB:was: "Default",
			//SAO
			saoSamples: 30, //PB:was: 11,
			saoSpiralTurns: 7.0,
			saoRadius: 0.20,
			saoIntensity: 0.38, //PB:was: 1.0,
			saoBias: 0.01,
			saoAmbientContribution: 1.0, //PB:was: 0.2,
			
			// blur
			saoBlur: true, //PB:was: false,
			saoBlurR:  6,
			saoBlurScale: 1.0,
			saoBlurEdgeSharpness: 0.5, //PB:was: 0.01,
			
			//ssao arkano22
			aoClamp: 1.0, //PB:was: 0.5,
			lumInfluence: 0.5,
			samples: 8,
			useNoise: false,
			noiseAmount: 0.0003,
			radius: 5.0,
			diffArea: 0.4,
			gaussDisplace: 0.4,
		};
		
		var minWidthMultiplier = 0.1;
		var maxWidthMultiplier = 2.0;
		var minHeightMultiplier = 0.1;
		var maxHeightMultiplier = 2.0;
		var gui = new dat.GUI();
		
		// Init gui
		var gui = new dat.GUI();
		gui.add( params, "widthMultiplier", minWidthMultiplier, maxWidthMultiplier );
		gui.add( params, "heightMultiplier", minHeightMultiplier, maxHeightMultiplier );
		gui.add( params, "combine" );
		gui.add( params, "renderMode", {
			'Default': "Default",
			'LinearDepth': "LinearDepth",
			'Normals': "Normals",
			'NormalsFromLinearDepth': "NormalsFromLinearDepth",
			'ScalableAmbientObscurance': "ScalableAmbientObscurance",
		});
	
		var guiSAO = gui.addFolder("SAO");
		guiSAO.add( params, "saoSamples", 1, 128, 1 ).name("samples");
		guiSAO.add( params, "saoSpiralTurns", [1,2,3,5,7,11,13,17,19,23] ).name("spiral turns");
		guiSAO.add( params, "saoRadius", 0.01, 5.0, 0.01 ).name("radius");
		guiSAO.add( params, "saoIntensity", 0.0, 10.0, 0.01 ).name("intensity");
		guiSAO.add( params, "saoBias", -1.0, 1.0, 0.01 ).name("bias");
		guiSAO.add( params, "saoAmbientContribution", 0.0, 1.0 ).name("ambient contribution");
		
		var guiSAOBlur = guiSAO.addFolder("Blur");
		guiSAOBlur.add( params, "saoBlur" ).name("enabled");
		guiSAOBlur.add( params, "saoBlurR", [3,4,6] ).name("blur radius");
		guiSAOBlur.add( params, "saoBlurScale", 0.0, 4.0 ).name("blur gaps");
		guiSAOBlur.add( params, "saoBlurEdgeSharpness", 0.0, 0.5 ).name("edge sharpness");
		
		var guiSSAO = gui.addFolder("SSAO");
		guiSSAO.add( params, "aoClamp", 0.0, 1.0 );
		guiSSAO.add( params, "lumInfluence", 0.0, 1.0 );
		guiSSAO.add( params, "samples", 1, 32);
		guiSSAO.add( params, "useNoise");
		guiSSAO.add( params, "noiseAmount", -0.003, 0.003);
		guiSSAO.add( params, "radius", 0.0);
		guiSSAO.add( params, "diffArea", 0.0, 1.0);
		guiSSAO.add( params, "gaussDisplace", 0.0, 1.0);
	}
	
	// setup the current screen AO
	this.screenAO = undefined;
	//console.log('FSSAO='+options.FSSAO,'SSAO='+options.SSAO,'SAO='+options.SAO,'NNAO='+options.NNAO);
	
	if (options.FSSAO) this.screenAO = new MEIRO.FSSAO();
	if (options.SSAO) this.screenAO = new MEIRO.SSAO(params);
	if (options.SAO) this.screenAO = new MEIRO.SAO(params);
	if (options.NNAO) this.screenAO = new MEIRO.NNAO(params);
}


MEIRO.AO.prototype.render = function(screen, camera)
{
	if (this.screenAO)
	{	// use the screen AO (SSAO or SAO)
		this.screenAO.render(scene, camera);
	}
	else
	{	// no screen AO, use normal Three.js renderer
		renderer.render(scene, camera);
		if (!options.modelOverlay)
		{
			// draw the model (if any)
			if (controls && controls.room && controls.room.model)
			{
				renderer.autoClear = false;
				renderer.render(controls.room.model.image, camera);
				renderer.autoClear = true;
			}
		}
	}
	
	if (options.modelOverlay)
	{
		// draw the model (if any)
		if (controls && controls.room && controls.room.model)
		{
			renderer.autoClearColor = false;
			renderer.render(controls.room.model.image, camera, null, false);
			renderer.autoClearColor = true;
		}
	}
}


// Add a cube - oriented along the axes (i.e. no rotation)
MEIRO.AO.prototype.cube = function(center,sizes,image)
{
	if (this.helper && image)
	{
		var mesh = new THREE.Mesh(MEIRO.AO.HELPER.CUBE, MEIRO.AO.HELPER.STYLE);
		mesh.scale.set(sizes.x,sizes.y,sizes.z);
		mesh.position.set(center.x,center.y,center.z);

		image.add(mesh);
	}
}


// Add a sphere - oriented along the axes (i.e. no rotation)
MEIRO.AO.prototype.sphere = function(center,sizes,image)
{
	if (this.helper && image)
	{
		var mesh = new THREE.Mesh(MEIRO.AO.HELPER.SPHERE, MEIRO.AO.HELPER.STYLE);
		mesh.scale.set(sizes.x,sizes.y,sizes.z);
		mesh.position.set(center.x,center.y,center.z);

		image.add(mesh);
	}
}



//=============================================================
// class supporting FSSAO
// based on https://threejs.org/examples/webgl_postprocessing_ssao.html
//=============================================================
MEIRO.FSSAO = function()
{
	// Setup render pass
	var renderPass = new THREE.RenderPass( scene, camera );
	var renderModelPass = new THREE.RenderPass( undefined, camera );

	// Setup depth pass
	this.depthMaterial = new THREE.MeshDepthMaterial();
	this.depthMaterial.depthPacking = THREE.RGBADepthPacking;
	this.depthMaterial.blending = THREE.NoBlending;

	this.depthRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth, window.innerHeight, {
			minFilter: THREE.LinearFilter,
			magFilter: THREE.LinearFilter,
			anisotropy: 16,
			stencilBuffer: false,
			antialias: true,
		});
	this.depthRenderTarget.texture.name = "SSAOShader.rt";

	// Setup FSSAO pass
	this.ssaoPass = new THREE.ShaderPass( MEIRO.SHADER.FSSAO );
	this.ssaoPass.renderToScreen = true;
	//this.ssaoPass.uniforms[ "tDiffuse" ].value will be set by ShaderPass
	this.ssaoPass.uniforms[ "tDepth" ].value = this.depthRenderTarget.texture;
	this.ssaoPass.uniforms[ 'size' ].value.set( window.innerWidth, window.innerHeight );
	this.ssaoPass.uniforms[ 'cameraNear' ].value = camera.near;	
	this.ssaoPass.uniforms[ 'cameraFar' ].value = camera.far;
	this.ssaoPass.uniforms[ 'aoClamp' ].value = 1.00;

	// Add pass to effect composer
	this.effectComposer = new THREE.EffectComposer( renderer );
	this.effectComposer.addPass( renderPass );
	this.effectComposer.addPass( renderModelPass );
	this.effectComposer.addPass( this.ssaoPass );
}





// renders the FSSAO image
MEIRO.FSSAO.prototype.render = function(scene,camera)
{
	// Render depth into depthRenderTarget
	scene.overrideMaterial = this.depthMaterial;
	renderer.render( scene, camera, this.depthRenderTarget, true );

	if (!options.modelOverlay)
	{
		if (controls && controls.room && controls.room.model)
		{
			renderer.autoClear = false;
			controls.room.model.image.overrideMaterial = this.depthMaterial;
			renderer.render( controls.room.model.image, camera, this.depthRenderTarget, false );
			renderer.autoClear = true;
		}
	}
 
	// Render renderPass and FSSAO shaderPass
	scene.overrideMaterial = null;
	this.effectComposer.render();
}


// event handler to react on windo resize
MEIRO.FSSAO.prototype.onWindowResize = function()
{
	this.ssaoPass.uniforms[ 'size' ].value.set( window.innerWidth, window.innerHeight );

	var pixelRatio = renderer.getPixelRatio();
	var newWidth  = Math.floor( window.innerWidth / pixelRatio ) || 1;
	var newHeight = Math.floor( window.innerHeight / pixelRatio ) || 1;
	this.depthRenderTarget.setSize( newWidth, newHeight );
	this.effectComposer.setSize( newWidth, newHeight );
}






//=============================================================
// class supporting SSAO
// based on https://threejs.org/examples/webgl_postprocessing_ssao.html
//=============================================================
MEIRO.SSAO = function(params)
{
	this.aoPass = new Arkano22SSAOPass(params);
}

// renders the SSAO image
MEIRO.SSAO.prototype.render = function(scene,camera)
{
	this.aoPass.updateParameters();
	this.aoPass.updateCamera(camera);
	this.aoPass.render(renderer, camera, scene);
}


// event handler to react on windo resize
MEIRO.SSAO.prototype.onWindowResize = function()
{
	this.aoPass.resize();
}



MEIRO.SAO = function(params) // TODO
{
	this.aoPass = new AOPass(params);
}


// renders the SAO image
MEIRO.SAO.prototype.render = function(scene,camera) // TO DO
{
	this.aoPass.updateCamera(camera);
	this.aoPass.updateParameters();
	this.aoPass.render(renderer, camera, scene, this.aoPass.params.renderMode);
}


// event handler to react on window resize
MEIRO.SAO.prototype.onWindowResize = function() // TO DO
{
	this.aoPass.resize();
}
/**
 * dat-gui JavaScript Controller Library
 * https://github.com/dataarts/dat.gui
 *
 * Copyright 2016 Data Arts Team, Google Creative Lab
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dat=t():e.dat=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),r=o(i);e.exports=r["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(2),r=o(i),a=n(6),l=o(a),s=n(3),u=o(s),d=n(7),c=o(d),f=n(8),_=o(f),p=n(10),h=o(p),m=n(11),b=o(m),g=n(12),v=o(g),y=n(13),w=o(y),x=n(14),E=o(x),C=n(15),A=o(C),S=n(16),k=o(S),O=n(9),T=o(O),R=n(17),L=o(R);t["default"]={color:{Color:r["default"],math:l["default"],interpret:u["default"]},controllers:{Controller:c["default"],BooleanController:_["default"],OptionController:h["default"],StringController:b["default"],NumberController:v["default"],NumberControllerBox:w["default"],NumberControllerSlider:E["default"],FunctionController:A["default"],ColorController:k["default"]},dom:{dom:T["default"]},gui:{GUI:L["default"]},GUI:L["default"]}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(h.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(h.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(h.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(h.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}t.__esModule=!0;var l=n(3),s=o(l),u=n(6),d=o(u),c=n(4),f=o(c),_=n(5),p=o(_),h=function(){function e(){if(i(this,e),this.__state=s["default"].apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return e.prototype.toString=function(){return(0,f["default"])(this)},e.prototype.toHexString=function(){return(0,f["default"])(this,!0)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();h.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=d["default"].component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");p["default"].extend(e.__state,d["default"].hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},h.recalculateHSV=function(e){var t=d["default"].rgb_to_hsv(e.r,e.g,e.b);p["default"].extend(e.__state,{s:t.s,v:t.v}),p["default"].isNaN(t.h)?p["default"].isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},h.COMPONENTS=["r","g","b","h","s","v","hex","a"],r(h.prototype,"r",2),r(h.prototype,"g",1),r(h.prototype,"b",0),a(h.prototype,"h"),a(h.prototype,"s"),a(h.prototype,"v"),Object.defineProperty(h.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(h.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=d["default"].rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t["default"]=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(4),r=o(i),a=n(5),l=o(a),s=[{litmus:l["default"].isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r["default"]},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r["default"]},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r["default"]},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r["default"]}}},{litmus:l["default"].isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:l["default"].isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:l["default"].isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(l["default"].isNumber(e.r)&&l["default"].isNumber(e.g)&&l["default"].isNumber(e.b)&&l["default"].isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(l["default"].isNumber(e.r)&&l["default"].isNumber(e.g)&&l["default"].isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(l["default"].isNumber(e.h)&&l["default"].isNumber(e.s)&&l["default"].isNumber(e.v)&&l["default"].isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(l["default"].isNumber(e.h)&&l["default"].isNumber(e.s)&&l["default"].isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],u=void 0,d=void 0,c=function(){d=!1;var e=arguments.length>1?l["default"].toArray(arguments):arguments[0];return l["default"].each(s,function(t){if(t.litmus(e))return l["default"].each(t.conversions,function(t,n){if(u=t.read(e),d===!1&&u!==!1)return d=u,u.conversionName=n,u.conversion=t,l["default"].BREAK}),l["default"].BREAK}),d};t["default"]=c},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),a=e.a,l=Math.round(e.h),s=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var d=e.hex.toString(16);d.length<6;)d="0"+d;return"#"+d}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+a+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+l+",s:"+s+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+l+",s:"+s+",v:"+u+",a:"+a+"}":"unknown format"}},function(e,t){"use strict";t.__esModule=!0;var n=Array.prototype.forEach,o=Array.prototype.slice,i={BREAK:{},extend:function(e){return this.each(o.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(o.call(arguments,1),function(t){var n=this.isObject(t)?Object.keys(t):[];n.forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=o.call(arguments);return function(){for(var t=o.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,o){if(e)if(n&&e.forEach&&e.forEach===n)e.forEach(t,o);else if(e.length===e.length+0){var i=void 0,r=void 0;for(i=0,r=e.length;i<r;i++)if(i in e&&t.call(o,e[i],i)===this.BREAK)return}else for(var a in e)if(t.call(o,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t){var n=void 0;return function(){function o(){n=null}var i=this,r=arguments,a=!n;clearTimeout(n),n=setTimeout(o,t),a&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():o.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};t["default"]=i},function(e,t){"use strict";t.__esModule=!0;var n=void 0,o={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),a=n*(1-i*t),l=n*(1-(1-i)*t),s=[[n,l,r],[a,n,r],[r,n,l],[r,a,n],[l,r,n],[n,r,a]][o];return{r:255*s[0],g:255*s[1],b:255*s[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,a=void 0,l=void 0;return 0===i?{h:NaN,s:0,v:0}:(l=r/i,a=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,a/=6,a<0&&(a+=1),{h:360*a,s:l,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,o){return o<<(n=8*t)|e&~(255<<n)}};t["default"]=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(t,o){n(this,e),this.initialValue=t[o],this.domElement=document.createElement("div"),this.object=t,this.property=o,this.__onChange=void 0,this.__onFinishChange=void 0}return e.prototype.onChange=function(e){return this.__onChange=e,this},e.prototype.onFinishChange=function(e){return this.__onFinishChange=e,this},e.prototype.setValue=function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},e.prototype.getValue=function(){return this.object[this.property]},e.prototype.updateDisplay=function(){return this},e.prototype.isModified=function(){return this.initialValue!==this.getValue()},e}();t["default"]=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(7),s=o(l),u=n(9),d=o(u),c=function(e){function t(n,o){function a(){s.setValue(!s.__prev)}i(this,t);var l=r(this,e.call(this,n,o)),s=l;return l.__prev=l.getValue(),l.__checkbox=document.createElement("input"),l.__checkbox.setAttribute("type","checkbox"),d["default"].bind(l.__checkbox,"change",a,!1),l.domElement.appendChild(l.__checkbox),l.updateDisplay(),l}return a(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n},t.prototype.updateDisplay=function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,e.prototype.updateDisplay.call(this)},t}(s["default"]);t["default"]=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){if("0"===e||a["default"].isUndefined(e))return 0;var t=e.match(u);return a["default"].isNull(t)?0:parseFloat(t[1])}t.__esModule=!0;var r=n(5),a=o(r),l={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},s={};a["default"].each(l,function(e,t){a["default"].each(e,function(e){s[e]=t})});var u=/(\d+(\.\d+)?)px/,d={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,i=t;a["default"].isUndefined(i)&&(i=!0),a["default"].isUndefined(o)&&(o=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var i=n||{},r=s[t];if(!r)throw new Error("Event type "+t+" not supported.");var l=document.createEvent(r);switch(r){case"MouseEvents":var u=i.x||i.clientX||0,d=i.y||i.clientY||0;l.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,d,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=l.initKeyboardEvent||l.initKeyEvent;a["default"].defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:l.initEvent(t,i.bubbles||!1,i.cancelable||!0)}a["default"].defaults(l,o),e.dispatchEvent(l)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),d},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),d},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);n.indexOf(t)===-1&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return d},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);o!==-1&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return d},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t["border-left-width"])+i(t["border-right-width"])+i(t["padding-left"])+i(t["padding-right"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t["border-top-width"])+i(t["border-bottom-width"])+i(t["padding-top"])+i(t["padding-bottom"])+i(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};t["default"]=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(7),s=o(l),u=n(9),d=o(u),c=n(5),f=o(c),_=function(e){function t(n,o,a){i(this,t);var l=r(this,e.call(this,n,o)),s=a,u=l;return l.__select=document.createElement("select"),f["default"].isArray(s)&&!function(){var e={};f["default"].each(s,function(t){e[t]=t}),s=e}(),f["default"].each(s,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),u.__select.appendChild(n)}),l.updateDisplay(),d["default"].bind(l.__select,"change",function(){var e=this.options[this.selectedIndex].value;u.setValue(e)}),l.domElement.appendChild(l.__select),l}return a(t,e),t.prototype.setValue=function(t){var n=e.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n},t.prototype.updateDisplay=function(){return d["default"].isActive(this.__select)?this:(this.__select.value=this.getValue(),e.prototype.updateDisplay.call(this))},t}(s["default"]);t["default"]=_},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(7),s=o(l),u=n(9),d=o(u),c=function(e){function t(n,o){function a(){u.setValue(u.__input.value)}function l(){u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}i(this,t);var s=r(this,e.call(this,n,o)),u=s;return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),d["default"].bind(s.__input,"keyup",a),d["default"].bind(s.__input,"change",a),d["default"].bind(s.__input,"blur",l),d["default"].bind(s.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return a(t,e),t.prototype.updateDisplay=function(){return d["default"].isActive(this.__input)||(this.__input.value=this.getValue()),e.prototype.updateDisplay.call(this)},t}(s["default"]);t["default"]=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}t.__esModule=!0;var s=n(7),u=o(s),d=n(5),c=o(d),f=function(e){function t(n,o,a){i(this,t);var s=r(this,e.call(this,n,o)),u=a||{};return s.__min=u.min,s.__max=u.max,s.__step=u.step,c["default"].isUndefined(s.__step)?0===s.initialValue?s.__impliedStep=1:s.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(s.initialValue))/Math.LN10))/10:s.__impliedStep=s.__step,s.__precision=l(s.__impliedStep),s}return a(t,e),t.prototype.setValue=function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!==0&&(n=Math.round(n/this.__step)*this.__step),e.prototype.setValue.call(this,n)},t.prototype.min=function(e){return this.__min=e,this},t.prototype.max=function(e){return this.__max=e,this},t.prototype.step=function(e){return this.__step=e,this.__impliedStep=e,this.__precision=l(e),this},t}(u["default"]);t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}t.__esModule=!0;var s=n(12),u=o(s),d=n(9),c=o(d),f=n(5),_=o(f),p=function(e){function t(n,o,a){function l(){var e=parseFloat(m.__input.value);_["default"].isNaN(e)||m.setValue(e)}function s(){m.__onFinishChange&&m.__onFinishChange.call(m,m.getValue())}function u(){s()}function d(e){var t=b-e.clientY;m.setValue(m.getValue()+t*m.__impliedStep),b=e.clientY}function f(){c["default"].unbind(window,"mousemove",d),c["default"].unbind(window,"mouseup",f),s()}function p(e){c["default"].bind(window,"mousemove",d),c["default"].bind(window,"mouseup",f),b=e.clientY}i(this,t);var h=r(this,e.call(this,n,o,a));h.__truncationSuspended=!1;var m=h,b=void 0;return h.__input=document.createElement("input"),h.__input.setAttribute("type","text"),c["default"].bind(h.__input,"change",l),c["default"].bind(h.__input,"blur",u),c["default"].bind(h.__input,"mousedown",p),c["default"].bind(h.__input,"keydown",function(e){13===e.keyCode&&(m.__truncationSuspended=!0,this.blur(),m.__truncationSuspended=!1,s())}),h.updateDisplay(),h.domElement.appendChild(h.__input),h}return a(t,e),t.prototype.updateDisplay=function(){return this.__input.value=this.__truncationSuspended?this.getValue():l(this.getValue(),this.__precision),e.prototype.updateDisplay.call(this)},t}(u["default"]);t["default"]=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,i){return o+(i-o)*((e-t)/(n-t))}t.__esModule=!0;var s=n(12),u=o(s),d=n(9),c=o(d),f=function(e){function t(n,o,a,s,u){function d(e){document.activeElement.blur(),c["default"].bind(window,"mousemove",f),c["default"].bind(window,"mouseup",_),f(e)}function f(e){e.preventDefault();var t=h.__background.getBoundingClientRect();return h.setValue(l(e.clientX,t.left,t.right,h.__min,h.__max)),!1}function _(){c["default"].unbind(window,"mousemove",f),c["default"].unbind(window,"mouseup",_),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}i(this,t);var p=r(this,e.call(this,n,o,{min:a,max:s,step:u})),h=p;return p.__background=document.createElement("div"),p.__foreground=document.createElement("div"),c["default"].bind(p.__background,"mousedown",d),c["default"].addClass(p.__background,"slider"),c["default"].addClass(p.__foreground,"slider-fg"),p.updateDisplay(),p.__background.appendChild(p.__foreground),p.domElement.appendChild(p.__background),p}return a(t,e),t.prototype.updateDisplay=function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",e.prototype.updateDisplay.call(this)},t}(u["default"]);t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=n(7),s=o(l),u=n(9),d=o(u),c=function(e){function t(n,o,a){i(this,t);var l=r(this,e.call(this,n,o)),s=l;return l.__button=document.createElement("div"),l.__button.innerHTML=void 0===a?"Fire":a,d["default"].bind(l.__button,"click",function(e){return e.preventDefault(),s.fire(),!1}),d["default"].addClass(l.__button,"button"),l.domElement.appendChild(l.__button),l}return a(t,e),t.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},t}(s["default"]);t["default"]=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o){e.style.background="",g["default"].each(y,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}function s(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}t.__esModule=!0;var u=n(7),d=o(u),c=n(9),f=o(c),_=n(2),p=o(_),h=n(3),m=o(h),b=n(5),g=o(b),v=function(e){function t(n,o){function a(e){h(e),f["default"].bind(window,"mousemove",h),f["default"].bind(window,"mouseup",u)}function u(){f["default"].unbind(window,"mousemove",h),f["default"].unbind(window,"mouseup",u),_()}function d(){var e=(0,m["default"])(this.value);e!==!1?(y.__color.__state=e,y.setValue(y.__color.toOriginal())):this.value=y.__color.toString()}function c(){f["default"].unbind(window,"mousemove",b),f["default"].unbind(window,"mouseup",c),_()}function _(){y.__onFinishChange&&y.__onFinishChange.call(y,y.__color.toOriginal())}function h(e){e.preventDefault();var t=y.__saturation_field.getBoundingClientRect(),n=(e.clientX-t.left)/(t.right-t.left),o=1-(e.clientY-t.top)/(t.bottom-t.top);return o>1?o=1:o<0&&(o=0),n>1?n=1:n<0&&(n=0),y.__color.v=o,y.__color.s=n,y.setValue(y.__color.toOriginal()),!1}function b(e){e.preventDefault();var t=y.__hue_field.getBoundingClientRect(),n=1-(e.clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),y.__color.h=360*n,y.setValue(y.__color.toOriginal()),!1}i(this,t);var v=r(this,e.call(this,n,o));v.__color=new p["default"](v.getValue()),v.__temp=new p["default"](0);var y=v;v.domElement=document.createElement("div"),f["default"].makeSelectable(v.domElement,!1),v.__selector=document.createElement("div"),v.__selector.className="selector",v.__saturation_field=document.createElement("div"),v.__saturation_field.className="saturation-field",v.__field_knob=document.createElement("div"),v.__field_knob.className="field-knob",v.__field_knob_border="2px solid ",v.__hue_knob=document.createElement("div"),v.__hue_knob.className="hue-knob",v.__hue_field=document.createElement("div"),v.__hue_field.className="hue-field",v.__input=document.createElement("input"),v.__input.type="text",v.__input_textShadow="0 1px 1px ",f["default"].bind(v.__input,"keydown",function(e){13===e.keyCode&&d.call(this)}),f["default"].bind(v.__input,"blur",d),f["default"].bind(v.__selector,"mousedown",function(){f["default"].addClass(this,"drag").bind(window,"mouseup",function(){f["default"].removeClass(y.__selector,"drag")})});var w=document.createElement("div");return g["default"].extend(v.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),g["default"].extend(v.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:v.__field_knob_border+(v.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),g["default"].extend(v.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),g["default"].extend(v.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),g["default"].extend(w.style,{width:"100%",height:"100%",background:"none"}),l(w,"top","rgba(0,0,0,0)","#000"),g["default"].extend(v.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),s(v.__hue_field),g["default"].extend(v.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:v.__input_textShadow+"rgba(0,0,0,0.7)"}),f["default"].bind(v.__saturation_field,"mousedown",a),f["default"].bind(v.__field_knob,"mousedown",a),f["default"].bind(v.__hue_field,"mousedown",function(e){b(e),f["default"].bind(window,"mousemove",b),f["default"].bind(window,"mouseup",c)}),v.__saturation_field.appendChild(w),v.__selector.appendChild(v.__field_knob),v.__selector.appendChild(v.__saturation_field),v.__selector.appendChild(v.__hue_field),v.__hue_field.appendChild(v.__hue_knob),v.domElement.appendChild(v.__input),v.domElement.appendChild(v.__selector),v.updateDisplay(),v}return a(t,e),t.prototype.updateDisplay=function(){var e=(0,m["default"])(this.getValue());if(e!==!1){var t=!1;g["default"].each(p["default"].COMPONENTS,function(n){if(!g["default"].isUndefined(e[n])&&!g["default"].isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&g["default"].extend(this.__color.__state,e)}g["default"].extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;g["default"].extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,l(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),g["default"].extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})},t}(d["default"]),y=["-moz-","-o-","-webkit-","-ms-",""];t["default"]=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function r(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];t?n.innerHTML=n.value+"*":n.innerHTML=n.value}function a(e,t,n){if(n.__li=t,n.__gui=e,U["default"].extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),s(e,n.object,n.property,{before:o,factoryArgs:[U["default"].toArray(arguments)]})}if(U["default"].isArray(t)||U["default"].isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),s(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){
return n.__gui.remove(n),n}}),n instanceof B["default"])!function(){var e=new N["default"](n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});U["default"].each(["updateDisplay","onChange","onFinishChange","step"],function(t){var o=n[t],i=e[t];n[t]=e[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(e,t),o.apply(n,t)}}),z["default"].addClass(t,"has-slider"),n.domElement.insertBefore(e.domElement,n.domElement.firstElementChild)}();else if(n instanceof N["default"]){var o=function(t){if(U["default"].isNumber(n.__min)&&U["default"].isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=s(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return t};n.min=U["default"].compose(o,n.min),n.max=U["default"].compose(o,n.max)}else n instanceof O["default"]?(z["default"].bind(t,"click",function(){z["default"].fakeEvent(n.__checkbox,"click")}),z["default"].bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof R["default"]?(z["default"].bind(t,"click",function(){z["default"].fakeEvent(n.__button,"click")}),z["default"].bind(t,"mouseover",function(){z["default"].addClass(n.__button,"hover")}),z["default"].bind(t,"mouseout",function(){z["default"].removeClass(n.__button,"hover")})):n instanceof j["default"]&&(z["default"].addClass(t,"color"),n.updateDisplay=U["default"].compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=U["default"].compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&r(e.getRoot(),!0),t},n.setValue)}function l(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(o!==-1){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[e.preset])a=r[e.preset];else{if(!r[Q])return;a=r[Q]}if(a[o]&&void 0!==a[o][t.property]){var l=a[o][t.property];t.initialValue=l,t.setValue(l)}}}}function s(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var r=void 0;if(o.color)r=new j["default"](t,n);else{var s=[t,n].concat(o.factoryArgs);r=C["default"].apply(e,s)}o.before instanceof S["default"]&&(o.before=o.before.__li),l(e,r),z["default"].addClass(r.domElement,"c");var u=document.createElement("span");z["default"].addClass(u,"property-name"),u.innerHTML=r.property;var d=document.createElement("div");d.appendChild(u),d.appendChild(r.domElement);var c=i(e,d,o.before);return z["default"].addClass(c,oe.CLASS_CONTROLLER_ROW),r instanceof j["default"]?z["default"].addClass(c,"color"):z["default"].addClass(c,g(r.getValue())),a(e,c,r),e.__controllers.push(r),r}function u(e,t){return document.location.href+"."+t}function d(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function c(e,t){t.style.display=e.useLocalStorage?"block":"none"}function f(e){var t=e.__save_row=document.createElement("li");z["default"].addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),z["default"].addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",z["default"].addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",z["default"].addClass(o,"button"),z["default"].addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",z["default"].addClass(i,"button"),z["default"].addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",z["default"].addClass(r,"button"),z["default"].addClass(r,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?U["default"].each(e.load.remembered,function(t,n){d(e,n,n===e.preset)}):d(e,Q,!1),z["default"].bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),q&&!function(){var t=document.getElementById("dg-local-explain"),n=document.getElementById("dg-local-storage"),o=document.getElementById("dg-save-locally");o.style.display="block","true"===localStorage.getItem(u(e,"isLocal"))&&n.setAttribute("checked","checked"),c(e,t),z["default"].bind(n,"change",function(){e.useLocalStorage=!e.useLocalStorage,c(e,t)})}();var l=document.getElementById("dg-new-constructor");z["default"].bind(l,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Z.hide()}),z["default"].bind(n,"click",function(){l.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Z.show(),l.focus(),l.select()}),z["default"].bind(o,"click",function(){e.save()}),z["default"].bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),z["default"].bind(r,"click",function(){e.revert()})}function _(e){function t(t){return t.preventDefault(),e.width+=i-t.clientX,e.onResize(),i=t.clientX,!1}function n(){z["default"].removeClass(e.__closeButton,oe.CLASS_DRAG),z["default"].unbind(window,"mousemove",t),z["default"].unbind(window,"mouseup",n)}function o(o){return o.preventDefault(),i=o.clientX,z["default"].addClass(e.__closeButton,oe.CLASS_DRAG),z["default"].bind(window,"mousemove",t),z["default"].bind(window,"mouseup",n),!1}var i=void 0;e.__resize_handle=document.createElement("div"),U["default"].extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),z["default"].bind(e.__resize_handle,"mousedown",o),z["default"].bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function p(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function h(e,t){var n={};return U["default"].each(e.__rememberedObjects,function(o,i){var r={},a=e.__rememberedObjectIndecesToControllers[i];U["default"].each(a,function(e,n){r[n]=t?e.initialValue:e.getValue()}),n[i]=r}),n}function m(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function b(e){0!==e.length&&D["default"].call(window,function(){b(e)}),U["default"].each(e,function(e){e.updateDisplay()})}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},v=n(18),y=o(v),w=n(19),x=o(w),E=n(20),C=o(E),A=n(7),S=o(A),k=n(8),O=o(k),T=n(15),R=o(T),L=n(13),N=o(L),M=n(14),B=o(M),H=n(16),j=o(H),P=n(21),D=o(P),V=n(22),F=o(V),I=n(9),z=o(I),G=n(5),U=o(G),X=n(23),K=o(X);y["default"].inject(K["default"]);var Y="dg",J=72,W=20,Q="Default",q=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),Z=void 0,$=!0,ee=void 0,te=!1,ne=[],oe=function ie(e){function t(){var e=n.getRoot();e.width+=1,U["default"].defer(function(){e.width-=1})}var n=this,o=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),z["default"].addClass(this.domElement,Y),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=U["default"].defaults(o,{autoPlace:!0,width:ie.DEFAULT_WIDTH}),o=U["default"].defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),U["default"].isUndefined(o.load)?o.load={preset:Q}:o.preset&&(o.load.preset=o.preset),U["default"].isUndefined(o.parent)&&o.hideable&&ne.push(this),o.resizable=U["default"].isUndefined(o.parent)&&o.resizable,o.autoPlace&&U["default"].isUndefined(o.scrollable)&&(o.scrollable=!0);var r=q&&"true"===localStorage.getItem(u(this,"isLocal")),a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,m(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,p(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,titleRowName&&(titleRowName.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(e){o.closed=e,o.closed?z["default"].addClass(n.__ul,ie.CLASS_CLOSED):z["default"].removeClass(n.__ul,ie.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?ie.TEXT_OPEN:ie.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return r},set:function(e){q&&(r=e,e?z["default"].bind(window,"unload",a):z["default"].unbind(window,"unload",a),localStorage.setItem(u(n,"isLocal"),e))}}}),U["default"].isUndefined(o.parent)){if(o.closed=!1,z["default"].addClass(this.domElement,ie.CLASS_MAIN),z["default"].makeSelectable(this.domElement,!1),q&&r){n.useLocalStorage=!0;var l=localStorage.getItem(u(this,"gui"));l&&(o.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=ie.TEXT_CLOSED,z["default"].addClass(this.__closeButton,ie.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),z["default"].bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var s=document.createTextNode(o.name);z["default"].addClass(s,"controller-name");var d=i(n,s),c=function(e){return e.preventDefault(),n.closed=!n.closed,!1};z["default"].addClass(this.__ul,ie.CLASS_CLOSED),z["default"].addClass(d,"title"),z["default"].bind(d,"click",c),o.closed||(this.closed=!1)}o.autoPlace&&(U["default"].isUndefined(o.parent)&&($&&(ee=document.createElement("div"),z["default"].addClass(ee,Y),z["default"].addClass(ee,ie.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ee),$=!1),ee.appendChild(this.domElement),z["default"].addClass(this.domElement,ie.CLASS_AUTO_PLACE)),this.parent||p(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},z["default"].bind(window,"resize",this.__resizeHandler),z["default"].bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),z["default"].bind(this.__ul,"transitionend",this.__resizeHandler),z["default"].bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&_(this),a=function(){q&&"true"===localStorage.getItem(u(n,"isLocal"))&&localStorage.setItem(u(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,o.parent||t()};oe.toggleHide=function(){te=!te,U["default"].each(ne,function(e){e.domElement.style.display=te?"none":""})},oe.CLASS_AUTO_PLACE="a",oe.CLASS_AUTO_PLACE_CONTAINER="ac",oe.CLASS_MAIN="main",oe.CLASS_CONTROLLER_ROW="cr",oe.CLASS_TOO_TALL="taller-than-window",oe.CLASS_CLOSED="closed",oe.CLASS_CLOSE_BUTTON="close-button",oe.CLASS_DRAG="drag",oe.DEFAULT_WIDTH=245,oe.TEXT_CLOSED="Close Controls",oe.TEXT_OPEN="Open Controls",oe._keydownHandler=function(e){"text"===document.activeElement.type||e.which!==J&&e.keyCode!==J||oe.toggleHide()},z["default"].bind(window,"keydown",oe._keydownHandler,!1),U["default"].extend(oe.prototype,{add:function(e,t){return s(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return s(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;U["default"].defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&ee.removeChild(this.domElement),z["default"].unbind(window,"keydown",oe._keydownHandler,!1),z["default"].unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&z["default"].unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new oe(t);this.__folders[e]=n;var o=i(this,n.domElement);return z["default"].addClass(o,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=z["default"].getOffset(e.__ul).top,n=0;U["default"].each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=z["default"].getHeight(t))}),window.innerHeight-t-W<n?(z["default"].addClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-W+"px"):(z["default"].removeClass(e.domElement,oe.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&U["default"].defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:U["default"].debounce(function(){this.onResize()},200),remember:function(){if(U["default"].isUndefined(Z)&&(Z=new F["default"],Z.domElement.innerHTML=x["default"]),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;U["default"].each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&f(e),e.__rememberedObjects.indexOf(t)===-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&p(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=h(this)),e.folders={},U["default"].each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=h(this),r(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Q]=h(this,!0)),this.load.remembered[e]=h(this),this.preset=e,d(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){U["default"].each(this.__controllers,function(t){this.getRoot().load.remembered?l(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),U["default"].each(this.__folders,function(e){e.revert(e)}),e||r(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&b(this.__listening)},updateDisplay:function(){U["default"].each(this.__controllers,function(e){e.updateDisplay()}),U["default"].each(this.__folders,function(e){e.updateDisplay()})}}),e.exports=oe},function(e,t){"use strict";e.exports={load:function(e,t){var n=t||document,o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,n.getElementsByTagName("head")[0].appendChild(o)},inject:function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(r){}}}},function(e,t){e.exports="<div id=dg-save class=\"dg dialogue\"> Here's the new load parameter for your <code>GUI</code>'s constructor: <textarea id=dg-new-constructor></textarea> <div id=dg-save-locally> <input id=dg-local-storage type=checkbox /> Automatically save values to <code>localStorage</code> on exit. <div id=dg-local-explain>The values saved to <code>localStorage</code> will override those passed to <code>dat.GUI</code>'s constructor. This makes it easier to work incrementally, but <code>localStorage</code> is fragile, and your friends may not see the same values you do. </div> </div> </div>"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(10),r=o(i),a=n(13),l=o(a),s=n(14),u=o(s),d=n(11),c=o(d),f=n(15),_=o(f),p=n(8),h=o(p),m=n(5),b=o(m),g=function(e,t){var n=e[t];return b["default"].isArray(arguments[2])||b["default"].isObject(arguments[2])?new r["default"](e,t,arguments[2]):b["default"].isNumber(n)?b["default"].isNumber(arguments[2])&&b["default"].isNumber(arguments[3])?b["default"].isNumber(arguments[4])?new u["default"](e,t,arguments[2],arguments[3],arguments[4]):new u["default"](e,t,arguments[2],arguments[3]):b["default"].isNumber(arguments[4])?new l["default"](e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new l["default"](e,t,{min:arguments[2],max:arguments[3]}):b["default"].isString(n)?new c["default"](e,t):b["default"].isFunction(n)?new _["default"](e,t,""):b["default"].isBoolean(n)?new h["default"](e,t):null};t["default"]=g},function(e,t){"use strict";function n(e){setTimeout(e,1e3/60)}t.__esModule=!0,t["default"]=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(9),a=o(r),l=n(5),s=o(l),u=function(){function e(){i(this,e),this.backgroundElement=document.createElement("div"),s["default"].extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),a["default"].makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),s["default"].extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;a["default"].bind(this.backgroundElement,"click",function(){t.hide()})}return e.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),s["default"].defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},e.prototype.hide=function t(){var e=this,t=function n(){e.domElement.style.display="none",e.backgroundElement.style.display="none",a["default"].unbind(e.domElement,"webkitTransitionEnd",n),a["default"].unbind(e.domElement,"transitionend",n),a["default"].unbind(e.domElement,"oTransitionEnd",n)};a["default"].bind(this.domElement,"webkitTransitionEnd",t),a["default"].bind(this.domElement,"transitionend",t),a["default"].bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},e.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-a["default"].getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-a["default"].getHeight(this.domElement)/2+"px"},e}();t["default"]=u},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save>ul{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px Lucida Grande,sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}])});
AOPass = function(params)
{
	this.params = params;
	// create the buffers we will need
	var pars = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, stencilBuffer: false };
	this.depthRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier, pars );
	// we may not need this - just comment it if you don't need it
	this.normalsRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier, pars );
	this.diffuseRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth, window.innerHeight, pars );
	this.aoRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth*this.params.widthMultiplier, window.innerWidth*this.params.widthMultiplier, pars );
	
	// used for the postprocessing pass
	this.postPassScene = new THREE.Scene();
	this.postPassCamera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );
	this.postPassQuad = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), this.depthVisualizeMaterial );
	this.postPassQuad.frustumCulled = false; // Avoid getting clipped
	this.postPassScene.add( this.postPassQuad );
	
	
	var shader = undefined;
	var material = undefined;
		
	////////////////////////////////////////////////////////////////////////////////////////////
	//LINEAR DEPTH RGBA ENCODE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = EncodeLinearDepthRGBAShader;
	this.linearDepthRGBAEncodeMaterial = new THREE.RawShaderMaterial({
		defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
		
		
	////////////////////////////////////////////////////////////////////////////////////////////
	// NORMALS RGB ENCODE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = EncodeNormalsShader;
	this.normalsEncodeMaterial = new THREE.RawShaderMaterial({
		defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	
	////////////////////////////////////////////////////////////////////////////////////////////
	// NORMALS RGB ENCODE + LINEAR DEPTH A ENCODE
	////////////////////////////////////////////////////////////////////////////////////////////
	//...tbd
	
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//DEPTH VISUALIZE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = DepthVisualizeShader;
	this.depthVisualizeMaterial = new THREE.RawShaderMaterial({
    	defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.depthVisualizeMaterial;
	material.depthTest = false;
	material.uniforms.tDepth.value = this.depthRenderTarget.texture;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//TEXTURE VISUALIZE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = TextureVisualizeShader;
	this.textureVisualizeMaterial = new THREE.RawShaderMaterial({
    	defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.textureVisualizeMaterial;
	material.depthTest = false;
	material.uniforms.tTexture.value = this.normalsRenderTarget.texture;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//NORMALS FROM LINEAR DEPTH VISUALIZE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = NormalsFromLinearDepthVisualizeShader;
	this.normalsFromLinearDepthVisualizeMaterial = new THREE.RawShaderMaterial({
    	defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.normalsFromLinearDepthVisualizeMaterial;
	material.depthTest = false;
	material.uniforms.tDepth.value = this.depthRenderTarget.texture;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//SCALABLE AMBIENT OBSCURANCE SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = ScalableAmbientObscuranceShader;
	this.scalableAmbientObscuranceMaterial = new THREE.RawShaderMaterial({
    	defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.scalableAmbientObscuranceMaterial;
	material.depthTest = false;
	material.uniforms.tDepth.value = this.depthRenderTarget.texture;
	material.uniforms.tDiffuse.value = this.diffuseRenderTarget.texture;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//BILATERAL BLUR SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = BilateralBlurShader;
	this.bilateralBlurMaterial = new THREE.RawShaderMaterial({
    	defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.bilateralBlurMaterial;
	material.depthTest = false;
	material.uniforms.tAOResult.value = this.aoRenderTarget.texture;
	material.uniforms.tDiffuse.value = this.diffuseRenderTarget.texture;
	
	this.resize();
	this.updateParameters();
	
}

AOPass.prototype.resize = function()
{
	this.depthRenderTarget.setSize(window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier);
	this.normalsRenderTarget.setSize(window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier);
	this.aoRenderTarget.setSize(window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier);
	var material = undefined;
	
	material = this.normalsFromLinearDepthVisualizeMaterial;
	material.uniforms.uSize.value.set( 1.0/this.depthRenderTarget.width, 1.0/this.depthRenderTarget.height );
	
	material = this.scalableAmbientObscuranceMaterial;
	material.uniforms.uSize.value.set( 1.0/this.depthRenderTarget.width, 1.0/this.depthRenderTarget.height );
}

AOPass.prototype.updateCamera = function(camera)
{
	var material = undefined;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//LINEAR DEPTH RGBA ENCODE
	////////////////////////////////////////////////////////////////////////////////////////////
	material = this.linearDepthRGBAEncodeMaterial;
	material.uniforms.uCameraNear.value = camera.near;
	material.uniforms.uCameraNearMinusCameraFarInv.value = 1.0/(camera.near-camera.far);
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//NORMALS FROM LINEAR DEPTH VISUALIZE
	////////////////////////////////////////////////////////////////////////////////////////////
	material = this.normalsFromLinearDepthVisualizeMaterial;
	material.uniforms.uCameraNear.value = camera.near;
	material.uniforms.uCameraNearMinusCameraFar.value = camera.near-camera.far;
	material.uniforms.uInverseProjectionAB.value.set( 1.0/camera.projectionMatrix.elements[0],1.0/camera.projectionMatrix.elements[5]);
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//SCALABLE AMBIENT OBSCURANCE SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	material = this.scalableAmbientObscuranceMaterial;
	material.uniforms.uCameraNear.value = camera.near;
	material.uniforms.uCameraNearMinusCameraFar.value = camera.near-camera.far;
	material.uniforms.uInverseProjectionAB.value.set( 1.0/camera.projectionMatrix.elements[0],1.0/camera.projectionMatrix.elements[5]);
}

AOPass.prototype.updateParameters = function()
{
	////////////////////////////////////////////////////////////////////////////////////////////
	//SCALABLE AMBIENT OBSCURANCE SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	var material = this.scalableAmbientObscuranceMaterial;
	material.uniforms.uSamples.value = this.params.saoSamples;
	material.uniforms.uSpiralTurns.value = this.params.saoSpiralTurns;
	material.uniforms.uRadius.value = this.params.saoRadius;
	var rad6 = this.params.saoRadius*this.params.saoRadius*this.params.saoRadius;
	rad6*=rad6;
	material.uniforms.uIntensityDivR6.value = this.params.saoIntensity/rad6;
	material.uniforms.uBias.value = this.params.saoBias;
	material.uniforms.uBlur.value = this.params.saoBlur;
	material.uniforms.uCombine.value = this.params.combine;
	material.uniforms.uAmbientContribution.value = this.params.saoAmbientContribution;
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//BILATERAL BLUR SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	material = this.bilateralBlurMaterial;
	material.uniforms.uR.value = this.params.saoBlurR;
	material.uniforms.uScale.value = this.params.saoBlurScale;
	material.uniforms.uEdgeSharpness.value = this.params.saoBlurEdgeSharpness;
	material.uniforms.uCombine.value = this.params.combine;
	material.uniforms.uAmbientContribution.value = this.params.saoAmbientContribution;
	if(this.params.saoBlurR==3)
	{
		material.uniforms.uGaussian.value[0] = 0.153170; material.uniforms.uGaussian.value[1] = 0.144893; material.uniforms.uGaussian.value[2] = 0.122649; material.uniforms.uGaussian.value[3] = 0.092902;
	}
	else if(this.params.saoBlurR==4)
	{
		 material.uniforms.uGaussian.value[0] = 0.153170; material.uniforms.uGaussian.value[1] = 0.144893; material.uniforms.uGaussian.value[2] = 0.122649; material.uniforms.uGaussian.value[3] = 0.092902; material.uniforms.uGaussian.value[4] = 0.062970;
	}
	else if(this.params.saoBlurR==6)
	{
		material.uniforms.uGaussian.value[0] = 0.111220; material.uniforms.uGaussian.value[1] = 0.107798; material.uniforms.uGaussian.value[2] = 0.098151; material.uniforms.uGaussian.value[3] = 0.083953;
		material.uniforms.uGaussian.value[4] = 0.067458; material.uniforms.uGaussian.value[5] = 0.050920; material.uniforms.uGaussian.value[6] = 0.036108;
	}
	
}

//renderMode = "Default"/"LinearDepth"/"Normals"/"NormalsFromLinearDepth"/"ScalableAmbientObscurance"
AOPass.prototype.render = function(renderer, camera, scene, renderMode)
{
	function modelOverlay(target,material) // PB 2017-06-22
	{
		if (!options.modelOverlay)
		{
			if (controls && controls.room && controls.room.model)
			{
				renderer.autoClear = false;
				controls.room.model.image.overrideMaterial = scene.overrideMaterial;
				renderer.render( controls.room.model.image, camera, target, false );
				renderer.autoClear = true;
			}
		}
	}
	
	switch(renderMode)
	{
	case "LinearDepth":
	{
		scene.overrideMaterial = this.linearDepthRGBAEncodeMaterial;
		renderer.setClearColor( 0xffffff );
		renderer.render(scene, camera, this.depthRenderTarget, true);
		modelOverlay(this.depthRenderTarget) // PB 2017-06-22		
		scene.overrideMaterial = null;
		this.postPassScene.overrideMaterial = this.depthVisualizeMaterial;
		renderer.render(this.postPassScene, this.postPassCamera, null, true);
		break;
	}
	case "Normals":
	{
		scene.overrideMaterial = this.normalsEncodeMaterial;
		renderer.setClearColor( 0x000000 );
		renderer.render(scene, camera, this.normalsRenderTarget, true);
		modelOverlay(this.normalsRenderTarget); // PB 2017-06-22
		scene.overrideMaterial = null;
		this.postPassScene.overrideMaterial = this.textureVisualizeMaterial ;
		renderer.render(this.postPassScene, this.postPassCamera, null, true);
		break;
	}
	case "NormalsFromLinearDepth":
	{
		scene.overrideMaterial = this.linearDepthRGBAEncodeMaterial;
		renderer.setClearColor( 0xffffff );
		renderer.render(scene, camera, this.depthRenderTarget, true);
		modelOverlay(this.depthRenderTarget); // PB 2017-06-22
		scene.overrideMaterial = null;
		this.postPassScene.overrideMaterial = this.normalsFromLinearDepthVisualizeMaterial;
		renderer.setClearColor( 0x000000 );
		renderer.render(this.postPassScene, this.postPassCamera, null, true);
		break;
	}
	case "ScalableAmbientObscurance":
	{
		scene.overrideMaterial = this.linearDepthRGBAEncodeMaterial;
		renderer.setClearColor( 0xffffff );
		renderer.render(scene, camera, this.depthRenderTarget, true);
		modelOverlay(this.depthRenderTarget); // PB 2017-06-22
		scene.overrideMaterial = null;
		renderer.setClearColor( 0x000000 );
		if(this.params.combine)
		{
			renderer.render(scene, camera, this.diffuseRenderTarget, true);
			modelOverlay(this.diffuseRenderTarget); // PB 2017-06-22
		}
		this.postPassScene.overrideMaterial = this.scalableAmbientObscuranceMaterial;
		if(this.params.saoBlur)
		{
			renderer.render(this.postPassScene, this.postPassCamera, this.aoRenderTarget, true);
			
			this.postPassScene.overrideMaterial = this.bilateralBlurMaterial;
			this.bilateralBlurMaterial.uniforms.tAOResult.value = this.aoRenderTarget.texture;
			this.bilateralBlurMaterial.uniforms.uAxis.value.set(1.0/this.depthRenderTarget.width, 0.0);
			this.bilateralBlurMaterial.uniforms.uFinal.value = false;
			renderer.render(this.postPassScene, this.postPassCamera, this.depthRenderTarget, true);
			
			this.bilateralBlurMaterial.uniforms.tAOResult.value = this.depthRenderTarget.texture;
			this.bilateralBlurMaterial.uniforms.uAxis.value.set(0.0, 1.0/this.depthRenderTarget.height);
			this.bilateralBlurMaterial.uniforms.uFinal.value = true;
			renderer.render(this.postPassScene, this.postPassCamera, null, true);
		}
		else
			renderer.render(this.postPassScene, this.postPassCamera, null, true);
		break;
	}
	default:
	{
		renderer.render(scene, camera);
		modelOverlay(); // PB 2017-06-22
	}
	}
}

EncodeLinearDepthRGBAShader = {
	defines: {
	},

	uniforms: {
		"uCameraNear": {value: 0.0},
		"uCameraNearMinusCameraFarInv": {value: 0.0},
	},

	vertexShader: [
	
		"uniform highp mat4 modelViewMatrix;",
		"uniform mat4 projectionMatrix;",
		"attribute highp vec3 position;",
		"varying highp float viewSpaceDepth;",

		"void main() {",

			"gl_Position = modelViewMatrix*vec4( position, 1.0 );",
			"viewSpaceDepth = gl_Position.z;",
			"gl_Position = projectionMatrix*gl_Position;",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision highp float;",
		"varying highp float viewSpaceDepth;",
		"uniform highp float uCameraNear;",
		"uniform highp float uCameraNearMinusCameraFarInv;",

		// from https://skytiger.wordpress.com/2010/12/01/packing-depth-into-color/
		"const highp vec3 factor = vec3(1.0, 255.0, 65025.0);",
		"const highp float mask = 1.0 / 256.0;",
		
		"highp vec3 UnitToColor24(const in highp float unit) {",
		"	highp vec3 color = unit * factor.rgb;",
		"	color.gb = fract(color.gb);",
		"	color.rg -= color.gb * mask;",
		"	return clamp(color, 0.0, 1.0);",
		"}",

		"void main() {",

			"gl_FragColor = vec4(UnitToColor24((viewSpaceDepth+uCameraNear)*uCameraNearMinusCameraFarInv), 1.0 );",

		"}"

	].join( "\n" )

};


EncodeNormalsShader = {
	defines: {
		
	},

	uniforms: {
	},

	vertexShader: [
	
		"uniform mat4 modelViewMatrix;",
		"uniform mat4 projectionMatrix;",
		"attribute vec3 position;",
		"attribute vec3 normal;",
		"varying vec3 vNormal;",

		"void main() {",

			"vNormal = normalize((modelViewMatrix*vec4( normal, 0.0 ))).xyz;",
			"gl_Position = projectionMatrix*modelViewMatrix*vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision mediump float;",
		"varying vec3 vNormal;",

		"void main() {",

			"gl_FragColor = vec4(0.5*vNormal+0.5, 1.0);",
		"}"

	].join( "\n" )

};

DepthVisualizeShader = {
	defines: {
		
	},

	uniforms: {

		"tDepth": { value: null },
	},

	vertexShader: [

		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision mediump float;",
	
		"uniform highp sampler2D tDepth;",
		
		// from https://skytiger.wordpress.com/2010/12/01/packing-depth-into-color/
		"const highp vec3 factorinv = 1.0 / vec3(1.0, 255.0, 65025.0);",
		"highp float ColorToUnit24(const in highp vec3 color) {",
		"	return dot(color, factorinv);",
		"}",
		
		"varying vec2 vUv;",

		"void main() {",

			"highp vec4 texel = texture2D( tDepth, vUv );",
			"gl_FragColor = vec4(vec3(ColorToUnit24(texel.rgb)), 1.0);",

		"}"

	].join( "\n" )

};

TextureVisualizeShader = {
	defines: {
		
	},

	uniforms: {

		"tTexture": { value: null },
	},

	vertexShader: [

		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision mediump float;",
	
		"uniform sampler2D tTexture;",
		
		"varying vec2 vUv;",

		"void main() {",

			"vec4 texel = texture2D( tTexture, vUv );",
			"gl_FragColor = vec4(texel.xyz, 1.0);",

		"}"

	].join( "\n" )

};
NormalsFromLinearDepthVisualizeShader = {

	defines: {
		
	},

	uniforms: {

		"tDepth":       				{ value: null },
		"uCameraNear":  				{ value: 0.0 },
		"uCameraNearMinusCameraFar":	{ value: 0.0 },
		"uInverseProjectionAB":			{ value: new THREE.Vector2() },
		"uSize":						{ value: new THREE.Vector2() },
	},
	
	

	vertexShader: [
		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
	
		"precision highp float;",

		"varying vec2 vUv;",
		
		// rgba encoded linear depth
		"uniform sampler2D tDepth;",
		// inverse size: 1/(renderWidth, renderHeight)
		"uniform vec2 uSize;",
		"uniform float uCameraNear;",
		"uniform float uCameraNearMinusCameraFar;",
		//the 0th and 5th element of the inverse projection matrix
		"uniform vec2 uInverseProjectionAB;",

		// from https://skytiger.wordpress.com/2010/12/01/packing-depth-into-color/
		"const highp vec3 factorinv = 1.0 / vec3(1.0, 255.0, 65025.0);",
		"highp float ColorToUnit24(const in highp vec3 color) {",
		"	return dot(color, factorinv);",
		"}",
		
		"highp float depth(const in vec2 uv)",
		"{",
		"	return ColorToUnit24(texture2D( tDepth, uv ).rgb);",
		"}",
		
		// given uv coordinates and a dpeth value, find the position viewspace
		"vec3 positionViewspace(const in vec2 uv, const in float zViewport)",
		"{",
		"	float zViewspace = zViewport*uCameraNearMinusCameraFar-uCameraNear;",
		"	return vec3(uInverseProjectionAB*(1.0-2.0*uv)*zViewspace, zViewspace);",
		"}",
		// given uv coordinates find the position in viewspace
		"vec3 positionViewspace(const in vec2 uv)",
		"{",
		"	float zViewspace = depth(uv)*uCameraNearMinusCameraFar-uCameraNear;",
		"	return vec3(uInverseProjectionAB*(1.0-2.0*uv)*zViewspace, zViewspace);",
		"}",
		
		"vec2 dx = vec2(uSize.x, 0.0);",
		"vec2 dy = vec2(0.0, uSize.y);",
		
		"vec3 ddx(const in vec2 uv, const in vec3 C)",
		"{",
		"	return positionViewspace(vUv+dx)-C;",
		"}",
		
		"vec3 ddy(const in vec2 uv, const in vec3 C)",
		"{",
		"	return positionViewspace(vUv+dy)-C;",
		"}",
		
		"vec3 getNormal(const in vec2 uv, const in vec3 C)",
		"{",
			"return normalize(cross(ddx(uv, C), ddy(uv, C)));",
		"}",
				

		"void main() {",
			"highp float dp = depth(vUv);",
			"if(dp >= 1.0)",
			"	discard;",
			
			"gl_FragColor = vec4( 0.5*getNormal(vUv, positionViewspace(vUv, dp))+0.5, 1.0 );",

		"}"

	].join( "\n" )

};
/**
 \file SAO_AO.pix
 \author Morgan McGuire and Michael Mara, NVIDIA Research

 Reference implementation of the Scalable Ambient Obscurance (SAO) screen-space ambient obscurance algorithm. 
 
 The optimized algorithmic structure of SAO was published in McGuire, Mara, and Luebke, Scalable Ambient Obscurance,
 <i>HPG</i> 2012, and was developed at NVIDIA with support from Louis Bavoil.

 The mathematical ideas of AlchemyAO were first described in McGuire, Osman, Bukowski, and Hennessy, The 
 Alchemy Screen-Space Ambient Obscurance Algorithm, <i>HPG</i> 2011 and were developed at 
 Vicarious Visions.  
 
 DX11 HLSL port by Leonardo Zide of Treyarch

 <hr>

  Open Source under the "BSD" license: http://www.opensource.org/licenses/bsd-license.php

  Copyright (c) 2011-2012, NVIDIA
  All rights reserved.

  Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

  */

// Adapted for WebGL 1.0 by Vassillen Chizhov

ScalableAmbientObscuranceShader = {

	defines: {
		
	},

	uniforms: {

		"tDepth":       				{ value: null },
		"tDiffuse":       				{ value: null },
		"uCameraNear":  				{ value: 0.0 },
		"uCameraNearMinusCameraFar":	{ value: 0.0 },
		"uInverseProjectionAB":			{ value: new THREE.Vector2() },
		"uSize":						{ value: new THREE.Vector2() },
		
		"uRadius":  					{ value: 1.0 },
		"uIntensityDivR6":  			{ value: 1.0 },
		"uBias":  						{ value: 0.01 },
		"uProjScale":  					{ value: 1.0 },
		
		"uSamples":  					{ value: 11.0 },
		"uSpiralTurns":  				{ value: 7.0 },
		
		"uBlur":  						{ value: false },
		"uCombine":  					{ value: false },
		"uAmbientContribution":  		{ value: 0.2 },
	},
	
	

	vertexShader: [
		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
	
		"precision highp float;",

		"varying vec2 vUv;",
		
		"#define PI 3.14159265359",
		"#define PI2 6.28318530718",
		"#define EPSILON 0.01",
		"#define MAX_SAMPLES 128.0",
		//"#define NUM_SPIRAL_TURNS 7.0",
		
		
		// rgb encoded linear depth
		"uniform highp sampler2D tDepth;",
		"uniform sampler2D tDiffuse;",
		// inverse size: 1/(renderWidth, renderHeight)
		"uniform vec2 uSize;",
		"uniform float uCameraNear;",
		"uniform float uCameraNearMinusCameraFar;",
		//the 0th and 5th element of the inverse projection matrix
		"uniform vec2 uInverseProjectionAB;",
		
		/* The height in pixels of a 1m object if viewed from 1m away.  
		You can compute it from your projection matrix.  The actual value is just
		a scale factor on radius; you can simply hardcode this to a constant (~500)
		and make your radius value unitless (...but resolution dependent.)  */
		// in this case it's not pixels, since the texutres are defined in [0,1]x[0,1]
		// Let p1 be a point in viewspace: p1 = (0,1,-1)(object with height 1 at distance 1 from the camera), then:
		// (cameraProjection*p1).y/-p1.z = projection of the y coordinate: n/t - uProjScale == n/t == projectionMatrix[5]
		"uniform float uProjScale;",
		
		// user variables
		"uniform float uRadius;",
		"uniform float uIntensityDivR6;",
		"uniform float uBias;",
		
		"uniform float uSamples;",
		"uniform float uSpiralTurns;",
		
		"uniform bool uBlur;",
		"uniform bool uCombine;",
		"uniform float uAmbientContribution;",
		
		// precomputed stuff
		"vec2 dx = vec2(uSize.x, 0.0);",
		"vec2 dy = vec2(0.0, uSize.y);",
		"float radius2 = uRadius*uRadius;",
		"float invMaxSamples = 1.0/uSamples;",

		// from https://skytiger.wordpress.com/2010/12/01/packing-depth-into-color/
		"const highp vec3 factorinv = 1.0 / vec3(1.0, 255.0, 65025.0);",
		"highp float ColorToUnit24(const in highp vec3 color) {",
		"	return dot(color, factorinv);",
		"}",
		
		"highp float depth(const in vec2 uv)",
		"{",
		"	return ColorToUnit24(texture2D( tDepth, uv ).rgb);",
		"}",
		
		// position reconstruction:
		
		// given uv coordinates and a dpeth value, find the position viewspace
		"vec3 positionViewspace(const in vec2 uv, const in highp float zViewport)",
		"{",
		"	float zViewspace = zViewport*uCameraNearMinusCameraFar-uCameraNear;",
		"	return vec3(uInverseProjectionAB*(1.0-2.0*uv)*zViewspace, zViewspace);",
		"}",
		// given uv coordinates find the position in viewspace
		"vec3 positionViewspace(const in vec2 uv)",
		"{",
		"	float zViewspace = depth(uv)*uCameraNearMinusCameraFar-uCameraNear;",
		"	return vec3(uInverseProjectionAB*(1.0-2.0*uv)*zViewspace, zViewspace);",
		"}",
		
		// rand from three js
		"float rand( const in vec2 uv ) {",
		"	const float a = 12.9898, b = 78.233, c = 43758.5453;",
		"	float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );",
		"	return fract(sin(sn) * c);",
		"}",
		
		
		
		/* Returns a unit vector and a screen-space radius for the tap on a unit disk (the caller should scale by the actual disk radius) */
		"vec2 tapLocation(const in float sampleNumber, const in float spinAngle, out float ssR){",
			// Radius relative to ssR
		"	float alpha = (sampleNumber + 0.5) * invMaxSamples;",
		"	float angle = alpha * uSpiralTurns * PI2 + spinAngle;",

		"	ssR = alpha;",
		"	return vec2(cos(angle), sin(angle));",
		"}",
		
		/* Read the camera-space position of the point at screen-space pixel ssP + unitOffset * ssR.  Assumes length(unitOffset) == 1 */
		"vec3 getOffsetPosition(const in vec2 ssC, const in vec2 unitOffset, const in float ssR) {",
			//  Derivation:
			//  mipLevel = floor(log(ssR / MAX_OFFSET));
			//int mipLevel = clamp((int)floor(log2(ssR)) - LOG_MAX_OFFSET, 0, MAX_MIP_LEVEL);

			"vec2 ssP = ssC + ssR*unitOffset;",

			"vec3 P;",

			// Divide coordinate by 2^mipLevel
			//P.z = CS_Z_buffer.Load(int3(ssP >> mipLevel, mipLevel)).r;

			// Offset to pixel center
			"P = positionViewspace(ssP, depth(ssP));",

			"return P;",
		"}",
		
		/* Compute the occlusion due to sample with index i about the pixel at ssC that corresponds
		to camera-space point C with unit normal n_C, using maximum screen-space sampling radius ssDiskRadius */
		"float sampleAO(const in vec2 ssC, const in vec3 C, const in vec3 n_C, const in float ssDiskRadius, const in float tapIndex, const in float randomPatternRotationAngle) {",
			// Offset on the unit disk, spun for this pixel
		"	float ssR;",
		"	vec2 unitOffset = tapLocation(tapIndex, randomPatternRotationAngle, ssR);;",
		"	ssR *= ssDiskRadius;",

			// The occluding point in camera space
		"	vec3 Q = getOffsetPosition(ssC, unitOffset, ssR);",

		"	vec3 v = Q - C;",

		"	float vv = dot(v, v);",
		"	float vn = dot(v, n_C);",
		
		// A: From the HPG12 paper
		// Note large epsilon to avoid overdarkening within cracks
		//"return float(vv < radius2) * max((vn - uBias) / (EPSILON + vv), 0.0) * radius2 * 0.6;",
		
		// B: Smoother transition to zero (lowers contrast, smoothing out corners). [Recommended]
		"	float f = max(radius2 - vv, 0.0); return f * f * f * max((vn - uBias) / (EPSILON + vv), 0.0);",
		
		// C: Medium contrast (which looks better at high radii), no division.  Note that the 
		// contribution still falls off with radius^2, but we've adjusted the rate in a way that is
		// more computationally efficient and happens to be aesthetically pleasing.
		//"return 4.0 * max(1.0 - vv * invRadius2, 0.0) * max(vn - uBias, 0.0);",
		
		// D: Low contrast, no division operation
		//"return 2.0 * float(vv < radius * radius) * max(vn - bias, 0.0);",
		
		"}",

		"void main() {",
			"highp float dp = depth(vUv);",
			// other values can be chosen to limit the effect of AO to a certain distance, currently only pixels with no geometry get discarded
			"if(dp >= 1.0) discard;",
			// viewspace position of the pixel being shaded
			"vec3 C = positionViewspace(vUv, dp);",
			//in the original paper: float randomPatternRotationAngle = (3 * ssC.x ^ ssC.y + ssC.x * ssC.y) * 10;
			//glsl 3.0> doesn't support bitwise operations though, so:
			"float randomPatternRotationAngle = rand(vUv)*PI2;",
			// normal of the pixel being shaded
			"vec3 right = positionViewspace(vUv+dx)-C;",
			"vec3 up = positionViewspace(vUv+dy)-C;",
			"vec3 n_C = normalize(cross(right, up));",
			// there's a minus since C.z is negative, camera is looking along -z in viewspace
			"float ssDiskRadius = -uProjScale * uRadius / C.z;",
			
			"float sum = 0.0;",
			"for (float i = 0.0; i < MAX_SAMPLES; ++i) {",
			"	 if(i==uSamples) break;",
			"	 sum += sampleAO(vUv, C, n_C, ssDiskRadius, i, randomPatternRotationAngle);",
			"}",

			"float A = max(0.0, 1.0 - sum * uIntensityDivR6 * 5.0 * invMaxSamples);",

			// Bilateral box-filter over a quad for free, respecting depth edges
			// (the difference that this makes is subtle)
			/*("if (abs(right.z) < 0.02) {",
			"	A -= ddx(A) * ((ssC.x & 1) - 0.5);",
			"}",
			"if (abs(up.z) < 0.02) {",
			"	A -= ddy(A) * ((ssC.y & 1) - 0.5);",
			"}",*/
			"gl_FragColor = uBlur ? vec4(texture2D( tDepth, vUv ).rgb, A) : uCombine ? vec4( uAmbientContribution*A*texture2D(tDiffuse, vUv).rgb, 1.0 ) : vec4( vec3(A), 1.0 );",
		"}"

	].join( "\n" )

};
/** 
  \file SAO_blur.pix
  \author Morgan McGuire and Michael Mara, NVIDIA Research

  \brief 7-tap 1D cross-bilateral blur using a packed depth key

  DX11 HLSL port by Leonardo Zide, Treyarch
  
  Open Source under the "BSD" license: http://www.opensource.org/licenses/bsd-license.php

  Copyright (c) 2011-2012, NVIDIA
  All rights reserved.

  Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

  Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

// Adapted for WebGL 1.0 by Vassillen Chizhov

BilateralBlurShader = {

	defines: {
		MAX_R: 6
	},

	uniforms: {

		"tAOResult":       				{ value: null },
		"tDiffuse":       				{ value: null },
		"uAxis":						{ value: new THREE.Vector2() },
		"uFinal":						{ value: false },
		
		"uEdgeSharpness":				{ value: 0.01 },
		"uScale":						{ value: 1.0 },
		"uR":							{ value: 6 },
		"uGaussian":					{ value: Array.apply(null, Array(7)).map(function (x,i) { return 0.0; }) },
		
		"uCombine":  					{ value: false },
		"uAmbientContribution":  		{ value: 0.2 },
	},
	
	

	vertexShader: [
		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",
			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
	
		"precision mediump float;",
		
		"varying vec2 vUv;",
		
		/** Increase to make depth edges crisper. Decrease to reduce flicker. */
		"uniform float uEdgeSharpness;",
		"",
		/** Step in 2-pixel intervals since we already blurred against neighbors in the
		    first AO pass.  This constant can be increased while R decreases to improve
		    performance at the expense of some dithering artifacts. 

		    Morgan found that a scale of 3 left a 1-pixel checkerboard grid that was
		    unobjectionable after shading was applied but eliminated most temporal incoherence
		    from using small numbers of sample taps.
		    */
		"uniform float uScale;",
		
		/** Filter radius in pixels. This will be multiplied by SCALE. */
		
		"uniform int uR;",
		"uniform float uGaussian[MAX_R+1];",

		
		//////////////////////////////////////////////////////////////////////////////////////////////

		
		/** Channel encoding the bilateral key value (which must not be the same as VALUE_COMPONENTS) */
		
		"uniform highp sampler2D   tAOResult;",
		
		
		/** (1/width, 0) or (0, 1/height)*/
		"uniform vec2       uAxis;",
		"uniform bool       uFinal;",
		
		"uniform sampler2D   tDiffuse;",
		"uniform bool uCombine;",
		"uniform float uAmbientContribution;",
		
		// from https://skytiger.wordpress.com/2010/12/01/packing-depth-into-color/
		"const highp vec3 factorinv = 1.0 / vec3(1.0, 255.0, 65025.0);",
		"highp float ColorToUnit24(const in highp vec3 color) {",
		"	return dot(color, factorinv);",
		"}",
		
		"void main() {",
		
		"    vec4 texel = texture2D(tAOResult, vUv);",
		"    float dp  = ColorToUnit24(texel.rgb);",

		"    float sum = texel.a;",

		/*"    if (dp == 1.0) { ",
		        // Sky pixel (if you aren't using depth keying, disable this test)
				//sum
		"        gl_FragColor = vec4(vec3(0.0),1.0);",
		"        return;",
		"    }",*/

		    // Base weight for depth falloff.  Increase this for more blurriness,
		    // decrease it for better edge discrimination
		"    float BASE = uGaussian[0];",
		"    float totalWeight = BASE;",
		"    sum *= totalWeight;",

		"    for (int r = 1; r <= MAX_R; ++r) {",
		"		if(r==uR+1) break;",
		"       vec4 temp = texture2D(tAOResult, vUv + uAxis * float(r) * uScale);",
		"       float      dp2 = ColorToUnit24(temp.rgb);",
		"       float value    = temp.a;",
				// spatial domain: offset gaussian tap
		"       float weight = 0.3 + uGaussian[r];",
				// range domain (the "bilateral" weight). As depth difference increases, decrease weight.
		"       weight *= max(0.0, 1.0",
		"           - (uEdgeSharpness * 2000.0) * abs(dp2 - dp)",
		"           );",
		"       sum += value * weight;",
		"       totalWeight += weight;",
		
		"       temp = texture2D(tAOResult, vUv - uAxis * float(r) * uScale);",
		"       dp2 = ColorToUnit24(temp.rgb);",
		"       value    = temp.a;",
				// spatial domain: offset gaussian tap
		"       weight = 0.3 + uGaussian[-r];",
				// range domain (the "bilateral" weight). As depth difference increases, decrease weight.
		"       weight *= max(0.0, 1.0",
		"           - (uEdgeSharpness * 2000.0) * abs(dp2 - dp)",
		"           );",
		"       sum += value * weight;",
		"       totalWeight += weight;",		

		"    }",

		"    const float epsilon = 0.0001;",
		"	 float blurred = sum / (totalWeight + epsilon);",
		"    gl_FragColor = uFinal ? uCombine? vec4(blurred*uAmbientContribution*texture2D(tDiffuse,vUv).rgb,1.0): vec4(vec3(blurred),1.0) : vec4(texel.rgb, blurred);",
		"}", 

	].join( "\n" )

};
// FSSAO shaders
// based on THREE.js FSSAOSHader.js by alteredq / http://alteredqualia.com/
MEIRO.SHADER.FSSAO = {
	uniforms: {
		"tDiffuse":     { value: null },
		"tDepth":       { value: null },
		"size":         { value: new THREE.Vector2( 512, 512 ) },
		"cameraNear":   { value: 1 },
		"cameraFar":    { value: 100 },
		"aoClamp":      { value: 0.15 },
	},

	vertexShader: [
		"varying vec2 vUv;",
		"void main()",
		"{",
			"vUv = uv;",
			"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
		"}"

	].join( "\n" ),

	fragmentShader: [
		"uniform float cameraNear;",
		"uniform float cameraFar;",

		"uniform vec2 size;",        // texture width, height
		"uniform float aoClamp;",    // depth clamp - reduces haloing at screen edges

		"uniform float lumInfluence;",  // how much luminance affects occlusion

		"uniform sampler2D tDiffuse;",
		"uniform sampler2D tDepth;",

		"varying vec2 vUv;",

		// "#define PI 3.14159265",
		"#define DL 2.399963229728653",  // PI * ( 3.0 - sqrt( 5.0 ) )
		"#define EULER 2.718281828459045",

		// user variables

		"const int samples = 6;",     // ao sample count
		"const float radius = 20.0;",  // ao radius

		"const float diffArea = 0.5;",   // self-shadowing reduction
		"const float gDisplace = 0.5;",  // gauss bell center
		"const float noiseAmount = 0.0005;",  // gauss bell center

		// RGBA depth
		"#include <packing>",

		// generating noise / pattern texture for dithering
		"vec2 rand( const vec2 coord )",
		"{",
			"float nx = dot ( coord, vec2( 12.9898, 78.233 ) );",
			"float ny = dot ( coord, vec2( 12.9898, 78.233 ) * 2.0 );",
			"vec2 noise = clamp( fract ( 43758.5453 * sin( vec2( nx, ny ) ) ), 0.0, 1.0 );",
			"return ( noise * 2.0  - 1.0 ) * noiseAmount;",
		"}",

		// get the depth at given coordinates
		"float readDepth( const in vec2 coord )",
		"{",
			"float cameraFarPlusNear = cameraFar + cameraNear;",
			"float cameraFarMinusNear = cameraFar - cameraNear;",
			"float cameraCoef = 2.0 * cameraNear;",

			"float z = unpackRGBAToDepth( texture2D( tDepth, coord ) );",

			"return cameraCoef / ( cameraFarPlusNear - z * cameraFarMinusNear );",
		"}",

		"float compareDepths( const in float depth1, const in float depth2, inout int far )",
		"{",
			"float garea = 2.0;",                         // gauss bell width
			"float diff = ( depth1 - depth2 ) * 100.0;",  // depth difference (0-100)

			// reduce left bell width to avoid self-shadowing
			"if ( diff < gDisplace )",
			"{",
				"garea = diffArea;",
			"} else {",
				"far = 1;",
			"}",

			"float dd = diff - gDisplace;",
			"float gauss = pow( EULER, -2.0 * dd * dd / ( garea * garea ) );",
			"return gauss;",
		"}",

		"float calcAO( float depth, float dw, float dh )",
		"{",
			"float dd = radius - depth * radius;",
			"vec2 vv = vec2( dw, dh );",

			"vec2 coord1 = vUv + dd * vv;",
			"vec2 coord2 = vUv - dd * vv;",

			"float temp1 = 0.0;",
			"float temp2 = 0.0;",

			"int far = 0;",
			"temp1 = compareDepths( depth, readDepth( coord1 ), far );",

			// DEPTH EXTRAPOLATION

			"if ( far > 0 )",
			"{",
				"temp2 = compareDepths( readDepth( coord2 ), depth, far );",
				"temp1 += ( 1.0 - temp1 ) * temp2;",
			"}",

			"return pow(abs(temp1),0.2);",
		"}",

		"void main()",
		"{",
			"vec2 noise = rand( vUv );",
			"float depth = readDepth( vUv );",

			"float tt = clamp( depth, aoClamp, 1.0 );",

			"float w = ( 1.0 / size.x ) / tt + ( noise.x * ( 1.0 - noise.x ) );",
			"float h = ( 1.0 / size.y ) / tt + ( noise.y * ( 1.0 - noise.y ) );",

			"float ao = 0.0;",

			"float dz = 0.5 / float( samples );", 
			"float z = 1.0 - dz / 2.0;",
			"float l = vUv.x+vUv.y;",

			"for ( int i = 0; i <= samples; i ++ )",
			"{",
				"float r = sqrt( 1.0 - z );",

				"float pw = cos( l ) * r;",
				"float ph = sin( l ) * r;",
				"ao += calcAO( depth, pw * w, ph * h );",
				"z = z - dz;",
				"l = l + DL;",
			"}",

			"ao /= float( samples );",
			"ao = pow(abs(1.0-ao),0.125);",

			"vec3 color = texture2D( tDiffuse, vUv ).rgb;",
			"ao = ao*(1.0-pow(depth,4.0));",
			"ao = clamp((ao - 0.5) * 1.3 + 0.5, 0.0, 1.0);",
			"vec3 final = ao*color;",
			"gl_FragColor = vec4( final, 1.0 );",
		"}"
	].join( "\n" )
};

EncodeDepthRGBAShader = {
	defines: {
	},

	uniforms: {
	},

	vertexShader: [
	
		"uniform mat4 modelViewMatrix;",
		"uniform mat4 projectionMatrix;",
		"attribute vec3 position;",

		"void main() {",

			"gl_Position = projectionMatrix*modelViewMatrix*vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision highp float;",

		"const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)",
		"const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );",
		"const float ShiftRight8 = 1. / 256.;",
		
		"vec4 packDepthToRGBA( const in float v ) {",
		"	vec4 r = vec4( fract( v * PackFactors ), v );",
		"	r.yzw -= r.xyz * ShiftRight8; // tidy overflow",
		"	return r * PackUpscale;",
		"}",

		"void main() {",

			"gl_FragColor = packDepthToRGBA( gl_FragCoord.z );",

		"}"

	].join( "\n" )

};
/**
 * @author alteredq / http://alteredqualia.com/
 *
 * Screen-space ambient occlusion shader
 * - ported from
 *   SSAO GLSL shader v1.2
 *   assembled by Martins Upitis (martinsh) (http://devlog-martinsh.blogspot.com)
 *   original technique is made by ArKano22 (http://www.gamedev.net/topic/550699-ssao-no-halo-artifacts/)
 * - modifications
 * - modified to use RGBA packed depth texture (use clear color 1,1,1,1 for depth pass)
 * - refactoring and optimizations
 */

ArKano22SSAOShader = {

	defines: {
		MAX_SAMPLES: 32
	},

	uniforms: {

		"tDiffuse":     { value: null },
		"tDepth":       { value: null },
		"uSize":        { value: new THREE.Vector2( 512, 512 ) },
		"uCameraNear":  { value: 1 },
		"uCameraFar":   { value: 100 },
		"uCombine":     { value: 0 },
		"uAOClamp":     { value: 0.5 },
		"uLumInfluence":{ value: 0.5 },
		"uSamples":		{ value: 8   },
		"uUseNoise":	{ value: false },
		"uRadius":		{ value: 5.0 },
		"uNoiseAmount": { value: 0.0003 },
		"uDiffArea":	{ value: 0.4 },
		"uGDisplace":	{ value: 0.4 },
	},

	vertexShader: [

		"attribute vec3 position;",
		"attribute vec2 uv;",
		"varying vec2 vUv;",

		"void main() {",

			"vUv = uv;",

			"gl_Position = vec4( position, 1.0 );",

		"}"

	].join( "\n" ),

	fragmentShader: [
		"precision highp float;",
		"uniform float uCameraNear;",
		"uniform float uCameraFar;",

		"uniform bool uCombine;",      // combine with the image from the render pass

		"uniform vec2 uSize;",        // texture width, height
		"uniform float uAOClamp;",    // depth clamp - reduces haloing at screen edges

		"uniform float uLumInfluence;",  // how much luminance affects occlusion

		"uniform sampler2D tDiffuse;",
		"uniform highp sampler2D tDepth;",

		"varying vec2 vUv;",

		// "#define PI 3.14159265",
		"#define DL 2.399963229728653",  // PI * ( 3.0 - sqrt( 5.0 ) )
		"#define EULER 2.718281828459045",

		// user variables

		"uniform int   uSamples;",     // ao sample count
		"uniform float uRadius;",    // ao radius

		"uniform bool  uUseNoise;",      	 // use noise instead of pattern for sample dithering
		"uniform float uNoiseAmount;",       // dithering amount

		"uniform float uDiffArea;",      // self-shadowing reduction
		"uniform float uGDisplace;",    // gauss bell center


		// RGBA depth

		"#include <packing>",

		// generating noise / pattern texture for dithering

		"vec2 rand( const vec2 coord ) {",

			"vec2 noise;",

			"if ( uUseNoise ) {",

				"float nx = dot ( coord, vec2( 12.9898, 78.233 ) );",
				"float ny = dot ( coord, vec2( 12.9898, 78.233 ) * 2.0 );",

				"noise = clamp( fract ( 43758.5453 * sin( vec2( nx, ny ) ) ), 0.0, 1.0 );",

			"} else {",

				"float ff = fract( 1.0 - coord.s * ( uSize.x / 2.0 ) );",
				"float gg = fract( coord.t * ( uSize.y / 2.0 ) );",

				"noise = vec2( 0.25, 0.75 ) * vec2( ff ) + vec2( 0.75, 0.25 ) * gg;",

			"}",

			"return ( noise * 2.0  - 1.0 ) * uNoiseAmount;",

		"}",

		"float readDepth( const in vec2 coord ) {",

			"float cameraFarPlusNear = uCameraFar + uCameraNear;",
			"float cameraFarMinusNear = uCameraFar - uCameraNear;",
			"float cameraCoef = 2.0 * uCameraNear;",
			"float z = unpackRGBAToDepth( texture2D( tDepth, coord ) );",
			"return cameraCoef / ( cameraFarPlusNear - z * cameraFarMinusNear );",


		"}",

		"float compareDepths( const in float depth1, const in float depth2, inout int far ) {",

			"float garea = 2.0;",                         // gauss bell width
			"float diff = ( depth1 - depth2 ) * 100.0;",  // depth difference (0-100)

			// reduce left bell width to avoid self-shadowing

			"if ( diff < uGDisplace ) {",

				"garea = uDiffArea;",

			"} else {",

				"far = 1;",

			"}",

			"float dd = diff - uGDisplace;",
			"float gauss = pow( EULER, -2.0 * dd * dd / ( garea * garea ) );",
			"return gauss;",

		"}",

		"float calcAO( float depth, float dw, float dh ) {",

			"float dd = uRadius - depth * uRadius;",
			"vec2 vv = vec2( dw, dh );",

			"vec2 coord1 = vUv + dd * vv;",
			"vec2 coord2 = vUv - dd * vv;",

			"float temp1 = 0.0;",
			"float temp2 = 0.0;",

			"int far = 0;",
			"temp1 = compareDepths( depth, readDepth( coord1 ), far );",

			// DEPTH EXTRAPOLATION

			"if ( far > 0 ) {",

				"temp2 = compareDepths( readDepth( coord2 ), depth, far );",
				"temp1 += ( 1.0 - temp1 ) * temp2;",

			"}",

			"return temp1;",

		"}",

		"void main() {",

			"float depth = readDepth( vUv );",
			"if(depth>0.99) discard;",
			"vec2 noise = rand( vUv );",

			"float tt = clamp( depth, uAOClamp, 1.0 );",

			"float w = ( 1.0 / uSize.x )  / tt + ( noise.x * ( 1.0 - noise.x ) );",
			"float h = ( 1.0 / uSize.y ) / tt + ( noise.y * ( 1.0 - noise.y ) );",

			"float ao = 0.0;",

			"float dz = 1.0 / float( uSamples );",
			"float z = dz * 0.5;",
			"float l = 0.0;",

			"for ( int i = 0; i <= MAX_SAMPLES; i ++ ) {",

				"if(uSamples==i)",
				"	break;",
				"float r = sqrt( z );",

				"float pw = cos( l ) * r;",
				"float ph = sin( l ) * r;",
				"ao += calcAO( depth, pw * w, ph * h );",
				"z = z + dz;",
				"l = l + DL;",
			"}",

			"ao /= float( uSamples );",
			"ao = 1.0 - ao;",

			
			"vec3 luminance = vec3( 1.0 );",

			
			"vec3 final;",  
			"if ( uCombine ) {",

				"vec3 color = texture2D( tDiffuse, vUv ).rgb;",
				"vec3 lumcoeff = vec3( 0.299, 0.587, 0.114 );",
				"float lum = dot( color.rgb, lumcoeff );",
				"vec3 luminance = vec3( lum );",
				"final = vec3( color * mix( vec3( ao ), vec3( 1.0 ), luminance * uLumInfluence ) );",

			"}",
			"else{",

				"final = vec3( mix( vec3( ao ), vec3( 1.0 ), luminance * uLumInfluence ) );",  // ambient occlusion only

			"}",

			"gl_FragColor = vec4( final, 1.0 );",

		"}"

	].join( "\n" )

};
Arkano22SSAOPass = function(params)
{
	//record for later use
	this.params = params;
	
	var shader = undefined;
	var material = undefined;	
	////////////////////////////////////////////////////////////////////////////////////////////
	//DEPTH RGBA ENCODE
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = EncodeDepthRGBAShader;
	this.depthRGBAEncodeMaterial = new THREE.RawShaderMaterial({
		defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	
	var pars = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, stencilBuffer: false };
	this.prePassRenderTarget = new THREE.WebGLRenderTarget( window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier, pars );
	this.prePassRenderTarget2 = new THREE.WebGLRenderTarget( window.innerWidth, window.innerHeight, pars );
	
	//used to draw the texture
	this.prePassScene = new THREE.Scene();
	this.prePassCamera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );
	this.prePassQuad = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), this.depthVisualizeMaterial );
	this.prePassQuad.frustumCulled = false; // Avoid getting clipped
	this.prePassScene.add( this.prePassQuad );
	
	////////////////////////////////////////////////////////////////////////////////////////////
	//ARKANO22 SSAO SHADER
	////////////////////////////////////////////////////////////////////////////////////////////
	shader = ArKano22SSAOShader;
	this.ArKano22SSAOMaterial = new THREE.RawShaderMaterial({
		defines: shader.defines,
		uniforms: THREE.UniformsUtils.clone( shader.uniforms ),
		vertexShader: shader.vertexShader,
		fragmentShader: shader.fragmentShader
	});
	material = this.ArKano22SSAOMaterial;
	material.uniforms[ "tDepth" ].value = this.prePassRenderTarget.texture;
	material.uniforms[ "tDiffuse" ].value = this.prePassRenderTarget2.texture;
	material.depthTest = false;
	material.depthWrite = false;
	
	
}

Arkano22SSAOPass.prototype.resize = function()
{
	this.prePassRenderTarget.setSize(window.innerWidth*this.params.widthMultiplier, window.innerHeight*this.params.heightMultiplier);
	
	var material = undefined;
	material = this.ArKano22SSAOMaterial;
	material.uniforms[ 'uSize' ].value.set( this.prePassRenderTarget.width, this.prePassRenderTarget.height );
}

Arkano22SSAOPass.prototype.updateCamera = function(camera)
{
	var material = undefined;
	
	material = this.ArKano22SSAOMaterial;
	material.uniforms[ 'uCameraNear' ].value = camera.near;
	material.uniforms[ 'uCameraFar' ].value = camera.far;
}

Arkano22SSAOPass.prototype.updateParameters = function()
{
	var material = undefined;
	material = this.ArKano22SSAOMaterial;
	material.uniforms[ 'uCombine' ].value = this.params.combine;
	material.uniforms[ 'uAOClamp'].value = this.params.aoClamp;
	material.uniforms[ 'uLumInfluence'].value = this.params.lumInfluence;
	material.uniforms[ 'uSamples'].value = this.params.samples;
	material.uniforms[ 'uAOClamp'].value = this.params.aoClamp;
	material.uniforms[ 'uUseNoise'].value = this.params.useNoise;
	material.uniforms[ 'uRadius'].value = this.params.radius;
	material.uniforms[ 'uNoiseAmount'].value = this.params.noiseAmount;
	material.uniforms[ 'uDiffArea'].value = this.params.diffArea;
	material.uniforms[ 'uGDisplace'].value = this.params.gaussDisplace;
}

//renderMode = "Default"/"Depth"/"ViewSpaceDepth"/"Normals"/"ViewSpaceNormals"
Arkano22SSAOPass.prototype.render = function(renderer, camera, scene)
{
	function modelOverlay(target) // PB 2017-06-22
	{
		if (!options.modelOverlay)
		{
			if (controls && controls.room && controls.room.model)
			{
				renderer.autoClear = false;
				controls.room.model.image.overrideMaterial = scene.overrideMaterial;
				renderer.render( controls.room.model.image, camera, target, false );
				renderer.autoClear = true;
			}
		}
	}
	
	scene.overrideMaterial = this.depthRGBAEncodeMaterial;
	renderer.setClearColor( 0xffffff );
	renderer.render(scene, camera, this.prePassRenderTarget, true);
	modelOverlay(this.prePassRenderTarget); // PB 2017-06-22
	scene.overrideMaterial = null;
	if(this.params.combine)
	{
		renderer.setClearColor( 0x000000 );
		renderer.render(scene, camera, this.prePassRenderTarget2, true);
		modelOverlay(this.prePassRenderTarget2); // PB 2017-06-22
	}
 	renderer.setClearColor( 0x000000 );
	this.prePassScene.overrideMaterial = this.ArKano22SSAOMaterial;
	renderer.render(this.prePassScene, this.prePassCamera, null, true);
	scene.overrideMaterial = null; 
	
}
document.write('<script>MEIRO.demoMode();</script><div id="infoPanel" class="infoPanel" onclick="MEIRO.hideInfo()"></div>');
